function define(e,t,n){if(typeof e!="string")throw new Error("Error: Module name is not a string");arguments.length==2?n=t:n.deps=t,define.debugDependencies&&console.log("define: "+e+" -> "+n.toString().slice(0,40).replace(/\n/,"\\n").replace(/\r/,"\\r")+"...");if(e in define.modules)throw new Error("Error: Redefining module: "+e);n.__uncompiled=!0,define.modules[e]=n}define.modules={},define.debugDependencies=!1,function(){function e(){this.modules={},define.debugDependencies&&(this.depth="")}e.prototype.require=function(e,t,n){arguments.length<=2&&(n=t,t=e,e=undefined);if(Array.isArray(t)){var r=t.map(function(e){return this.lookup(e)},this);return n&&n.apply(null,r),undefined}return this.lookup(t)},e.prototype.lookup=function(e){if(e in this.modules){var t=this.modules[e];return define.debugDependencies&&console.log(this.depth+" Using module: "+e),t}if(e in define.modules){var t=define.modules[e];define.debugDependencies&&console.log(this.depth+" Compiling module: "+e);if(t.__uncompiled){define.debugDependencies&&(this.depth+=".");var n={};try{var r=t.deps.map(function(t){return t==="require"?this.require.bind(this):t==="exports"?n:t==="module"?{id:e,uri:""}:this.lookup(t)}.bind(this)),i=t.apply(null,r);t=i!==undefined?i:n}catch(s){throw console.error("Error using module: "+e,s),s}define.debugDependencies&&(this.depth=this.depth.slice(0,-1))}return this.modules[e]=t,t}throw new Error("Missing module: "+e)},define.Domain=e,define.globalDomain=new e}();var require=define.globalDomain.require.bind(define.globalDomain);define("gcli/index",["require","exports","module","gcli/legacy","gcli/canon","gcli/types/basic","gcli/types/command","gcli/types/javascript","gcli/types/node","gcli/types/resource","gcli/types/selection","gcli/types/setting","gcli/settings","gcli/cli","gcli/ui/intro","gcli/ui/focus","gcli/ui/fields/basic","gcli/ui/fields/javascript","gcli/ui/fields/selection","gcli/ui/display"],function(e,t,n){e("gcli/legacy"),t.addCommand=e("gcli/canon").addCommand,t.removeCommand=e("gcli/canon").removeCommand,e("gcli/types/basic").startup(),e("gcli/types/command").startup(),e("gcli/types/javascript").startup(),e("gcli/types/node").startup(),e("gcli/types/resource").startup(),e("gcli/types/selection").startup(),e("gcli/types/setting").startup(),e("gcli/settings").startup(),e("gcli/cli").startup(),e("gcli/ui/intro").startup(),e("gcli/ui/focus").startup(),e("gcli/ui/fields/basic").startup(),e("gcli/ui/fields/javascript").startup(),e("gcli/ui/fields/selection").startup();var r=e("gcli/ui/display");t.createDisplay=function(e){return r.createDisplay(e||{})},t.createView=t.createDisplay}),define("gcli/legacy",["require","exports","module"],function(e,t,n){if(typeof window=="undefined"||typeof document=="undefined")return;window.console==null&&(window.console={}),"debug,log,warn,error,trace,group,groupEnd".split(",").forEach(function(e){window.console[e]||(window.console[e]=function(){})}),!("classList"in document.documentElement)&&Object.defineProperty&&typeof HTMLElement!="undefined"&&Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function t(t){return function(n){var r=e.className.split(/\s+/),i=r.indexOf(n);t(r,i,n),e.className=r.join(" ")}}var e=this,n={add:t(function(e,t,n){~t||e.push(n)}),remove:t(function(e,t){~t&&e.splice(t,1)}),toggle:t(function(e,t,n){~t?e.splice(t,1):e.push(n)}),contains:function(t){return!!~e.className.split(/\s+/).indexOf(t)},item:function(t){return e.className.split(/\s+/)[t]||null}};return Object.defineProperty(n,"length",{get:function(){return e.className.split(/\s+/).length}}),n}}),typeof Range.prototype.createContextualFragment=="undefined"&&(Range.prototype.createContextualFragment=function(e){var t=this.startContainer,n=t.nodeType==9?t:t.ownerDocument,r=n.createElement("div");r.innerHTML=e;var i=n.createDocumentFragment(),s;while(s=r.firstChild)i.appendChild(s);return i}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return String(this).replace(/\s*$/,"")})}),define("gcli/canon",["require","exports","module","gcli/util","gcli/l10n","gcli/types","gcli/types/basic","gcli/types/selection"],function(e,t,n){function l(e,t){if(e==null)return t?s.lookup(t):e;if(typeof e=="string")return e;if(typeof e=="object"){if(e.key)return s.lookup(e.key);var n=s.getPreferredLocales(),r;return n.some(function(t){return r=e[t],r!=null}),r!=null?r:(console.error("Can't find locale in descriptions: locales="+JSON.stringify(n)+", "+"description="+JSON.stringify(e)),"(No description)")}return s.lookup(t)}function c(e){Object.keys(e).forEach(function(t){this[t]=e[t]},this);if(!this.name)throw new Error("All registered commands must have a name");this.params==null&&(this.params=[]);if(!Array.isArray(this.params))throw new Error("command.params must be an array in "+this.name);this.hasNamedParameters=!1,this.description="description"in this?this.description:undefined,this.description=l(this.description,"canonDescNone"),this.manual="manual"in this?this.manual:undefined,this.manual=l(this.manual);var t=this.params;this.params=[];var n=!1;this.returnType==null&&(this.returnType="string"),t.forEach(function(e){if(!e.group){if(n)throw new Error("Parameters can't come after param groups. Ignoring "+this.name+"/"+e.name);var t=new h(e,this,null);this.params.push(t),t.isPositionalAllowed||(this.hasNamedParameters=!0)}else e.params.forEach(function(t){var n=new h(t,this,e.group);this.params.push(n),n.isPositionalAllowed||(this.hasNamedParameters=!0)},this),n=!0},this)}function h(e,t,n){this.command=t||{name:"unnamed"},this.paramSpec=e,this.name=this.paramSpec.name,this.type=this.paramSpec.type,this.groupName=n,this.defaultValue=this.paramSpec.defaultValue;if(!this.name)throw new Error("In "+this.command.name+": all params must have a name");var r=this.type;this.type=o.getType(r);if(this.type==null)throw console.error("Known types: "+o.getTypeNames().join(", ")),new Error("In "+this.command.name+"/"+this.name+": can't find type for: "+JSON.stringify(r));if(this.type instanceof a){if(this.defaultValue!==undefined)throw new Error("In "+this.command.name+"/"+this.name+": boolean parameters can not have a defaultValue."+" Ignoring");this.defaultValue=!1}if(this.defaultValue!=null)try{var i=this.type.stringify(this.defaultValue),s=this.type.parseString(i);if(s.getStatus()!==u.VALID)throw new Error("In "+this.command.name+"/"+this.name+": Error round tripping defaultValue. status = "+s.getStatus())}catch(f){throw new Error("In "+this.command.name+"/"+this.name+": "+f)}this.defaultValue===undefined&&(this.defaultValue=this.type.getBlank().value);if(!this.isPositionalAllowed&&this.defaultValue===undefined)throw new Error("In "+this.command.name+"/"+this.name+": Missing defaultValue for optional parameter.")}function m(){this.onOutput=i.createEvent("CommandOutputManager.onOutput")}var r=t,i=e("gcli/util"),s=e("gcli/l10n"),o=e("gcli/types"),u=e("gcli/types").Status,a=e("gcli/types/basic").BooleanType,f=e("gcli/types/selection").SelectionType;r.Command=c,h.prototype.isKnownAs=function(e){return e==="--"+this.name?!0:!1},h.prototype.getBlank=function(){return this.type.getBlank?this.type.getBlank():this.type.parseString("")},Object.defineProperty(h.prototype,"manual",{get:function(){return l(this.paramSpec.manual||undefined)},enumerable:!0}),Object.defineProperty(h.prototype,"description",{get:function(){return l(this.paramSpec.description||undefined,"canonDescNone")},enumerable:!0}),Object.defineProperty(h.prototype,"isDataRequired",{get:function(){return this.defaultValue===undefined},enumerable:!0}),Object.defineProperty(h.prototype,"hidden",{get:function(){return this.paramSpec.hidden},enumerable:!0}),Object.defineProperty(h.prototype,"isPositionalAllowed",{get:function(){return this.groupName==null},enumerable:!0}),r.Parameter=h;var p={},d=[],v={};r.addCommand=function(t){p[t.name]!=null&&(delete p[t.name],d=d.filter(function(e){return e!==t.name}));var n=new c(t);return p[t.name]=n,d.push(t.name),d.sort(),v[t.name]=t,r.onCanonChange(),n},r.removeCommand=function(t){var n=typeof t=="string"?t:t.name;return p[n]?(delete p[n],delete v[n],d=d.filter(function(e){return e!==n}),r.onCanonChange(),!0):!1},r.getCommand=function(t){return p[t]||undefined},r.getCommands=function(){return Object.keys(p).map(function(e){return p[e]},this)},r.getCommandNames=function(){return d.slice(0)},r.getCommandSpecs=function(){return v},r.onCanonChange=i.createEvent("canon.onCanonChange"),r.CommandOutputManager=m,r.commandOutputManager=new m}),define("gcli/util",["require","exports","module"],function(e,t,n){function i(e){var t=e.scope?e.scope.constructor.name+".":"",n=e.func.name;if(n)return t+n;for(var r in e.scope)if(e.scope[r]===e.func)return t+r;return t+e.func}function o(e){var t=0;if(e.length==0)return t;for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t}function u(e,t){for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}function a(e,t){var n=e.getAttribute("data-command");n||(n=e.querySelector("*[data-command]").getAttribute("data-command")),n?t(n):console.warn("Missing data-command for "+util.findCssSelector(e))}var r=!1;t.createEvent=function(e){var t=[],n=!1,s=[],o=undefined,u=function(o){if(n){s.push(o),r&&console.log("Held fire: "+e,o);return}r&&console.group("Fire: "+e+" to "+t.length+" listeners",o);for(var u=0;u<t.length;u++){var a=t[u];r&&console.log(i(a)),a.func.call(a.scope,o)}r&&console.groupEnd()};return u.add=function(e,n){t.push({func:e,scope:n})},u.remove=function(n,r){var i=!1;t=t.filter(function(e){var t=e.func!==n&&e.scope!==r;return t||(i=!0),t}),i||console.warn("Failed to remove handler from "+e)},u.removeAll=function(){t=[]},u.holdFire=function(){r&&console.group("Holding fire: "+e),n=!0},u.resumeFire=function(){r&&console.groupEnd("Resume fire: "+e);if(n!==!0)throw new Error("Event not held: "+e);n=!1;if(s.length===0)return;if(s.length===1)u(s[0]);else{var t=s[0],i=s[s.length-1];o?u(o(t,i,s)):u(i)}s=[]},Object.defineProperty(u,"eventCombiner",{set:function(e){if(typeof e!="function")throw new Error("eventCombiner is not a function");o=e},enumerable:!0}),u},t.NS_XHTML="http://www.w3.org/1999/xhtml",t.NS_XUL="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul",t.createElement=function(e,n){return t.isXmlDocument(e)?e.createElementNS(t.NS_XHTML,n):e.createElement(n)},t.clearElement=function(e){while(e.hasChildNodes())e.removeChild(e.firstChild)};var s=/^\s*$/;t.removeWhitespace=function(e,n){var r=0;while(r<e.childNodes.length){var i=e.childNodes.item(r);i.nodeType===3&&s.test(i.textContent)?e.removeChild(i):(n&&i.nodeType===1&&t.removeWhitespace(i,n),r++)}},t.importCss=function(e,n,r){if(!e)return undefined;n=n||document,r||(r="hash-"+o(e));var i=n.getElementById(r);if(i)return i.tagName.toLowerCase()!=="style"&&console.error("Warning: importCss passed id="+r+", but that pre-exists (and isn't a style tag)"),i;var s=t.createElement(n,"style");s.id=r,s.appendChild(n.createTextNode(e));var u=n.getElementsByTagName("head")[0]||n.documentElement;return u.appendChild(s),s},t.setContents=function(e,n){if(typeof HTMLElement!="undefined"&&n instanceof HTMLElement){t.clearElement(e),e.appendChild(n);return}if(t.isXmlDocument(e.ownerDocument))try{var r=e.ownerDocument.documentElement.namespaceURI;r||(r=t.NS_XHTML),t.clearElement(e),n='<div xmlns="'+r+'">'+n+"</div>";var i=e.ownerDocument.createRange(),s=i.createContextualFragment(n).firstChild;while(s.hasChildNodes())e.appendChild(s.firstChild)}catch(o){throw console.error("Bad XHTML",o),console.trace(),o}else e.innerHTML=n},t.toDom=function(e,n){var r=t.createElement(e,"div");return t.setContents(r,n),r.children[0]},t.isXmlDocument=function(e){return e=e||document,e.contentType&&e.contentType!="text/html"?!0:e.xmlVersion!=null?!0:!1},t.findCssSelector=function(e){var n=e.ownerDocument;if(e.id&&n.getElementById(e.id)===e)return"#"+e.id;var r=e.tagName.toLowerCase();if(r==="html")return"html";if(r==="head")return"head";if(r==="body")return"body";e.parentNode==null&&console.log("danger: "+r);var i,s,o;if(e.classList.length>0)for(var a=0;a<e.classList.length;a++){i="."+e.classList.item(a),o=n.querySelectorAll(i);if(o.length===1)return i;i=r+i,o=n.querySelectorAll(i);if(o.length===1)return i;s=u(e,e.parentNode.children)+1,i=i+":nth-child("+s+")",o=n.querySelectorAll(i);if(o.length===1)return i}return s=u(e,e.parentNode.children)+1,i=t.findCssSelector(e.parentNode)+" > "+r+":nth-child("+s+")",i},t.createUrlLookup=function(t){return function(r){try{return e("text!gcli/ui/"+r)}catch(i){if(t.filename)return t.filename+r;var s=t.id.split("/").pop()+".js";if(t.uri.substr(-s.length)!==s)return console.error("Can't work out path from module.uri/module.id"),r;if(t.uri){var o=t.uri.length-s.length-1;return t.uri.substr(0,o)+"/"+r}return s+"/"+r}}},t.updateCommand=function(e,t){a(e,function(e){t.update(e)})},t.executeCommand=function(e,t){a(e,function(e){t.exec({visible:!0,typed:e})})},t.KeyEvent={DOM_VK_CANCEL:3,DOM_VK_HELP:6,DOM_VK_BACK_SPACE:8,DOM_VK_TAB:9,DOM_VK_CLEAR:12,DOM_VK_RETURN:13,DOM_VK_ENTER:14,DOM_VK_SHIFT:16,DOM_VK_CONTROL:17,DOM_VK_ALT:18,DOM_VK_PAUSE:19,DOM_VK_CAPS_LOCK:20,DOM_VK_ESCAPE:27,DOM_VK_SPACE:32,DOM_VK_PAGE_UP:33,DOM_VK_PAGE_DOWN:34,DOM_VK_END:35,DOM_VK_HOME:36,DOM_VK_LEFT:37,DOM_VK_UP:38,DOM_VK_RIGHT:39,DOM_VK_DOWN:40,DOM_VK_PRINTSCREEN:44,DOM_VK_INSERT:45,DOM_VK_DELETE:46,DOM_VK_0:48,DOM_VK_1:49,DOM_VK_2:50,DOM_VK_3:51,DOM_VK_4:52,DOM_VK_5:53,DOM_VK_6:54,DOM_VK_7:55,DOM_VK_8:56,DOM_VK_9:57,DOM_VK_SEMICOLON:59,DOM_VK_EQUALS:61,DOM_VK_A:65,DOM_VK_B:66,DOM_VK_C:67,DOM_VK_D:68,DOM_VK_E:69,DOM_VK_F:70,DOM_VK_G:71,DOM_VK_H:72,DOM_VK_I:73,DOM_VK_J:74,DOM_VK_K:75,DOM_VK_L:76,DOM_VK_M:77,DOM_VK_N:78,DOM_VK_O:79,DOM_VK_P:80,DOM_VK_Q:81,DOM_VK_R:82,DOM_VK_S:83,DOM_VK_T:84,DOM_VK_U:85,DOM_VK_V:86,DOM_VK_W:87,DOM_VK_X:88,DOM_VK_Y:89,DOM_VK_Z:90,DOM_VK_CONTEXT_MENU:93,DOM_VK_NUMPAD0:96,DOM_VK_NUMPAD1:97,DOM_VK_NUMPAD2:98,DOM_VK_NUMPAD3:99,DOM_VK_NUMPAD4:100,DOM_VK_NUMPAD5:101,DOM_VK_NUMPAD6:102,DOM_VK_NUMPAD7:103,DOM_VK_NUMPAD8:104,DOM_VK_NUMPAD9:105,DOM_VK_MULTIPLY:106,DOM_VK_ADD:107,DOM_VK_SEPARATOR:108,DOM_VK_SUBTRACT:109,DOM_VK_DECIMAL:110,DOM_VK_DIVIDE:111,DOM_VK_F1:112,DOM_VK_F2:113,DOM_VK_F3:114,DOM_VK_F4:115,DOM_VK_F5:116,DOM_VK_F6:117,DOM_VK_F7:118,DOM_VK_F8:119,DOM_VK_F9:120,DOM_VK_F10:121,DOM_VK_F11:122,DOM_VK_F12:123,DOM_VK_F13:124,DOM_VK_F14:125,DOM_VK_F15:126,DOM_VK_F16:127,DOM_VK_F17:128,DOM_VK_F18:129,DOM_VK_F19:130,DOM_VK_F20:131,DOM_VK_F21:132,DOM_VK_F22:133,DOM_VK_F23:134,DOM_VK_F24:135,DOM_VK_NUM_LOCK:144,DOM_VK_SCROLL_LOCK:145,DOM_VK_COMMA:188,DOM_VK_PERIOD:190,DOM_VK_SLASH:191,DOM_VK_BACK_QUOTE:192,DOM_VK_OPEN_BRACKET:219,DOM_VK_BACK_SLASH:220,DOM_VK_CLOSE_BRACKET:221,DOM_VK_QUOTE:222,DOM_VK_META:224}}),define("gcli/l10n",["require","exports","module","gcli/nls/strings"],function(e,t,n){function i(e,t){return e.replace(/\{[^}]*\}/g,function(e){e=e.slice(1,-1);if(t==null)return console.log("Missing swaps while looking up '"+e+"'"),"";var n=t[e];return n==null&&(console.log("Can't find '"+e+"' in "+JSON.stringify(t)),n=""),n})}function s(e,t){var n=0;return e=e.replace(/%S/g,function(){return t[n++]}),e=e.replace(/%([0-9])\$S/g,function(e,n){return t[n-1]}),e}function o(){if(!a){var e=navigator.language||navigator.userLanguage;u.some(function(t){return t.locales.indexOf(e)!==-1?(a=t,!0):!1}),a||(console.error("Failed to find plural rule for "+e),a=u[0])}return a}var r={};t.registerStringsSource=function(t){var n=e(t).root;Object.keys(n).forEach(function(e){if(r[e]){console.error("Key '"+e+"' (loaded from "+t+") "+"already exists. Ignoring.");return}r[e]=n[e]},this)},e("gcli/nls/strings"),t.registerStringsSource("gcli/nls/strings"),t.unregisterStringsSource=function(t){var n=e(t).root;Object.keys(n).forEach(function(e){delete r[e]},this)},t.getPreferredLocales=function(){var e=typeof navigator!="undefined"?(navigator.language||navigator.userLanguage).toLowerCase():"en-us",t=e.split("-"),n=t.map(function(e,n){return t.slice(0,t.length-n).join("-")});return n.push("root"),n},t.lookup=function(e){var t=r[e];if(t==null)throw new Error("No i18n key: "+e);return t},typeof Proxy!="undefined"?t.propertyLookup=Proxy.create({get:function(e,n){return t.lookup(n)}}):t.propertyLookup=r,t.lookupSwap=function(e,n){var r=t.lookup(e);return i(r,n)},t.lookupFormat=function(e,n){var r=t.lookup(e);return s(r,n)},t.lookupPlural=function(e,n,r){var s=o().get(n),u=t.lookup(e),a=u[s];return r=r||{},r.ord=n,i(a,r)};var u=[{locales:["fa","fa-ir","id","ja","ja-jp-mac","ka","ko","ko-kr","th","th-th","tr","tr-tr","zh","zh-tw","zh-cn"],numForms:1,get:function(e){return 0}},{locales:["af","af-za","as","ast","bg","br","bs","bs-ba","ca","cy","cy-gb","da","de","de-de","de-ch","en","en-gb","en-us","en-za","el","el-gr","eo","es","es-es","es-ar","es-cl","es-mx","et","et-ee","eu","fi","fi-fi","fy","fy-nl","gl","gl-gl","he","hu","hu-hu","hy","hy-am","it","it-it","kk","ku","lg","mai","ml","ml-in","mn","nb","nb-no","no","no-no","nl","nn","nn-no","no","no-no","nb","nb-no","nso","nso-za","pa","pa-in","pt","pt-pt","rm","rm-ch","si","si-lk","son","son-ml","sq","sq-al","sv","sv-se","vi","vi-vn","zu","zu-za"],numForms:2,get:function(e){return e!=1?1:0}},{locales:["ak","ak-gh","bn","bn-in","bn-bd","fr","fr-fr","gu","gu-in","kn","kn-in","mr","mr-in","oc","oc-oc","or","or-in","pt-br","ta","ta-in","ta-lk","te","te-in"],numForms:2,get:function(e){return e>1?1:0}},{locales:["lv"],numForms:3,get:function(e){return e%10==1&&e%100!=11?1:e!=0?2:0}},{locales:["gd","gd-gb"],numForms:4,get:function(e){return e==1||e==11?0:e==2||e==12?1:e>0&&e<20?2:3}},{locales:["ro","ro-ro"],numForms:3,get:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2}},{locales:["lt"],numForms:3,get:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?2:1}},{locales:["be","be-by","hr","hr-hr","ru","ru-ru","sr","sr-rs","sr-cs","uk"],numForms:3,get:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}},{locales:["cs","sk"],numForms:3,get:function(e){return e==1?0:e>=2&&e<=4?1:2}},{locales:["pl"],numForms:3,get:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}},{locales:["sl"],numForms:4,get:function(e){return e%100==1?0:e%100==2?1:e%100==3||e%100==4?2:3}},{locales:["ga-ie","ga-ie","ga","en-ie"],numForms:5,get:function(e){return e==1?0:e==2?1:e>=3&&e<=6?2:e>=7&&e<=10?3:4}},{locales:["ar"],numForms:6,get:function(e){return e==0?5:e==1?0:e==2?1:e%100>=3&&e%100<=10?2:e%100>=11&&e%100<=99?3:4}},{locales:["mt"],numForms:4,get:function(e){return e==1?0:e==0||e%100>0&&e%100<=10?1:e%100>10&&e%100<20?2:3}},{locales:["mk","mk-mk"],numForms:3,get:function(e){return e%10==1?0:e%10==2?1:2}},{locales:["is"],numForms:2,get:function(e){return e%10==1&&e%100!=11?0:1}}],a}),define("gcli/nls/strings",["require","exports","module"],function(e,t,n){var r={root:{canonDescNone:"(No description)",cliEvalJavascript:"Enter JavaScript directly",cliUnusedArg:"Too many arguments",cliOptions:"Available Options",fieldSelectionSelect:"Select a %S…",fieldArrayAdd:"Add",fieldArrayDel:"Delete",fieldMenuMore:"More matches, keep typing",jstypeParseScope:"Scope lost",jstypeParseMissing:"Can't find property '%S'",jstypeBeginSyntax:"Syntax error",jstypeBeginUnterm:"Unterminated string literal",jstypeParseError:"Error",typesNumberNan:'Can\'t convert "%S" to a number.',typesNumberMax:"%1$S is greater than maximum allowed: %2$S.",typesNumberMin:"%1$S is smaller than minimum allowed: %2$S.",typesSelectionNomatch:"Can't use '%S'.",nodeParseSyntax:"Syntax error in CSS query",nodeParseMultiple:"Too many matches (%S)",nodeParseNone:"No matches",helpDesc:"Get help on the available commands",helpManual:"Provide help either on a specific command (if a search string is provided and an exact match is found) or on the available commands (if a search string is not provided, or if no exact match is found).",helpSearchDesc:"Search string",helpSearchManual2:"<strong>search string</strong> to use in narrowing down the displayed commands. Regular expressions not supported.",helpManSynopsis:"Synopsis",helpManDescription:"Description",helpManParameters:"Parameters",helpManNone:"None",helpListAll:"Available Commands:",helpListPrefix:"Commands starting with '%1$S':",helpListNone:"No commands starting with '%1$S'",helpManRequired:"required",helpManOptional:"optional",subCommands:"Sub-Commands",subCommandsNone:"None",prefDesc:"Commands to control settings",prefManual:"Commands to display and alter preferences both for GCLI and the surrounding environment",prefListDesc:"Display available settings",prefListManual:"Display a list of preferences, optionally filtered when using the 'search' parameter",prefListSearchDesc:"Filter the list of settings displayed",prefListSearchManual:"Search for the given string in the list of available preferences",prefShowDesc:"Display setting value",prefShowManual:"Display the value of a given preference",prefShowSettingDesc:"Setting to display",prefShowSettingManual:"The name of the setting to display",prefSetDesc:"Alter a setting",prefSetManual:"Alter preferences defined by the environment",prefSetSettingDesc:"Setting to alter",prefSetSettingManual:"The name of the setting to alter.",prefSetValueDesc:"New value for setting",prefSetValueManual:"The new value for the specified setting",prefSetCheckHeading:"This might void your warranty!",prefSetCheckBody:"Changing these advanced settings can be harmful to the stability, security, and performance of this application. You should only continue if you are sure of what you are doing.",prefSetCheckGo:"I'll be careful, I promise!",prefResetDesc:"Reset a setting",prefResetManual:"Reset the value of a setting to the system defaults",prefResetSettingDesc:"Setting to reset",prefResetSettingManual:"The name of the setting to reset to the system default value",prefOutputFilter:"Filter",prefOutputName:"Name",prefOutputValue:"Value",introDesc:"Show the opening message",introManual:"Redisplay the message that is shown to new users until they click the 'Got it!' button",introTextOpening:"The Firefox command line is designed for developers. It focuses on speed of input over JavaScript syntax and a rich display over monospace output.",introTextCommands:"For a list of commands type",introTextKeys:"or to show/hide command hints press",introTextF1Escape:"F1/Escape",introTextGo:"Got it!",hideIntroDesc:"Show the initial welcome message",eagerHelperDesc:"How eager are the tooltips",allowSetDesc:"Has the user enabled the 'pref set' command?"}};t.root=r.root}),define("gcli/types",["require","exports","module","gcli/argument"],function(e,t,n){function o(e,t,n,r,i){this.value=e,this.arg=t;if(t==null)throw new Error("Missing arg");this._status=n||s.VALID,this.message=r,this.predictions=i}function u(e,t){this.arg=t,this.conversions=e,this.value=e.map(function(e){return e.value},this),this._status=s.combine(e.map(function(e){return e.getStatus()})),this.message="",this.predictions=[]}function a(){}var r=e("gcli/argument").Argument,i=e("gcli/argument").BlankArgument,s={VALID:{toString:function(){return"VALID"},valueOf:function(){return 0}},INCOMPLETE:{toString:function(){return"INCOMPLETE"},valueOf:function(){return 1}},ERROR:{toString:function(){return"ERROR"},valueOf:function(){return 2}},combine:function(){var e=s.VALID;for(var t=0;t<arguments.length;t++){var n=arguments[t];Array.isArray(n)&&(n=s.combine.apply(null,n)),n>e&&(e=n)}return e}};t.Status=s,o.prototype.assign=function(e){this.arg.assign(e)},o.prototype.isDataProvided=function(){return this.arg.type!=="BlankArgument"},o.prototype.equals=function(e){return this===e?!0:e==null?!1:this.valueEquals(e)&&this.argEquals(e)},o.prototype.valueEquals=function(e){return this.value===e.value},o.prototype.argEquals=function(e){return e==null?!1:this.arg.equals(e.arg)},o.prototype.getStatus=function(e){return this._status},o.prototype.toString=function(){return this.arg.toString()},o.prototype.getPredictions=function(){return typeof this.predictions=="function"?this.predictions():this.predictions||[]},o.prototype.constrainPredictionIndex=function(e){if(e==null)return undefined;var t=this.getPredictions();return t.length===0?undefined:(e%=t.length,e<0&&(e=t.length+e),e)},o.maxPredictions=11,t.Conversion=o,u.prototype=Object.create(o.prototype),u.prototype.assign=function(e){this.conversions.forEach(function(t){t.assign(e)},this),this.assignment=e},u.prototype.getStatus=function(e){return e&&e.conversion?e.conversion.getStatus():this._status},u.prototype.isDataProvided=function(){return this.conversions.length>0},u.prototype.valueEquals=function(e){if(e instanceof u){if(this.value===e.value)return!0;if(this.value.length!==e.value.length)return!1;for(var t=0;t<this.conversions.length;t++)if(!this.conversions[t].valueEquals(e.conversions[t]))return!1;return!0}throw new Error("Can't compare values with non ArrayConversion")},u.prototype.toString=function(){return"[ "+this.conversions.map(function(e){return e.toString()},this).join(", ")+" ]"},t.ArrayConversion=u,a.prototype.stringify=function(e){throw new Error("Not implemented")},a.prototype.parse=function(e){throw new Error("Not implemented")},a.prototype.parseString=function(e){return this.parse(new r(e))},a.prototype.name=undefined,a.prototype.increment=function(e){return undefined},a.prototype.decrement=function(e){return undefined},a.prototype.getBlank=function(){return this.parse(new i)},a.prototype.getType=function(){return this},t.Type=a;var f={};t.getTypeNames=function(){return Object.keys(f)},t.registerType=function(e){if(typeof e=="object"){if(!(e instanceof a))throw new Error("Can't registerType using: "+e);if(!e.name)throw new Error("All registered types must have a name");f[e.name]=e}else{if(typeof e!="function")throw new Error("Unknown type: "+e);if(!e.prototype.name)throw new Error("All registered types must have a name");f[e.prototype.name]=e}},t.registerTypes=function(t){Object.keys(t).forEach(function(e){var n=t[e];n.name=e,t.registerType(n)})},t.deregisterType=function(e){delete f[e.name]},t.getType=function(e){var t;if(typeof e=="string")return t=f[e],typeof t=="function"&&(t=new t({})),t;if(typeof e=="object"){if(!e.name)throw new Error("Missing 'name' member to typeSpec");return t=f[e.name],typeof t=="function"&&(t=new t(e)),t}throw new Error("Can't extract type from "+e)}}),define("gcli/argument",["require","exports","module"],function(e,t,n){function r(e,t,n){e===undefined?(this.text="",this.prefix="",this.suffix=""):(this.text=e,this.prefix=t!==undefined?t:"",this.suffix=n!==undefined?n:"")}function i(){this.text="",this.prefix="",this.suffix=""}function s(e,t,n){this.text=e!==undefined?e:"",this.prefix=t!==undefined?t:"",this.suffix=n!==undefined?n:"",s._moveSpaces(this)}function o(e,t,n){if(!Array.isArray(e))throw new Error("args is not an array of Arguments");t===undefined?this.args=e:this.args=e.slice(t,n);var i=r.merge(this.args);this.text=i.text,this.prefix=i.prefix,this.suffix=i.suffix}function u(e){this.arg=e,this.text=e.text,this.prefix=e.prefix,this.suffix=e.suffix}function a(){this.text="",this.prefix="",this.suffix=""}function f(){typeof arguments[0]=="string"?(this.nameArg=null,this.valueArg=null,this.text=arguments[0],this.prefix=arguments[1],this.suffix=arguments[2]):arguments[1]==null?(this.nameArg=arguments[0],this.valueArg=null,this.text="",this.prefix=this.nameArg.toString(),this.suffix=""):(this.nameArg=arguments[0],this.valueArg=arguments[1],this.text=this.valueArg.text,this.prefix=this.nameArg.toString()+this.valueArg.prefix,this.suffix=this.valueArg.suffix)}function l(){this.args=[]}r.prototype.type="Argument",r.prototype.merge=function(e){return new r(this.text+this.suffix+e.prefix+e.text,this.prefix,e.suffix)},r.prototype.beget=function(e){var t=this.text,n=this.prefix,i=this.suffix;if(e.text!=null){t=e.text;var s=t.indexOf(" ")>=0||t.length==0;s&&/['"]/.test(n)&&(n+="'",i="'"+i)}e.prefixSpace&&n.charAt(0)!==" "&&(n=" "+n),e.prefixPostSpace&&n.charAt(n.length-1)!==" "&&(n+=" "),e.suffixSpace&&i.charAt(i.length-1)!==" "&&(i+=" ");if(t===this.text&&i===this.suffix&&n===this.prefix)return this;var o=e.type||r;return new o(t,n,i)},r.prototype.assign=function(e){this.assignment=e},r.prototype.getArgs=function(){return[this]},r.prototype.equals=function(e){return this===e?!0:e!=null&&e instanceof r?this.text===e.text&&this.prefix===e.prefix&&this.suffix===e.suffix:!1},r.prototype.toString=function(){return this.prefix+this.text+this.suffix},r.merge=function(e,t,n){t=t===undefined?0:t,n=n===undefined?e.length:n;var r;for(var i=t;i<n;i++){var s=e[i];r?r=r.merge(s):r=s}return r},Object.defineProperty(r.prototype,"_summaryJson",{get:function(){var e=this.assignment==null?"null":this.assignment.param.name;return"<"+this.prefix+":"+this.text+":"+this.suffix+">"+" (a="+e+","+" t="+this.type+")"},enumerable:!0}),t.Argument=r,i.prototype=Object.create(r.prototype),i.prototype.type="BlankArgument",t.BlankArgument=i,s.prototype=Object.create(r.prototype),s.prototype.type="ScriptArgument",s._moveSpaces=function(e){while(e.text.charAt(0)===" ")e.prefix=e.prefix+" ",e.text=e.text.substring(1);while(e.text.charAt(e.text.length-1)===" ")e.suffix=" "+e.suffix,e.text=e.text.slice(0,-1)},s.prototype.beget=function(e){e.type=s;var t=r.prototype.beget.call(this,e);return s._moveSpaces(t),t},t.ScriptArgument=s,o.prototype=Object.create(r.prototype),o.prototype.type="MergedArgument",o.prototype.assign=function(e){this.args.forEach(function(t){t.assign(e)},this),this.assignment=e},o.prototype.getArgs=function(){return this.args},o.prototype.equals=function(e){return this===e?!0:e!=null&&e instanceof o?this.text===e.text&&this.prefix===e.prefix&&this.suffix===e.suffix:!1},t.MergedArgument=o,u.prototype=Object.create(r.prototype),u.prototype.type="TrueNamedArgument",u.prototype.assign=function(e){this.arg&&this.arg.assign(e),this.assignment=e},u.prototype.getArgs=function(){return[this.arg]},u.prototype.equals=function(e){return this===e?!0:e!=null&&e instanceof u?this.text===e.text&&this.prefix===e.prefix&&this.suffix===e.suffix:!1},u.prototype.beget=function(e){e.text&&console.error("Can't change text of a TrueNamedArgument",this,e),e.type=u;var t=r.prototype.beget.call(this,e);return t.arg=new r(t.text,t.prefix,t.suffix),t},t.TrueNamedArgument=u,a.prototype=Object.create(r.prototype),a.prototype.type="FalseNamedArgument",a.prototype.getArgs=function(){return[]},a.prototype.equals=function(e){return this===e?!0:e!=null&&e instanceof a?this.text===e.text&&this.prefix===e.prefix&&this.suffix===e.suffix:!1},t.FalseNamedArgument=a,f.prototype=Object.create(r.prototype),f.prototype.type="NamedArgument",f.prototype.assign=function(e){this.nameArg.assign(e),this.valueArg!=null&&this.valueArg.assign(e),this.assignment=e},f.prototype.getArgs=function(){return this.valueArg?[this.nameArg,this.valueArg]:[this.nameArg]},f.prototype.equals=function(e){return this===e?!0:e==null?!1:e instanceof f?this.text===e.text&&this.prefix===e.prefix&&this.suffix===e.suffix:!1},f.prototype.beget=function(e){e.type=f;var t=r.prototype.beget.call(this,e),n=/^([\s]*)([^\s]*)([\s]*)$/.exec(t.prefix);return this.valueArg==null&&t.text===""?(t.nameArg=new r(n[2],n[1],n[3]),t.valueArg=null):(t.nameArg=new r(n[2],n[1],""),t.valueArg=new r(t.text,n[3],t.suffix)),t},t.NamedArgument=f,l.prototype=Object.create(r.prototype),l.prototype.type="ArrayArgument",l.prototype.addArgument=function(e){this.args.push(e)},l.prototype.addArguments=function(e){Array.prototype.push.apply(this.args,e)},l.prototype.getArguments=function(){return this.args},l.prototype.assign=function(e){this.args.forEach(function(t){t.assign(e)},this),this.assignment=e},l.prototype.getArgs=function(){return this.args},l.prototype.equals=function(e){if(this===e)return!0;if(e==null)return!1;if(e.type!=="ArrayArgument")return!1;if(this.args.length!==e.args.length)return!1;for(var t=0;t<this.args.length;t++)if(!this.args[t].equals(e.args[t]))return!1;return!0},l.prototype.toString=function(){return"{"+this.args.map(function(e){return e.toString()},this).join(",")+"}"},t.ArrayArgument=l}),define("gcli/types/basic",["require","exports","module","gcli/l10n","gcli/types","gcli/types/selection","gcli/argument"],function(e,t,n){function h(e){}function p(e){e?(this._min=e.min,this._max=e.max,this._step=e.step||1):this._step=1}function d(e){}function v(e){if(typeof e.defer!="function")throw new Error("Instances of DeferredType need typeSpec.defer to be a function that returns a type");Object.keys(e).forEach(function(t){this[t]=e[t]},this)}function m(e){}function g(e){e.subtype||(console.error("Array.typeSpec is missing subtype. Assuming string."+JSON.stringify(e)),e.subtype="string"),Object.keys(e).forEach(function(t){this[t]=e[t]},this),this.subtype=i.getType(this.subtype)}var r=e("gcli/l10n"),i=e("gcli/types"),s=e("gcli/types").Type,o=e("gcli/types").Status,u=e("gcli/types").Conversion,a=e("gcli/types").ArrayConversion,f=e("gcli/types/selection").SelectionType,l=e("gcli/argument").BlankArgument,c=e("gcli/argument").ArrayArgument;t.startup=function(){i.registerType(h),i.registerType(p),i.registerType(d),i.registerType(m),i.registerType(v),i.registerType(g)},t.shutdown=function(){i.unregisterType(h),i.unregisterType(p),i.unregisterType(d),i.unregisterType(m),i.unregisterType(v),i.unregisterType(g)},h.prototype=Object.create(s.prototype),h.prototype.stringify=function(e){return e==null?"":e.toString()},h.prototype.parse=function(e){return e.text==null||e.text===""?new u(undefined,e,o.INCOMPLETE,""):new u(e.text,e)},h.prototype.name="string",t.StringType=h,p.prototype=Object.create(s.prototype),p.prototype.stringify=function(e){return e==null?"":""+e},p.prototype.getMin=function(){if(this._min){if(typeof this._min=="function")return this._min();if(typeof this._min=="number")return this._min}return undefined},p.prototype.getMax=function(){if(this._max){if(typeof this._max=="function")return this._max();if(typeof this._max=="number")return this._max}return undefined},p.prototype.parse=function(e){if(e.text.replace(/^\s*-?/,"").length===0)return new u(undefined,e,o.INCOMPLETE,"");var t=parseInt(e.text,10);if(isNaN(t))return new u(undefined,e,o.ERROR,r.lookupFormat("typesNumberNan",[e.text]));var n=this.getMax();if(n!=null&&t>n)return new u(undefined,e,o.ERROR,r.lookupFormat("typesNumberMax",[t,n]));var i=this.getMin();return i!=null&&t<i?new u(undefined,e,o.ERROR,r.lookupFormat("typesNumberMin",[t,i])):new u(t,e)},p.prototype.decrement=function(e){if(typeof e!="number"||isNaN(e))return this.getMax()||1;var t=e-this._step;return t=Math.ceil(t/this._step)*this._step,this._boundsCheck(t)},p.prototype.increment=function(e){if(typeof e!="number"||isNaN(e)){var t=this.getMin();return t!=null?t:0}var n=e+this._step;return n=Math.floor(n/this._step)*this._step,this.getMax()==null?n:this._boundsCheck(n)},p.prototype._boundsCheck=function(e){var t=this.getMin();if(t!=null&&e<t)return t;var n=this.getMax();return n!=null&&e>n?n:e},p.prototype.name="number",t.NumberType=p,d.prototype=Object.create(f.prototype),d.prototype.lookup=[{name:"false",value:!1},{name:"true",value:!0}],d.prototype.parse=function(e){return e.type==="TrueNamedArgument"?new u(!0,e):e.type==="FalseNamedArgument"?new u(!1,e):f.prototype.parse.call(this,e)},d.prototype.stringify=function(e){return e==null?"":""+e},d.prototype.getBlank=function(){return new u(!1,new l,o.VALID,"",this.lookup)},d.prototype.name="boolean",t.BooleanType=d,v.prototype=Object.create(s.prototype),v.prototype.stringify=function(e){return this.defer().stringify(e)},v.prototype.parse=function(e){return this.defer().parse(e)},v.prototype.decrement=function(e){var t=this.defer();return t.decrement?t.decrement(e):undefined},v.prototype.increment=function(e){var t=this.defer();return t.increment?t.increment(e):undefined},v.prototype.increment=function(e){var t=this.defer();return t.increment?t.increment(e):undefined},v.prototype.getType=function(){return this.defer()},Object.defineProperty(v.prototype,"isImportant",{get:function(){return this.defer().isImportant},enumerable:!0}),v.prototype.name="deferred",t.DeferredType=v,m.prototype=Object.create(s.prototype),m.prototype.stringify=function(e){return""},m.prototype.parse=function(e){return new u(undefined,e)},m.prototype.name="blank",t.BlankType=m,g.prototype=Object.create(s.prototype),g.prototype.stringify=function(e){return e==null?"":e.join(" ")},g.prototype.parse=function(e){if(e.type==="ArrayArgument"){var t=e.getArguments().map(function(e){var t=this.subtype.parse(e);return e.conversion=t,t},this);return new a(t,e)}throw console.error("non ArrayArgument to ArrayType.parse",e),new Error("non ArrayArgument to ArrayType.parse")},g.prototype.getBlank=function(e){return new a([],new c)},g.prototype.name="array",t.ArrayType=g}),define("gcli/types/selection",["require","exports","module","gcli/l10n","gcli/types","gcli/types/spell"],function(e,t,n){function f(e){e&&Object.keys(e).forEach(function(t){this[t]=e[t]},this)}var r=e("gcli/l10n"),i=e("gcli/types"),s=e("gcli/types").Type,o=e("gcli/types").Status,u=e("gcli/types").Conversion,a=e("gcli/types/spell").Speller;t.startup=function(){i.registerType(f)},t.shutdown=function(){i.unregisterType(f)},f.prototype=Object.create(s.prototype),f.prototype.stringify=function(e){if(e==null)return"";if(this.stringifyProperty!=null)return e[this.stringifyProperty];var t=null,n=this.getLookup();return n.some(function(n){return n.value===e?(t=n.name,!0):!1},this),t},f.prototype.clearCache=function(){delete this._cachedLookup},f.prototype.getLookup=function(){if(this._cachedLookup)return this._cachedLookup;if(this.lookup)return typeof this.lookup=="function"?this.cacheable?(this._cachedLookup=this.lookup(),this._cachedLookup):this.lookup():this.lookup;if(Array.isArray(this.data))return this.lookup=this._dataToLookup(this.data),this.lookup;if(typeof this.data=="function")return this._dataToLookup(this.data());throw new Error("SelectionType has no data")},f.prototype._dataToLookup=function(e){return e.map(function(e){return{name:e,value:e}},this)},f.prototype._findPredictions=function(e){var t=[],n=this.getLookup(),r,i,s=u.maxPredictions,o=e.text.toLowerCase();if(e.suffix.length>0){for(r=0;r<n.length&&t.length<s;r++)i=n[r],i.name===e.text&&this._addToPredictions(t,i,e);return t}for(r=0;r<n.length;r++)i=n[r],i._gcliLowerName==null&&(i._gcliLowerName=i.name.toLowerCase());for(r=0;r<n.length&&t.length<s;r++)i=n[r],i.name===e.text&&this._addToPredictions(t,i,e);for(r=0;r<n.length&&t.length<s;r++)i=n[r],i._gcliLowerName.indexOf(o)===0&&!i.value.hidden&&t.indexOf(i)===-1&&this._addToPredictions(t,i,e);if(t.length<s/2)for(r=0;r<n.length&&t.length<s;r++)i=n[r],i._gcliLowerName.indexOf(o)!==-1&&!i.value.hidden&&t.indexOf(i)===-1&&this._addToPredictions(t,i,e);return t},f.prototype._addToPredictions=function(e,t,n){e.push(t)},f.prototype.parse=function(e){var t=this._findPredictions(e);if(t.length===0){var n=r.lookupFormat("typesSelectionNomatch",[e.text]);return new u(undefined,e,o.ERROR,n,t)}this.noMatch&&this.noMatch();if(t[0].name===e.text){var i=t[0].value;return new u(i,e,o.VALID,"",t)}return new u(undefined,e,o.INCOMPLETE,"",t)},f.prototype.decrement=function(e){var t=this.getLookup(),n=this._findValue(t,e);return n===-1&&(n=0),n++,n>=t.length&&(n=0),t[n].value},f.prototype.increment=function(e){var t=this.getLookup(),n=this._findValue(t,e);return n===-1&&(n=1),n--,n<0&&(n=t.length-1),t[n].value},f.prototype._findValue=function(e,t){var n=-1;for(var r=0;r<e.length;r++){var i=e[r];if(i.value===t){n=r;break}}return n},f.prototype.name="selection",t.SelectionType=f}),define("gcli/types/spell",["require","exports","module"],function(e,t,n){function r(){this._nWords={}}r.letters="abcdefghijklmnopqrstuvwxyz".split(""),r.prototype.train=function(e){e.forEach(function(e){e=e.toLowerCase(),this._nWords[e]=this._nWords.hasOwnProperty(e)?this._nWords[e]+1:1},this)},r.prototype.correct=function(e){if(this._nWords.hasOwnProperty(e))return e;var t={},n=this._edits(e);return n.forEach(function(e){this._nWords.hasOwnProperty(e)&&(t[this._nWords[e]]=e)},this),this._countKeys(t)>0?t[this._max(t)]:(n.forEach(function(e){this._edits(e).forEach(function(e){this._nWords.hasOwnProperty(e)&&(t[this._nWords[e]]=e)},this)},this),this._countKeys(t)>0?t[this._max(t)]:null)},r.prototype._countKeys=function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},r.prototype._max=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return Math.max.apply(null,t)},r.prototype._edits=function(e){var t=[];for(var n=0;n<e.length;n++)t.push(e.slice(0,n)+e.slice(n+1));for(n=0;n<e.length-1;n++)t.push(e.slice(0,n)+e.slice(n+1,n+2)+e.slice(n,n+1)+e.slice(n+2));for(n=0;n<e.length;n++)r.letters.forEach(function(r){t.push(e.slice(0,n)+r+e.slice(n+1))},this);for(n=0;n<=e.length;n++)r.letters.forEach(function(r){t.push(e.slice(0,n)+r+e.slice(n))},this);return t},t.Speller=r}),define("gcli/types/command",["require","exports","module","gcli/canon","gcli/l10n","gcli/types","gcli/types/selection"],function(e,t,n){function f(e){this.requisition=e.requisition,this.isIncompleteName=e.isIncompleteName,this.stringifyProperty="name"}function l(){this.stringifyProperty="name"}var r=e("gcli/canon"),i=e("gcli/l10n"),s=e("gcli/types"),o=e("gcli/types/selection").SelectionType,u=e("gcli/types").Status,a=e("gcli/types").Conversion;t.startup=function(){s.registerType(l),s.registerType(f)},t.shutdown=function(){s.unregisterType(l),s.unregisterType(f)},f.prototype=Object.create(o.prototype),f.prototype.name="param",f.prototype.lookup=function(){var e=[],t=this.requisition.commandAssignment.value;return t.params.forEach(function(t){var n=this.requisition.getAssignment(t.name).arg;!t.isPositionalAllowed&&n.type==="BlankArgument"&&e.push({name:"--"+t.name,value:t})},this),e},f.prototype.parse=function(e){return this.isIncompleteName?o.prototype.parse.call(this,e):new a(undefined,e,u.ERROR,i.lookup("cliUnusedArg"))},l.prototype=Object.create(o.prototype),l.prototype.name="command",l.prototype.lookup=function(){var e=r.getCommands();return e.sort(function(e,t){return e.name.localeCompare(t.name)}),e.map(function(e){return{name:e.name,value:e}},this)},l.prototype._addToPredictions=function(e,t,n){(n.text.length!==0||t.name.indexOf(" ")===-1)&&e.push(t)},l.prototype.parse=function(e){var t=function(){return this._findPredictions(e)}.bind(this),n=this._findPredictions(e);if(n.length===0){var r=i.lookupFormat("typesSelectionNomatch",[e.text]);return new a(undefined,e,u.ERROR,r,t)}var s=n[0].value;return n.length===1?s.name===e.text&&typeof s.exec=="function"?new a(s,e,u.VALID,""):new a(undefined,e,u.INCOMPLETE,"",t):n[0].name===e.text?new a(s,e,u.VALID,"",t):new a(undefined,e,u.INCOMPLETE,"",t)}}),define("gcli/types/javascript",["require","exports","module","gcli/l10n","gcli/types"],function(e,t,n){function f(e){}function l(e){return e.indexOf("moz")===0||e.indexOf("webkit")===0||e.indexOf("ms")===0}var r=e("gcli/l10n"),i=e("gcli/types"),s=i.Conversion,o=i.Type,u=i.Status;t.startup=function(){i.registerType(f)},t.shutdown=function(){i.unregisterType(f)};var a;typeof window!="undefined"&&(a=window),t.setGlobalObject=function(e){a=e},t.getGlobalObject=function(){return a},t.unsetGlobalObject=function(){a=undefined},f.prototype=Object.create(o.prototype),f.prototype.stringify=function(e){return e==null?"":e},f.MAX_COMPLETION_MATCHES=10,f.prototype.parse=function(e){var t=e.text,n=a;if(t==="")return new s(undefined,e,u.INCOMPLETE);if(!isNaN(parseFloat(t))&&isFinite(t))return new s(t,e);if(t.trim().match(/(null|undefined|NaN|Infinity|true|false)/))return new s(t,e);var i=this._findCompletionBeginning(t);if(i.err)return new s(t,e,u.ERROR,i.err);if(i.state===c.COMPLEX)return new s(t,e);if(i.state!==c.NORMAL)return new s(t,e,u.INCOMPLETE,"");var o=t.substring(i.startPos),h=o.split("."),p,d;if(h.length>1){p=h.pop().trimLeft();for(var v=0;v<h.length;v++){d=h[v].trim();if(n==null)return new s(t,e,u.ERROR,r.lookup("jstypeParseScope"));if(d==="")return new s(t,e,u.INCOMPLETE,"");if(this._isSafeProperty(n,d))return new s(t,e);try{n=n[d]}catch(m){return new s(t,e,u.VALID,"")}}}else p=h[0].trimLeft();if(d&&!d.match(/^[0-9A-Za-z]*$/))return new s(t,e);if(n==null)return new s(t,e,u.ERROR,r.lookupFormat("jstypeParseMissing",[d]));if(!p.match(/^[0-9A-Za-z]*$/))return new s(t,e);if(this._isIteratorOrGenerator(n))return null;var g=p.length,y=g===0?t:t.slice(0,-g),b=u.INCOMPLETE,w="",E={},S=0,x=n;try{while(x!=null&&Object.keys(E).length<f.MAX_COMPLETION_MATCHES)Object.keys(x).forEach(function(e){e.indexOf(p)===0&&!(e in E)&&(E[e]={prop:e,distUpPrototypeChain:S})}),S++,x=Object.getPrototypeOf(x)}catch(m){return new s(t,e,u.INCOMPLETE,"")}E=Object.keys(E).map(function(e){return e===p&&(b=u.VALID),E[e]}),E.sort(function(e,t){return e.distUpPrototypeChain!==t.distUpPrototypeChain?e.distUpPrototypeChain-t.distUpPrototypeChain:l(e.prop)?l(t.prop)?e.prop.localeCompare(t.prop):1:l(t.prop)?-1:e.prop.localeCompare(t.prop)}),E.length>f.MAX_COMPLETION_MATCHES&&(E=E.slice(0,f.MAX_COMPLETION_MATCHES-1));var T=E.map(function(e){var t,i=!0;if(this._isSafeProperty(n,e.prop))t="(property getter)";else try{var s=n[e.prop];typeof s=="function"?t="(function)":typeof s=="boolean"||typeof s=="number"?(t="= "+s,i=!1):typeof s=="string"?(s.length>40&&(s=s.substring(0,37)+"…"),t="= '"+s+"'",i=!1):t="("+typeof s+")"}catch(o){t="("+r.lookup("jstypeParseError")+")"}return{name:y+e.prop,value:{name:y+e.prop,description:t},description:t,incomplete:i}},this);return T.length===0&&(b=u.ERROR,w=r.lookupFormat("jstypeParseMissing",[p])),T.length===1&&b===u.VALID&&(T=undefined),new s(t,e,b,w,T)};var c={NORMAL:0,COMPLEX:1,QUOTE:2,DQUOTE:3},h="{[(".split(""),p="}])".split(""),d={"{":"}","[":"]","(":")"},v=/[a-zA-Z0-9.]/;f.prototype._findCompletionBeginning=function(e){var t=[],n=c.NORMAL,i=0,s,o=!1;for(var u=0;u<e.length;u++){s=e[u],v.test(s)||(o=!0);switch(n){case c.NORMAL:if(s==='"')n=c.DQUOTE;else if(s==="'")n=c.QUOTE;else if(s===";")i=u+1;else if(s===" ")i=u+1;else if(h.indexOf(s)!=-1)t.push({token:s,start:i}),i=u+1;else if(p.indexOf(s)!=-1){var a=t.pop();if(!a||d[a.token]!=s)return{err:r.lookup("jstypeBeginSyntax")};s==="}"?i=u+1:i=a.start}break;case c.DQUOTE:if(s==="\\")u++;else{if(s==="\n")return{err:r.lookup("jstypeBeginUnterm")};s==='"'&&(n=c.NORMAL)}break;case c.QUOTE:if(s==="\\")u++;else{if(s==="\n")return{err:r.lookup("jstypeBeginUnterm")};s==="'"&&(n=c.NORMAL)}}}return n===c.NORMAL&&o&&(n=c.COMPLEX),{state:n,startPos:i}},f.prototype._isIteratorOrGenerator=function(e){if(e===null)return!1;if(typeof aObject=="object"){if(typeof e.__iterator__=="function"||e.constructor&&e.constructor.name==="Iterator")return!0;try{var t=e.toString();if(typeof e.next=="function"&&t.indexOf("[object Generator")===0)return!0}catch(n){return!1}}return!1},f.prototype._isSafeProperty=function(e,t){if(typeof e!="object")return!1;var n;while(e){try{n=Object.getOwnPropertyDescriptor(e,t);if(n)break}catch(r){return r.name==="NS_ERROR_XPC_BAD_CONVERT_JS"||r.name==="NS_ERROR_XPC_BAD_OP_ON_WN_PROTO"?!1:!0}e=Object.getPrototypeOf(e)}return n?n.get?typeof n.get!="function"||"prototype"in n.get:!1:!1},f.prototype.name="javascript",t.JavascriptType=f}),define("gcli/types/node",["require","exports","module","gcli/host","gcli/l10n","gcli/types","gcli/argument"],function(e,t,n){function c(e){}function h(e){if("allowEmpty"in e&&typeof e.allowEmpty!="boolean")throw new Error("Legal values for allowEmpty are [true|false]");this.allowEmpty=e.allowEmpty}var r=e("gcli/host"),i=e("gcli/l10n"),s=e("gcli/types"),o=e("gcli/types").Type,u=e("gcli/types").Status,a=e("gcli/types").Conversion,f=e("gcli/argument").BlankArgument;t.startup=function(){s.registerType(c),s.registerType(h)},t.shutdown=function(){s.unregisterType(c),s.unregisterType(h)};var l;typeof document!="undefined"&&(l=document),t._empty=[],t.setDocument=function(e){l=e,t._empty=l.querySelectorAll("x>:root")},t.unsetDocument=function(){l=undefined},t.getDocument=function(){return l},c.prototype=Object.create(o.prototype),c.prototype.stringify=function(e){return e==null?"":e.__gcliQuery||"Error"},c.prototype.parse=function(e){if(e.text==="")return new a(undefined,e,u.INCOMPLETE);var t;try{t=l.querySelectorAll(e.text)}catch(n){return new a(undefined,e,u.ERROR,i.lookup("nodeParseSyntax"))}if(t.length===0)return new a(undefined,e,u.INCOMPLETE,i.lookup("nodeParseNone"));if(t.length===1){var s=t.item(0);return s.__gcliQuery=e.text,r.flashNodes(s,!0),new a(s,e,u.VALID,"")}return r.flashNodes(t,!1),new a(undefined,e,u.ERROR,i.lookupFormat("nodeParseMultiple",[t.length]))},c.prototype.name="node",h.prototype=Object.create(o.prototype),h.prototype.getBlank=function(){return new a(t._empty,new f,u.VALID)},h.prototype.stringify=function(e){return e==null?"":e.__gcliQuery||"Error"},h.prototype.parse=function(e){if(e.text==="")return new a(undefined,e,u.INCOMPLETE);var t;try{t=l.querySelectorAll(e.text)}catch(n){return new a(undefined,e,u.ERROR,i.lookup("nodeParseSyntax"))}return t.length===0&&!this.allowEmpty?new a(undefined,e,u.INCOMPLETE,i.lookup("nodeParseNone")):(r.flashNodes(t,!1),new a(t,e,u.VALID,""))},h.prototype.name="nodelist"}),define("gcli/host",["require","exports","module"],function(e,t,n){function r(e,t){if(!e.__gcliHighlighting){e.__gcliHighlighting=!0;var n=e.style.background;e.style.background=t?"green":"red",setTimeout(function(){e.style.background=n,delete e.__gcliHighlighting},500)}}t.flashNodes=function(e,t){e.style?r(e,t):Array.prototype.forEach.call(e,function(e){r(e,t)})},t.exec=function(e,t){var n=JSON.stringify(t),r=new XMLHttpRequest;r.open("POST","/exec/",!0),r.setRequestHeader("Content-Type","application/json; charset=utf-8"),r.setRequestHeader("Content-Length",n.length),r.onreadystatechange=function(t){if(r.readyState==4){if(r.status>=300||r.status<200){e.reject(r.responseText);return}e.resolve(r.responseText)}},r.send(n)},t.func=function(e,t){var n=JSON.stringify(t),r=new XMLHttpRequest;r.open("POST","/func/",!0),r.setRequestHeader("Content-Type","application/json; charset=utf-8"),r.setRequestHeader("Content-Length",n.length),r.onreadystatechange=function(t){if(r.readyState==4){if(r.status>=300||r.status<200){e.reject(JSON.parse(r.responseText));return}e.resolve(JSON.parse(r.responseText))}},r.send(n)}}),define("gcli/types/resource",["require","exports","module","gcli/types","gcli/types/selection"],function(e,t,n){function o(e,t,n,r){this.name=e,this.type=t,this.inline=n,this.element=r}function u(e){this.name=e.href,this.name||(this.name=e.ownerNode.id?"css#"+e.ownerNode.id:"inline-css"),this.inline=e.href==null,this.type=o.TYPE_CSS,this.element=e}function a(e){this.name=e.src,this.name||(this.name=e.id?"script#"+e.id:"inline-script"),this.inline=e.src===""||e.src==null,this.type=o.TYPE_SCRIPT,this.element=e}function f(e,t){var n={};e.forEach(function(e){n[e.name]==null&&(n[e.name]=[]),n[e.name].push(e)}),Object.keys(n).forEach(function(e){var r=n[e];r.length>1&&t(r)})}function l(e){this.include=e.include;if(this.include!==o.TYPE_SCRIPT&&this.include!==o.TYPE_CSS&&this.include!=null)throw new Error("invalid include property: "+this.include)}var r=e("gcli/types"),i=e("gcli/types/selection").SelectionType;t.startup=function(){r.registerType(l)},t.shutdown=function(){r.unregisterType(l),t.clearResourceCache()},t.clearResourceCache=function(){c.clear()};var s;typeof document!="undefined"&&(s=document),t.setDocument=function(e){s=e},t.unsetDocument=function(){c.clear(),s=undefined},t.getDocument=function(){return s},o.prototype.getContents=function(){throw new Error("not implemented")},o.TYPE_SCRIPT="text/javascript",o.TYPE_CSS="text/css",u.prototype=Object.create(o.prototype),u.prototype.loadContents=function(e){e(this.element.ownerNode.innerHTML)},u._getAllStyles=function(){var e=[];return s==null?e:(Array.prototype.forEach.call(s.styleSheets,function(t){u._getStyle(t,e)}),f(e,function(e){for(var t=0;t<e.length;t++)e[t].name=e[t].name+"-"+t}),e)},u._getStyle=function(e,t){var n=c.get(e);n||(n=new u(e),c.add(e,n)),t.push(n);try{Array.prototype.forEach.call(e.cssRules,function(e){e.type==CSSRule.IMPORT_RULE&&e.styleSheet&&u._getStyle(e.styleSheet,t)},this)}catch(r){}},a.prototype=Object.create(o.prototype),a.prototype.loadContents=function(e){if(this.inline)e(this.element.innerHTML);else{var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState!==t.DONE)return;e(t.responseText)},t.open("GET",this.element.src,!0),t.send()}},a._getAllScripts=function(){if(s==null)return[];var e=s.querySelectorAll("script"),t=Array.prototype.map.call(e,function(e){var t=c.get(e);return t||(t=new a(e),c.add(e,t)),t});return f(t,function(e){for(var t=0;t<e.length;t++)e[t].name=e[t].name+"-"+t}),t},l.prototype=Object.create(i.prototype),l.prototype.getLookup=function(){var e=[];return this.include!==o.TYPE_SCRIPT&&Array.prototype.push.apply(e,u._getAllStyles()),this.include!==o.TYPE_CSS&&Array.prototype.push.apply(e,a._getAllScripts()),e.map(function(e){return{name:e.name,value:e}})},l.prototype.name="resource";var c={_cached:[],get:function(e){for(var t=0;t<c._cached.length;t++)if(c._cached[t].node===e)return c._cached[t].resource;return null},add:function(e,t){c._cached.push({node:e,resource:t})},clear:function(){c._cached=[]}}}),define("gcli/types/setting",["require","exports","module","gcli/settings","gcli/types","gcli/types/selection","gcli/types/basic"],function(e,t,n){function a(e){r.onChange.add(function(e){this.clearCache()},this)}function f(e){}var r=e("gcli/settings"),i=e("gcli/types"),s=e("gcli/types/selection").SelectionType,o=e("gcli/types/basic").DeferredType;t.startup=function(){i.registerType(a),i.registerType(f)},t.shutdown=function(){i.unregisterType(a),i.unregisterType(f)};var u=null;a.prototype=new s({cacheable:!0}),a.prototype.lookup=function(){return r.getAll().map(function(e){return{name:e.name,value:e}})},a.prototype.noMatch=function(){u=null},a.prototype.stringify=function(e){return u=e,s.prototype.stringify.call(this,e)},a.prototype.parse=function(e){var t=s.prototype.parse.call(this,e);return u=t.value,t},a.prototype.name="setting",f.prototype=Object.create(o.prototype),f.prototype.defer=function(){return u!=null?u.type:i.getType("blank")},f.prototype.name="settingValue"}),define("gcli/settings",["require","exports","module","gcli/util","gcli/types"],function(e,t,n){function a(){}function f(e,t,n,i){this.name=e,this.type=t,this.description=n,this._defaultValue=i,this.onChange=r.createEvent("Setting.onChange"),this.setDefault()}var r=e("gcli/util"),i=e("gcli/types"),s={},o={},u;t.setDefaults=function(e){Object.keys(e).forEach(function(t){o[t]===undefined&&(o[t]=e[t])})},t.startup=function(){u=new a,u.load(o)},t.shutdown=function(){},t.getAll=function(e){var t=[];return Object.keys(s).forEach(function(n){(e==null||n.indexOf(e)!==-1)&&t.push(s[n])}.bind(this)),t.sort(function(e,t){return e.name.localeCompare(t.name)}.bind(this)),t},t.addSetting=function(e){var n=i.getType(e.type),r=new f(e.name,n,e.description,e.defaultValue);return s[r.name]=r,t.onChange({added:r.name}),r},t.getSetting=function(e){return s[e]},t.removeSetting=function(e){var n=typeof nameOrPrefSpec=="string"?e:e.name;delete s[n],t.onChange({removed:n})},t.onChange=r.createEvent("Settings.onChange"),a.prototype.load=function(e){if(typeof localStorage=="undefined")return;var t=localStorage.getItem("gcli-settings");if(t!=null){var n=JSON.parse(t);Object.keys(n).forEach(function(t){e[t]=n[t]})}},a.prototype.save=function(e){if(typeof localStorage!="undefined"){var t=JSON.stringify(e);localStorage.setItem("gcli-settings",t)}},t.LocalSettingStorage=a,f.prototype.setDefault=function(){this.value=this._defaultValue},Object.defineProperty(f.prototype,"value",{get:function(){return o[this.name]},set:function(e){o[this.name]=e,u.save(o),this.onChange({setting:this,value:e})},enumerable:!0})}),define("gcli/cli",["require","exports","module","gcli/util","gcli/ui/view","gcli/l10n","gcli/canon","gcli/promise","gcli/types","gcli/types/basic","gcli/argument"],function(require,exports,module){function Assignment(e,t){this.param=e,this.conversion=undefined,this.paramIndex=t,this.onAssignmentChange=util.createEvent("Assignment.onAssignmentChange"),this.setBlank()}function CommandAssignment(){var e={name:"__command",type:"command"},t=this;Object.defineProperty(e,"description",{get:function(){var e=t.value;return e&&e.description?e.description:"The command to execute"},enumerable:!0}),this.param=new canon.Parameter(e),this.paramIndex=-1,this.onAssignmentChange=util.createEvent("CommandAssignment.onAssignmentChange"),this.setBlank()}function UnassignedAssignment(e,t){this.param=new canon.Parameter({name:"__unassigned",description:l10n.lookup("cliOptions"),type:{name:"param",requisition:e,isIncompleteName:t.text.charAt(0)==="-"}}),this.paramIndex=-1,this.onAssignmentChange=util.createEvent("UnassignedAssignment.onAssignmentChange"),this.conversion=this.param.type.parse(t),this.conversion.assign(this)}function Requisition(e,t){this.environment=e,this.document=t;if(this.document==null)try{this.document=document}catch(n){}this.commandAssignment=new CommandAssignment,this._assignments={},this.assignmentCount=0,this._args=[],this._unassigned=[],this._structuralChangeInProgress=!1,this.commandAssignment.onAssignmentChange.add(this._commandAssignmentChanged,this),this.commandAssignment.onAssignmentChange.add(this._assignmentChanged,this),this.commandOutputManager=canon.commandOutputManager,this.onAssignmentChange=util.createEvent("Requisition.onAssignmentChange"),this.onTextChange=util.createEvent("Requisition.onTextChange")}function isSimple(e){for(var t=0;t<e.length;t++){var n=e.charAt(t);if(n===" "||n==='"'||n==="'"||n==="{"||n==="}"||n==="\\")return!1}return!0}function Output(e){e=e||{},this.command=e.command||"",this.args=e.args||{},this.typed=e.typed||"",this.canonical=e.canonical||"",this.hidden=e.hidden===!0?!0:!1,this.data=undefined,this.completed=!1,this.error=!1,this.start=new Date,this.onClose=util.createEvent("Output.onClose"),this.onChange=util.createEvent("Output.onChange")}var util=require("gcli/util"),view=require("gcli/ui/view"),l10n=require("gcli/l10n"),canon=require("gcli/canon"),Promise=require("gcli/promise").Promise,Status=require("gcli/types").Status,Conversion=require("gcli/types").Conversion,ArrayType=require("gcli/types/basic").ArrayType,StringType=require("gcli/types/basic").StringType,BooleanType=require("gcli/types/basic").BooleanType,NumberType=require("gcli/types/basic").NumberType,Argument=require("gcli/argument").Argument,ArrayArgument=require("gcli/argument").ArrayArgument,NamedArgument=require("gcli/argument").NamedArgument,TrueNamedArgument=require("gcli/argument").TrueNamedArgument,MergedArgument=require("gcli/argument").MergedArgument,ScriptArgument=require("gcli/argument").ScriptArgument,evalCommand;exports.startup=function(){evalCommand=canon.addCommand(evalCommandSpec)},exports.shutdown=function(){canon.removeCommand(evalCommandSpec.name),evalCommand=undefined},Object.defineProperty(Assignment.prototype,"arg",{get:function(){return this.conversion.arg},enumerable:!0}),Object.defineProperty(Assignment.prototype,"value",{get:function(){return this.conversion.value},enumerable:!0}),Assignment.prototype.getMessage=function(){return this.conversion.message?this.conversion.message:""},Assignment.prototype.getPredictions=function(){return this.conversion.getPredictions()},Assignment.prototype.getPredictionAt=function(e){e==null&&(e=0);if(this.isInName())return undefined;var t=this.getPredictions();return t.length===0?undefined:(e%=t.length,e<0&&(e=t.length+e),t[e])},Assignment.prototype.isInName=function(){return this.conversion.arg.type==="NamedArgument"&&this.conversion.arg.prefix.slice(-1)!==" "},Assignment.prototype.setConversion=function(e){var t=this.conversion;this.conversion=e,this.conversion.assign(this);if(this.conversion.equals(t))return;this.onAssignmentChange({assignment:this,conversion:this.conversion,oldConversion:t})},Assignment.prototype.setBlank=function(){this.setConversion(this.param.type.getBlank())},Assignment.prototype.ensureVisibleArgument=function(){if(this.conversion.arg.type!=="BlankArgument")return!1;var e=this.conversion.arg.beget({text:"",prefixSpace:this.param instanceof CommandAssignment});return this.conversion=this.param.type.parse(e),this.conversion.assign(this),!0},Assignment.prototype.getStatus=function(e){return this.param.isDataRequired&&!this.conversion.isDataProvided()?Status.INCOMPLETE:!this.param.isDataRequired&&this.arg.type==="BlankArgument"?Status.VALID:this.conversion.getStatus(e)},Assignment.prototype.toString=function(){return this.conversion.toString()},Object.defineProperty(Assignment.prototype,"_summaryJson",{get:function(){return{param:this.param.name+"/"+this.param.type.name,defaultValue:this.param.defaultValue,arg:this.conversion.arg._summaryJson,value:this.value,message:this.getMessage(),status:this.getStatus().toString(),predictionCount:this.getPredictions().length}},enumerable:!0}),exports.Assignment=Assignment;var customEval=eval;exports.setEvalFunction=function(e){customEval=e},exports.unsetEvalFunction=function(){customEval=undefined};var evalCommandSpec={name:"{",params:[{name:"javascript",type:"javascript",description:""}],hidden:!0,returnType:"object",description:{key:"cliEvalJavascript"},exec:function(e,t){return customEval(e.javascript)},evalRegexp:/^\s*{\s*/};CommandAssignment.prototype=Object.create(Assignment.prototype),CommandAssignment.prototype.getStatus=function(e){return Status.combine(Assignment.prototype.getStatus.call(this,e),this.conversion.value&&this.conversion.value.exec?Status.VALID:Status.INCOMPLETE)},exports.CommandAssignment=CommandAssignment,UnassignedAssignment.prototype=Object.create(Assignment.prototype),UnassignedAssignment.prototype.getStatus=function(e){return this.conversion.getStatus()},Requisition.prototype.destroy=function(){this.commandAssignment.onAssignmentChange.remove(this._commandAssignmentChanged,this),this.commandAssignment.onAssignmentChange.remove(this._assignmentChanged,this),delete this.document,delete this.environment},Requisition.prototype._assignmentChanged=function(e){if(e.oldConversion!=null&&e.conversion.valueEquals(e.oldConversion))return;if(this._structuralChangeInProgress)return;this.onAssignmentChange(e);if(e.conversion.argEquals(e.oldConversion))return;this.onTextChange()},Requisition.prototype._commandAssignmentChanged=function(e){if(e.conversion.valueEquals(e.oldConversion))return;this._assignments={};var t=this.commandAssignment.value;if(t)for(var n=0;n<t.params.length;n++){var r=t.params[n],i=new Assignment(r,n);i.onAssignmentChange.add(this._assignmentChanged,this),this._assignments[r.name]=i}this.assignmentCount=Object.keys(this._assignments).length},Requisition.prototype.getAssignment=function(e){var t=typeof e=="string"?e:Object.keys(this._assignments)[e];return this._assignments[t]||undefined},Requisition.prototype._getFirstBlankPositionalAssignment=function(){var e=null;return Object.keys(this._assignments).some(function(t){var n=this.getAssignment(t);return n.arg.type==="BlankArgument"&&n.param.isPositionalAllowed?(e=n,!0):!1},this),e},Requisition.prototype.getParameterNames=function(){return Object.keys(this._assignments)},Requisition.prototype.cloneAssignments=function(){return Object.keys(this._assignments).map(function(e){return this._assignments[e]},this)},Requisition.prototype.getStatus=function(){var e=Status.VALID;if(this._unassigned.length!==0){var t=!0;this._unassigned.forEach(function(e){e.param.type.isIncompleteName||(t=!1)}),e=t?Status.INCOMPLETE:Status.ERROR}return this.getAssignments(!0).forEach(function(t){var n=t.getStatus();n>e&&(e=n)},this),e===Status.INCOMPLETE&&(e=Status.ERROR),e},Requisition.prototype.getArgsObject=function(){var e={};return this.getAssignments().forEach(function(t){e[t.param.name]=t.conversion.isDataProvided()?t.value:t.param.defaultValue},this),e},Requisition.prototype.getAssignments=function(e){var t=[];return e===!0&&t.push(this.commandAssignment),Object.keys(this._assignments).forEach(function(e){t.push(this.getAssignment(e))},this),t},Requisition.prototype.setAssignment=function(e,t){var n=e.arg.getArgs(),r=e.param.type.parse(t);e.setConversion(r);var i=t.getArgs(),s=Math.max(n.length,i.length);for(var o=0;o<s;o++){if(o>=n.length||n[o].type==="BlankArgument"){this._args.push(i[o]);continue}var u=this._args.indexOf(n[o]);if(u===-1)throw console.error("Couldn't find ",n[o]," in ",this._args),new Error("Couldn't find "+n[o]);o>=i.length?this._args.splice(u,1):this._args[u]=i[o]}},Requisition.prototype.setBlankArguments=function(){this.getAssignments().forEach(function(e){e.setBlank()},this)},Requisition.prototype.complete=function(e,t){var n=this.getAssignmentAt(e.start);this.onTextChange.holdFire();var r=n.getPredictionAt(t);if(r==null){n.arg.suffix.slice(-1)!==" "&&n.getStatus()===Status.VALID&&this._addSpace(n);if(n.isInName()){var i=n.conversion.arg.beget({prefixPostSpace:!0});this.setAssignment(n,i)}}else{var s=n.arg.beget({text:r.name});this.setAssignment(n,s),r.incomplete||(this._addSpace(n),n instanceof UnassignedAssignment&&this.update(this.toString()))}this.onTextChange(),this.onTextChange.resumeFire()},Requisition.prototype._addSpace=function(e){var t=e.conversion.arg.beget({suffixSpace:!0});t!==e.conversion.arg&&this.setAssignment(e,t)},Requisition.prototype.decrement=function(e){var t=e.param.type.decrement(e.conversion.value);if(t!=null){var n=e.param.type.stringify(t),r=e.conversion.arg.beget({text:n});this.setAssignment(e,r)}},Requisition.prototype.increment=function(e){var t=e.param.type.increment(e.conversion.value);if(t!=null){var n=e.param.type.stringify(t),r=e.conversion.arg.beget({text:n});this.setAssignment(e,r)}},Requisition.prototype.toCanonicalString=function(){var e=[],t=this.commandAssignment.value?this.commandAssignment.value.name:this.commandAssignment.arg.text;return e.push(t),Object.keys(this._assignments).forEach(function(t){var n=this._assignments[t],r=n.param.type;n.value!==n.param.defaultValue&&(e.push(" "),e.push(r.stringify(n.value)))},this),t==="{"&&this.getAssignment(0).arg.suffix.indexOf("}")===-1&&e.push(" }"),e.join("")},Requisition.prototype.createInputArgTrace=function(){if(!this._args)throw new Error("createInputMap requires a command line. See source.");var e=[],t;return this._args.forEach(function(n){for(t=0;t<n.prefix.length;t++)e.push({arg:n,"char":n.prefix[t],part:"prefix"});for(t=0;t<n.text.length;t++)e.push({arg:n,"char":n.text[t],part:"text"});for(t=0;t<n.suffix.length;t++)e.push({arg:n,"char":n.suffix[t],part:"suffix"})}),e},Requisition.prototype.toString=function(){return this._args?this._args.map(function(e){return e.toString()}).join(""):this.toCanonicalString()},Requisition.prototype.typedEndsWithSeparator=function(){if(this._args){var e=this._args.slice(-1)[0];return e.suffix.slice(-1)===" "?!0:e.text===""&&e.suffix===""&&e.prefix.slice(-1)===" "}return this.toCanonicalString().slice(-1)===" "},Requisition.prototype.getInputStatusMarkup=function(e){var t=this.createInputArgTrace();e=e===0?0:e-1;var n=t[e],r=[];for(var i=0;i<t.length;i++){var s=t[i],o=s.arg,u=Status.VALID;if(s.part==="text"){u=o.assignment.getStatus(o);if(u===Status.INCOMPLETE){var a=n.arg.assignment.arg.type==="NamedArgument",f=n.part==="text"||a&&n.part==="suffix";if(o.assignment!==n.arg.assignment||!f)o.assignment instanceof CommandAssignment||(u=Status.ERROR)}}r.push({status:u,string:s.char})}var i=0;while(i<r.length-1)r[i].status===r[i+1].status?(r[i].string+=r[i+1].string,r.splice(i+1,1)):i++;return r},Requisition.prototype.getAssignmentAt=function(e){if(!this._args)throw console.trace(),new Error("Missing args");if(e===0)return this.commandAssignment;var t=[],n,r;for(n=0;n<this._args.length;n++){var i=this._args[n],s=i.assignment;for(r=0;r<i.prefix.length;r++)t.push(s);for(r=0;r<i.text.length;r++)t.push(s);if(i.assignment.arg.type!=="NamedArgument")if(this._args.length>n+1)s=this._args[n+1].assignment;else{var o=this._getFirstBlankPositionalAssignment();o!=null&&(s=o)}for(r=0;r<i.suffix.length;r++)t.push(s)}var u=t[e-1];if(!u)throw new Error("Missing assignment. cursor="+e+" text="+this.toString());return u},Requisition.prototype.exec=function(e){var t,n,r=!1;e&&e.hidden&&(r=!0),e&&(typeof e=="string"?this.update(e):typeof e.typed=="string"?this.update(e.typed):e.command!=null&&(t=canon.getCommand(e.command),t||console.error("Command not found: "+e.command),n=e.args)),t||(t=this.commandAssignment.value,n=this.getArgsObject());if(!t)throw new Error("Unknown command");var i=this.toString();evalCommandSpec.evalRegexp.test(i)&&(i=i.replace(evalCommandSpec.evalRegexp,""),i=i.replace(/\s*}\s*$/,""));var s=new Output({command:t,args:n,typed:i,canonical:this.toCanonicalString(),hidden:r});this.commandOutputManager.onOutput({output:s});try{var o=exports.createExecutionContext(this),u=t.exec(n,o);u!=null&&typeof u.then=="function"?(u.then(function(e){s.complete(e)},function(e){s.error=!0,s.complete(e)}),s.promise=u):s.complete(u)}catch(a){console.error(a),s.error=!0,s.complete(a)}return this.update(""),s},Requisition.prototype.update=function(e){this._structuralChangeInProgress=!0,this._args=this._tokenize(e);var t=this._args.slice(0);this._split(t),this._assign(t),this._structuralChangeInProgress=!1,this.onTextChange()},Object.defineProperty(Requisition.prototype,"_summaryJson",{get:function(){var e={$args:this._args.map(function(e){return e._summaryJson}),_command:this.commandAssignment._summaryJson,_unassigned:this._unassigned.forEach(function(e){return e._summaryJson})};return Object.keys(this._assignments).forEach(function(t){e[t]=this.getAssignment(t)._summaryJson}.bind(this)),e},enumerable:!0});var In={WHITESPACE:1,SIMPLE:2,SINGLE_Q:3,DOUBLE_Q:4,SCRIPT:5};Requisition.prototype._tokenize=function(e){function n(e){return e.replace(/\uF000/g," ").replace(/\uF001/g,"'").replace(/\uF002/g,'"').replace(/\uF003/g,"{").replace(/\uF004/g,"}")}if(e==null||e.length===0)return[new Argument("","","")];if(isSimple(e))return[new Argument(e,"","")];var t=In.WHITESPACE;e=e.replace(/\\\\/g,"\\").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\ /g,"").replace(/\\'/g,"").replace(/\\"/g,"").replace(/\\{/g,"").replace(/\\}/g,"");var r=0,i=0,s="",o=[],u=0;for(;;){var a=e[r],f;switch(t){case In.WHITESPACE:a==="'"?(s=e.substring(i,r+1),t=In.SINGLE_Q,i=r+1):a==='"'?(s=e.substring(i,r+1),t=In.DOUBLE_Q,i=r+1):a==="{"?(s=e.substring(i,r+1),t=In.SCRIPT,u++,i=r+1):/ /.test(a)||(s=e.substring(i,r),t=In.SIMPLE,i=r);break;case In.SIMPLE:a===" "&&(f=n(e.substring(i,r)),o.push(new Argument(f,s,"")),t=In.WHITESPACE,i=r,s="");break;case In.SINGLE_Q:a==="'"&&(f=n(e.substring(i,r)),o.push(new Argument(f,s,a)),t=In.WHITESPACE,i=r+1,s="");break;case In.DOUBLE_Q:a==='"'&&(f=n(e.substring(i,r)),o.push(new Argument(f,s,a)),t=In.WHITESPACE,i=r+1,s="");break;case In.SCRIPT:a==="{"?u++:a==="}"&&(u--,u===0&&(f=n(e.substring(i,r)),o.push(new ScriptArgument(f,s,a)),t=In.WHITESPACE,i=r+1,s=""))}r++;if(r>=e.length){if(t===In.WHITESPACE){if(r!==i){var l=e.substring(i,r),c=o[o.length-1];c?c.suffix+=l:o.push(new Argument("",l,""))}}else t===In.SCRIPT?(f=n(e.substring(i,r+1)),o.push(new ScriptArgument(f,s,""))):(f=n(e.substring(i,r+1)),o.push(new Argument(f,s,"")));break}}return o},Requisition.prototype._split=function(e){var t;if(e[0].type==="ScriptArgument"){t=new Conversion(evalCommand,new ScriptArgument),this.commandAssignment.setConversion(t);return}var n=1;while(n<=e.length){var r=n===1?e[0]:new MergedArgument(e,0,n);t=this.commandAssignment.param.type.parse(r);if(!t.value||t.value.exec)break;n++}this.commandAssignment.setConversion(t);for(var i=0;i<n;i++)e.shift()},Requisition.prototype._addUnassignedArgs=function(e){e.forEach(function(e){this._unassigned.push(new UnassignedAssignment(this,e))}.bind(this))},Requisition.prototype._assign=function(e){this._unassigned=[];if(!this.commandAssignment.value){this._addUnassignedArgs(e);return}if(e.length===0){this.setBlankArguments();return}if(this.assignmentCount===0){this._addUnassignedArgs(e);return}if(this.assignmentCount===1){var t=this.getAssignment(0);if(t.param.type instanceof StringType){var n=e.length===1?e[0]:new MergedArgument(e),r=t.param.type.parse(n);t.setConversion(r);return}}var i=this.getParameterNames(),s={};this.getAssignments(!1).forEach(function(t){var n=0;while(n<e.length)if(t.param.isKnownAs(e[n].text)){var r=e.splice(n,1)[0];i=i.filter(function(e){return e!==t.param.name});if(t.param.type instanceof BooleanType)r=new TrueNamedArgument(r);else{var o=null;n+1<=e.length&&(o=e.splice(n,1)[0]),r=new NamedArgument(r,o)}if(t.param.type instanceof ArrayType){var u=s[t.param.name];u||(u=new ArrayArgument,s[t.param.name]=u),u.addArgument(r)}else{var a=t.param.type.parse(r);t.setConversion(a)}}else n++},this),i.forEach(function(t){var n=this.getAssignment(t);if(!n.param.isPositionalAllowed){n.setBlank();return}if(n.param.type instanceof ArrayType){var r=s[n.param.name];r||(r=new ArrayArgument,s[n.param.name]=r),r.addArguments(e),e=[]}else if(e.length===0)n.setBlank();else{var i=e.splice(0,1)[0],o=n.param.type instanceof NumberType?/-[-a-zA-Z_]/.test(i.text):i.text.charAt(0)==="-";if(o)this._unassigned.push(new UnassignedAssignment(this,i));else{var u=n.param.type.parse(i);n.setConversion(u)}}},this),Object.keys(s).forEach(function(e){var t=this.getAssignment(e),n=t.param.type.parse(s[e]);t.setConversion(n)},this),this._addUnassignedArgs(e)},exports.Requisition=Requisition,Output.prototype.complete=function(e){this.data=e,this.end=new Date,this.duration=this.end.getTime()-this.start.getTime(),this.completed=!0,this.onChange({output:this})},Output.prototype.toDom=function(e){util.clearElement(e);var t=e.ownerDocument,n=this.data;if(n==null)return;var r;typeof HTMLElement!="undefined"&&n instanceof HTMLElement?r=n:n.isView?r=n.toDom(t):(this.command.returnType==="terminal"?Array.isArray(n)?(r=util.createElement(t,"div"),n.forEach(function(){var e=util.createElement(t,"textarea");e.classList.add("gcli-row-subterminal"),e.readOnly=!0,r.appendChild(e)})):(r=util.createElement(t,"textarea"),r.classList.add("gcli-row-terminal"),r.readOnly=!0):r=util.createElement(t,"p"),util.setContents(r,n.toString()));var i=r.querySelectorAll("*[href]");for(var s=0;s<i.length;s++)i[s].setAttribute("target","_blank");e.appendChild(r)},Output.prototype.toString=function(e){var t=this.data;return t==null?"":typeof HTMLElement!="undefined"&&t instanceof HTMLElement?t.textContent:t.isView?t.toDom(e).textContent:t.toString()},exports.Output=Output,exports.createExecutionContext=function(e){return{exec:e.exec.bind(e),update:e.update.bind(e),document:e.document,environment:e.environment,createView:view.createView,createPromise:function(){return new Promise}}}}),define("gcli/ui/view",["require","exports","module","gcli/util","gcli/ui/domtemplate"],function(e,t,n){var r=e("gcli/util"),i=e("gcli/ui/domtemplate");t.createView=function(e){if(e.html==null)throw new Error("options.html is missing");return{isView:!0,appendTo:function(e,t){t===!0&&r.clearElement(e),e.appendChild(this.toDom(e.ownerDocument))},toDom:function(t){e.css&&r.importCss(e.css,t,e.cssId);var n=r.toDom(t,e.html);return i.template(n,e.data||{},e.options||{}),n}}}}),define("gcli/ui/domtemplate",["require","exports","module"],function(require,exports,module){function template(e,t,n){var r=new Templater(n||{});return r.processNode(e,t),r}function Templater(e){e==null&&(e={allowEval:!0}),this.options=e,e.stack&&Array.isArray(e.stack)?this.stack=e.stack:typeof e.stack=="string"?this.stack=[e.stack]:this.stack=[],this.nodes=[]}Templater.prototype._templateRegion=/\$\{([^}]*)\}/g,Templater.prototype._splitSpecial=/\uF001|\uF002/,Templater.prototype._isPropertyScript=/^[_a-zA-Z0-9.]*$/,Templater.prototype.processNode=function(e,t){typeof e=="string"&&(e=document.getElementById(e)),t==null&&(t={}),this.stack.push(e.nodeName+(e.id?"#"+e.id:""));var n=!1;try{if(e.attributes&&e.attributes.length){if(e.hasAttribute("foreach")){this._processForEach(e,t);return}if(e.hasAttribute("if")&&!this._processIf(e,t))return;this.nodes.push(t.__element),t.__element=e,n=!0;var r=Array.prototype.slice.call(e.attributes);for(var i=0;i<r.length;i++){var s=r[i].value,o=r[i].name;this.stack.push(o);try{if(o==="save")s=this._stripBraces(s),this._property(s,t,e),e.removeAttribute("save");else if(o.substring(0,2)==="on"){s=this._stripBraces(s);var u=this._property(s,t);typeof u!="function"&&this._handleError("Expected "+s+" to resolve to a function, but got "+typeof u),e.removeAttribute(o);var a=e.hasAttribute("capture"+o.substring(2));e.addEventListener(o.substring(2),u,a),a&&e.removeAttribute("capture"+o.substring(2))}else{var f=s.replace(this._templateRegion,function(e){var n=this._envEval(e.slice(2,-1),t,s);return this.options.blankNullUndefined&&n==null&&(n=""),n}.bind(this));o.charAt(0)==="_"?(e.removeAttribute(o),e.setAttribute(o.substring(1),f)):s!==f&&(r[i].value=f)}}finally{this.stack.pop()}}}var l=Array.prototype.slice.call(e.childNodes);for(var c=0;c<l.length;c++)this.processNode(l[c],t);e.nodeType===3&&this._processTextNode(e,t)}finally{n&&(t.__element=this.nodes.pop()),this.stack.pop()}},Templater.prototype._processIf=function(e,t){this.stack.push("if");try{var n=e.getAttribute("if"),r=this._stripBraces(n),i=!0;try{var s=this._envEval(r,t,n);i=!!s}catch(o){this._handleError("Error with '"+r+"'",o),i=!1}return i||e.parentNode.removeChild(e),e.removeAttribute("if"),i}finally{this.stack.pop()}},Templater.prototype._processForEach=function(e,t){this.stack.push("foreach");try{var n=e.getAttribute("foreach"),r=n,i="param";if(r.charAt(0)==="$")r=this._stripBraces(r);else{var s=r.split(" in ");i=s[0].trim(),r=this._stripBraces(s[1].trim())}e.removeAttribute("foreach");try{var o=this._envEval(r,t,n);this._handleAsync(o,e,function(n,r){this._processForEachLoop(n,e,r,t,i)}.bind(this)),e.parentNode.removeChild(e)}catch(u){this._handleError("Error with '"+r+"'",u)}}finally{this.stack.pop()}},Templater.prototype._processForEachLoop=function(e,t,n,r,i){if(Array.isArray(e))e.forEach(function(e,s){this._processForEachMember(e,t,n,r,i,""+s)},this);else for(var s in e)e.hasOwnProperty(s)&&this._processForEachMember(s,t,n,r,i,s)},Templater.prototype._processForEachMember=function(e,t,n,r,i,s){this.stack.push(s);try{this._handleAsync(e,n,function(e,n){r[i]=e;if(t.nodeName.toLowerCase()==="loop")for(var s=0;s<t.childNodes.length;s++){var o=t.childNodes[s].cloneNode(!0);n.parentNode.insertBefore(o,n),this.processNode(o,r)}else{var o=t.cloneNode(!0);o.removeAttribute("foreach"),n.parentNode.insertBefore(o,n),this.processNode(o,r)}delete r[i]}.bind(this))}finally{this.stack.pop()}},Templater.prototype._processTextNode=function(e,t){var n=e.data;n=n.replace(this._templateRegion,"$$$1");var r=n.split(this._splitSpecial);r.length>1&&(r.forEach(function(n){if(n===null||n===undefined||n==="")return;n.charAt(0)==="$"&&(n=this._envEval(n.slice(1),t,e.data)),this._handleAsync(n,e,function(e,t){var n=t.ownerDocument;e==null&&(e=this.options.blankNullUndefined?"":""+e);if(typeof e.cloneNode=="function")e=this._maybeImportNode(e,n),t.parentNode.insertBefore(e,t);else if(typeof e.item=="function"&&e.length){var r=Array.prototype.slice.call(e,0);r.forEach(function(e){var r=this._maybeImportNode(e,n);t.parentNode.insertBefore(r,t)}.bind(this))}else e=n.createTextNode(e.toString()),t.parentNode.insertBefore(e,t)}.bind(this))},this),e.parentNode.removeChild(e))},Templater.prototype._maybeImportNode=function(e,t){return e.ownerDocument===t?e:t.importNode(e,!0)},Templater.prototype._handleAsync=function(e,t,n){if(e!=null&&typeof e.then=="function"){var r=t.ownerDocument.createElement("span");t.parentNode.insertBefore(r,t),e.then(function(e){n(e,r),r.parentNode.removeChild(r)}.bind(this))}else n(e,t)},Templater.prototype._stripBraces=function(e){return e.match(this._templateRegion)?e.slice(2,-1):(this._handleError("Expected "+e+" to match ${...}"),e)},Templater.prototype._property=function(e,t,n){try{typeof e=="string"&&(e=e.split("."));var r=t[e[0]];return e.length===1?(n!==undefined&&(t[e[0]]=n),typeof r=="function"?r.bind(t):r):r?this._property(e.slice(1),r,n):(this._handleError('"'+e[0]+'" is undefined'),null)}catch(i){return this._handleError("Path error with '"+e+"'",i),"${"+e+"}"}},Templater.prototype._envEval=function(script,data,frame){try{this.stack.push(frame.replace(/\s+/g," "));if(this._isPropertyScript.test(script))return this._property(script,data);if(!this.options.allowEval)return this._handleError("allowEval is not set, however '"+script+"'"+" can not be resolved using a simple property path."),"${"+script+"}";with(data)return eval(script)}catch(ex){return this._handleError("Template error evaluating '"+script+"'",ex),"${"+script+"}"}finally{this.stack.pop()}},Templater.prototype._handleError=function(e,t){this._logError(e+" (In: "+this.stack.join(" > ")+")"),t&&this._logError(t)},Templater.prototype._logError=function(e){console.log(e)},exports.Templater=Templater,exports.template=template}),define("gcli/promise",["require","exports","module"],function(e,t,n){function r(){this._status=r.PENDING,this._value=undefined,this._onSuccessHandlers=[],this._onErrorHandlers=[],this._id=r._nextId++,r._outstanding[this._id]=this}r._nextId=0,r._outstanding=[],r._recent=[],r.ERROR=-1,r.PENDING=0,r.SUCCESS=1,r.prototype.isPromise=!0,r.prototype.isComplete=function(){return this._status!=r.PENDING},r.prototype.isResolved=function(){return this._status==r.SUCCESS},r.prototype.isRejected=function(){return this._status==r.ERROR},r.prototype.then=function(e,t){return typeof e=="function"&&(this._status===r.SUCCESS?e.call(null,this._value):this._status===r.PENDING&&this._onSuccessHandlers.push(e)),typeof t=="function"&&(this._status===r.ERROR?t.call(null,this._value):this._status===r.PENDING&&this._onErrorHandlers.push(t)),this},r.prototype.chainPromise=function(e){var t=new r;return t._chainedFrom=this,this.then(function(n){try{t.resolve(e(n))}catch(r){t.reject(r)}},function(e){t.reject(e)}),t},r.prototype.resolve=function(e){return this._complete(this._onSuccessHandlers,r.SUCCESS,e,"resolve")},r.prototype.reject=function(e){return this._complete(this._onErrorHandlers,r.ERROR,e,"reject")},r.prototype._complete=function(e,t,n,i){if(this._status!=r.PENDING)throw r._error("Promise complete. Attempted "+i+"() with ",n),r._error("Prev status = ",this._status,", value = ",this._value),new Error("Promise already complete");if(e.length==0&&t==r.ERROR){r._error("Promise rejection ignored and silently dropped"),r._error(n);var s;if(n.stack){r._error("Printing original stack");for(s=n.stack;s;s=s.caller)r._error(s)}else if(n.fileName&&n.lineNumber)r._error("Error originating at "+n.fileName+", line "+n.lineNumber);else if(typeof Components!="undefined")try{if(Components.stack){r._error("Original stack not available. Printing current stack");for(s=Components.stack;s;s=s.caller)r._error(s)}}catch(o){}}return r._setTimeout(function(){this._status=t,this._value=n,e.forEach(function(e){e.call(null,this._value)},this),delete this._onSuccessHandlers,delete this._onErrorHandlers,delete r._outstanding[this._id],r._recent.push(this);while(r._recent.length>20)r._recent.shift()}.bind(this),1),this},r.prototype.toString=function(){return"[Promise "+this._id+"]"},r.group=function(e){Array.isArray(e)||(e=Array.prototype.slice.call(arguments));if(e.length===0)return(new r).resolve([]);var t=new r,n=[],i=0,s=function(s){return function(o){n[s]=o,i++,t._status!==r.ERROR&&i===e.length&&t.resolve(n)}};return e.forEach(function(e,n){var r=s(n),i=t.reject.bind(t);e.then(r,i)}),t},r._setTimeout=function(e,t){return setTimeout(e,t)},r._error=function(){console.warn(arguments)},t.Promise=r}),define("gcli/ui/intro",["require","exports","module","gcli/settings","gcli/l10n","gcli/util","gcli/ui/view","gcli/cli","text!gcli/ui/intro.html"],function(e,t,n){var r=e("gcli/settings"),i=e("gcli/l10n"),s=e("gcli/util"),o=e("gcli/ui/view"),u=e("gcli/cli").Output,a={name:"hideIntro",type:"boolean",description:i.lookup("hideIntroDesc"),defaultValue:!1},f;t.startup=function(){f=r.addSetting(a)},t.shutdown=function(){r.removeSetting(a),f=undefined},t.maybeShowIntro=function(e,t){if(f.value)return;var n=new u;e.onOutput({output:n});var r=this.createView(t,n);n.complete(r)},t.createView=function(t,n){return o.createView({html:e("text!gcli/ui/intro.html"),options:{stack:"intro.html"},data:{l10n:i.propertyLookup,onclick:function(e){s.updateCommand(e.currentTarget,t)},ondblclick:function(e){s.executeCommand(e.currentTarget,t)},showHideButton:n!=null,onGotIt:function(e){f.value=!0,n.onClose()}}})}}),define("text!gcli/ui/intro.html",[],'\n<div>\n  <p>${l10n.introTextOpening}</p>\n\n  <p>\n    ${l10n.introTextCommands}\n    <span class="gcli-out-shortcut" onclick="${onclick}"\n        ondblclick="${ondblclick}" data-command="help">help</span>,\n    ${l10n.introTextKeys} <code>${l10n.introTextF1Escape}</code>.\n  </p>\n\n  <button onclick="${onGotIt}" if="${showHideButton}">${l10n.introTextGo}</button>\n</div>\n'),define("gcli/ui/focus",["require","exports","module","gcli/util","gcli/settings","gcli/l10n","gcli/canon"],function(e,t,n){function l(e,t){e=e||{},this._document=t.document||document,this._debug=e.debug||!1,this._blurDelay=e.blurDelay||150,this._window=this._document.defaultView,this._commandOutputManager=e.commandOutputManager||o.commandOutputManager,this._commandOutputManager.onOutput.add(this._outputted,this),this._blurDelayTimeout=null,this._monitoredElements=[],this._isError=!1,this._hasFocus=!1,this._helpRequested=!1,this._recentOutput=!1,this.onVisibilityChange=r.createEvent("FocusManager.onVisibilityChange"),this._focused=this._focused.bind(this),this._document.addEventListener("focus",this._focused,!0),f.onChange.add(this._eagerHelperChanged,this),this.isTooltipVisible=undefined,this.isOutputVisible=undefined,this._checkShow()}var r=e("gcli/util"),i=e("gcli/settings"),s=e("gcli/l10n"),o=e("gcli/canon"),u={NEVER:1,SOMETIMES:2,ALWAYS:3},a={name:"eagerHelper",type:{name:"selection",lookup:[{name:"never",value:u.NEVER},{name:"sometimes",value:u.SOMETIMES},{name:"always",value:u.ALWAYS}]},defaultValue:u.SOMETIMES,description:s.lookup("eagerHelperDesc"),ignoreTypeDifference:!0},f;t.startup=function(){f=i.addSetting(a)},t.shutdown=function(){i.removeSetting(a),f=undefined},l.prototype.destroy=function(){f.onChange.remove(this._eagerHelperChanged,this),this._document.removeEventListener("focus",this._focused,!0),this._commandOutputManager.onOutput.remove(this._outputted,this);for(var e=0;e<this._monitoredElements.length;e++){var t=this._monitoredElements[e];console.error("Hanging monitored element: ",t.element),t.element.removeEventListener("focus",t.onFocus,!0),t.element.removeEventListener("blur",t.onBlur,!0)}this._blurDelayTimeout&&(this._window.clearTimeout(this._blurDelayTimeout),this._blurDelayTimeout=null),delete this._focused,delete this._document,delete this._window,delete this._commandOutputManager},l.prototype.addMonitoredElement=function(e,t){this._debug&&console.log("FocusManager.addMonitoredElement("+(t||"unknown")+")");var n={element:e,where:t,onFocus:function(){this._reportFocus(t)}.bind(this),onBlur:function(){this._reportBlur(t)}.bind(this)};e.addEventListener("focus",n.onFocus,!0),e.addEventListener("blur",n.onBlur,!0),this._document.activeElement===e&&this._reportFocus(t),this._monitoredElements.push(n)},l.prototype.removeMonitoredElement=function(e,t){this._debug&&console.log("FocusManager.removeMonitoredElement("+(t||"unknown")+")");var n=this._monitoredElements.filter(function(t){return t.element===e?(e.removeEventListener("focus",t.onFocus,!0),e.removeEventListener("blur",t.onBlur,!0),!1):!0});this._monitoredElements=n},l.prototype.updatePosition=function(e){var t={tooltipVisible:this.isTooltipVisible,outputVisible:this.isOutputVisible,dimensions:e};this.onVisibilityChange(t)},l.prototype._outputted=function(e){this._recentOutput=!0,this._helpRequested=!1,this._checkShow()},l.prototype._focused=function(){this._reportBlur("document")},l.prototype._reportFocus=function(e){this._debug&&console.log("FocusManager._reportFocus("+(e||"unknown")+")"),this._blurDelayTimeout&&(this._debug&&console.log("FocusManager.cancelBlur"),this._window.clearTimeout(this._blurDelayTimeout),this._blurDelayTimeout=null),this._hasFocus||(this._hasFocus=!0),this._checkShow()},l.prototype._reportBlur=function(e){this._debug&&console.log("FocusManager._reportBlur("+e+")");if(this._hasFocus){if(this._blurDelayTimeout){this._debug&&console.log("FocusManager.blurPending");return}this._blurDelayTimeout=this._window.setTimeout(function(){this._debug&&console.log("FocusManager.blur"),this._hasFocus=!1,this._checkShow(),this._blurDelayTimeout=null}.bind(this),this._blurDelay)}},l.prototype._eagerHelperChanged=function(){this._checkShow()},l.prototype.onInputChange=function(){this._recentOutput=!1,this._checkShow()},l.prototype.helpRequest=function(){this._debug&&console.log("FocusManager.helpRequest"),this._helpRequested=!0,this._recentOutput=!1,this._checkShow()},l.prototype.removeHelp=function(){this._debug&&console.log("FocusManager.removeHelp"),this._importantFieldFlag=!1,this._isError=!1,this._helpRequested=!1,this._recentOutput=!1,this._checkShow()},l.prototype.setImportantFieldFlag=function(e){this._debug&&console.log("FocusManager.setImportantFieldFlag",e),this._importantFieldFlag=e,this._checkShow()},l.prototype.setError=function(e){this._debug&&console.log("FocusManager._isError",e),this._isError=e,this._checkShow()},l.prototype._checkShow=function(){var e=!1,t={tooltipVisible:this.isTooltipVisible,outputVisible:this.isOutputVisible},n=this._shouldShowTooltip();this.isTooltipVisible!==n.visible&&(t.tooltipVisible=this.isTooltipVisible=n.visible,e=!0);var r=this._shouldShowOutput();this.isOutputVisible!==r.visible&&(t.outputVisible=this.isOutputVisible=r.visible,e=!0),e&&(this._debug&&console.debug("FocusManager.onVisibilityChange",t),this.onVisibilityChange(t))},l.prototype._shouldShowTooltip=function(){return this._hasFocus?f.value===u.NEVER?{visible:!1,reason:"eagerHelperNever"}:f.value===u.ALWAYS?{visible:!0,reason:"eagerHelperAlways"}:this._isError?{visible:!0,reason:"isError"}:this._helpRequested?{visible:!0,reason:"helpRequested"}:this._importantFieldFlag?{visible:!0,reason:"importantFieldFlag"}:{visible:!1,reason:"default"}:{visible:!1,reason:"notHasFocus"}},l.prototype._shouldShowOutput=function(){return this._hasFocus?this._recentOutput?{visible:!0,reason:"recentOutput"}:{visible:!1,reason:"default"}:{visible:!1,reason:"notHasFocus"}},t.FocusManager=l}),define("gcli/ui/fields/basic",["require","exports","module","gcli/util","gcli/l10n","gcli/argument","gcli/types","gcli/types/basic","gcli/ui/fields"],function(e,t,n){function y(e,t){m.call(this,e,t),this.arg=new s,this.element=r.createElement(this.document,"input"),this.element.type="text",this.element.classList.add("gcli-field"),this.onInputChange=this.onInputChange.bind(this),this.element.addEventListener("keyup",this.onInputChange,!1),this.onFieldChange=r.createEvent("StringField.onFieldChange")}function b(e,t){m.call(this,e,t),this.arg=new s,this.element=r.createElement(this.document,"input"),this.element.type="number",this.type.max&&(this.element.max=this.type.max),this.type.min&&(this.element.min=this.type.min),this.type.step&&(this.element.step=this.type.step),this.onInputChange=this.onInputChange.bind(this),this.element.addEventListener("keyup",this.onInputChange,!1),this.onFieldChange=r.createEvent("NumberField.onFieldChange")}function w(e,t){m.call(this,e,t),this.name=t.name,this.named=t.named,this.element=r.createElement(this.document,"input"),this.element.type="checkbox",this.element.id="gcliForm"+this.name,this.onInputChange=this.onInputChange.bind(this),this.element.addEventListener("change",this.onInputChange,!1),this.onFieldChange=r.createEvent("BooleanField.onFieldChange")}function E(e,t){m.call(this,e,t),this.options=t,this.requisition.onAssignmentChange.add(this.update,this),this.element=r.createElement(this.document,"div"),this.update(),this.onFieldChange=r.createEvent("DeferredField.onFieldChange")}function S(e,t){m.call(this,e,t),this.options=t,this._onAdd=this._onAdd.bind(this),this.members=[],this.element=r.createElement(this.document,"div"),this.element.classList.add("gcli-array-parent"),this.addButton=r.createElement(this.document,"button"),this.addButton.classList.add("gcli-array-member-add"),this.addButton.addEventListener("click",this._onAdd,!1),this.addButton.innerHTML=i.lookup("fieldArrayAdd"),this.element.appendChild(this.addButton),this.container=r.createElement(this.document,"div"),this.container.classList.add("gcli-array-members"),this.element.appendChild(this.container),this.onInputChange=this.onInputChange.bind(this),this.onFieldChange=r.createEvent("ArrayField.onFieldChange")}var r=e("gcli/util"),i=e("gcli/l10n"),s=e("gcli/argument").Argument,o=e("gcli/argument").TrueNamedArgument,u=e("gcli/argument").FalseNamedArgument,a=e("gcli/argument").ArrayArgument,f=e("gcli/types").Conversion,l=e("gcli/types").ArrayConversion,c=e("gcli/types/basic").StringType,h=e("gcli/types/basic").NumberType,p=e("gcli/types/basic").BooleanType,d=e("gcli/types/basic").DeferredType,v=e("gcli/types/basic").ArrayType,m=e("gcli/ui/fields").Field,g=e("gcli/ui/fields");t.startup=function(){g.addField(y),g.addField(b),g.addField(w),g.addField(E),g.addField(S)},t.shutdown=function(){g.removeField(y),g.removeField(b),g.removeField(w),g.removeField(E),g.removeField(S)},y.prototype=Object.create(m.prototype),y.prototype.destroy=function(){m.prototype.destroy.call(this),this.element.removeEventListener("keyup",this.onInputChange,!1),delete this.element,delete this.document,delete this.onInputChange},y.prototype.setConversion=function(e){this.arg=e.arg,this.element.value=e.arg.text,this.setMessage(e.message)},y.prototype.getConversion=function(){return this.arg=this.arg.beget({text:this.element.value,prefixSpace:!0}),this.type.parse(this.arg)},y.claim=function(e){return e instanceof c?m.MATCH:m.BASIC},b.prototype=Object.create(m.prototype),b.claim=function(e){return e instanceof h?m.MATCH:m.NO_MATCH},b.prototype.destroy=function(){m.prototype.destroy.call(this),this.element.removeEventListener("keyup",this.onInputChange,!1),delete this.element,delete this.document,delete this.onInputChange},b.prototype.setConversion=function(e){this.arg=e.arg,this.element.value=e.arg.text,this.setMessage(e.message)},b.prototype.getConversion=function(){return this.arg=this.arg.beget({text:this.element.value,prefixSpace:!0}),this.type.parse(this.arg)},w.prototype=Object.create(m.prototype),w.claim=function(e){return e instanceof p?m.MATCH:m.NO_MATCH},w.prototype.destroy=function(){m.prototype.destroy.call(this),this.element.removeEventListener("change",this.onInputChange,!1),delete this.element,delete this.document,delete this.onInputChange},w.prototype.setConversion=function(e){this.element.checked=e.value,this.setMessage(e.message)},w.prototype.getConversion=function(){var e;return this.named?e=this.element.checked?new o(new s(" --"+this.name)):new u:e=new s(" "+this.element.checked),this.type.parse(e)},E.prototype=Object.create(m.prototype),E.prototype.update=function(){var e=this.type.defer();if(e===this.subtype)return;this.field&&(this.field.onFieldChange.remove(this.fieldChanged,this),this.field.destroy()),this.subtype=e,this.field=g.getField(e,this.options),this.field.onFieldChange.add(this.fieldChanged,this),r.clearElement(this.element),this.element.appendChild(this.field.element)},E.claim=function(e){return e instanceof d?m.MATCH:m.NO_MATCH},E.prototype.destroy=function(){m.prototype.destroy.call(this),this.requisition.onAssignmentChange.remove(this.update,this),delete this.element,delete this.document,delete this.onInputChange},E.prototype.setConversion=function(e){this.field.setConversion(e)},E.prototype.getConversion=function(){return this.field.getConversion()},Object.defineProperty(E.prototype,"isImportant",{get:function(){return this.field.isImportant},enumerable:!0}),S.prototype=Object.create(m.prototype),S.claim=function(e){return e instanceof v?m.MATCH:m.NO_MATCH},S.prototype.destroy=function(){m.prototype.destroy.call(this),this.addButton.removeEventListener("click",this._onAdd,!1)},S.prototype.setConversion=function(e){r.clearElement(this.container),this.members=[],e.conversions.forEach(function(e){this._onAdd(null,e)},this)},S.prototype.getConversion=function(){var e=[],t=new a;for(var n=0;n<this.members.length;n++){var r=this.members[n].field.getConversion();e.push(r),t.addArgument(r.arg)}return new l(e,t)},S.prototype._onAdd=function(e,t){var n=r.createElement(this.document,"div");n.classList.add("gcli-array-member"),this.container.appendChild(n);var s=g.getField(this.type.subtype,this.options);s.onFieldChange.add(function(){var e=this.getConversion();this.onFieldChange({conversion:e}),this.setMessage(e.message)},this),t&&s.setConversion(t),n.appendChild(s.element);var o=r.createElement(this.document,"button");o.classList.add("gcli-array-member-del"),o.addEventListener("click",this._onDel,!1),o.innerHTML=i.lookup("fieldArrayDel"),n.appendChild(o);var u={element:n,field:s,parent:this};u.onDelete=function(){this.parent.container.removeChild(this.element),this.parent.members=this.parent.members.filter(function(e){return e!==this}),this.parent.onInputChange()}.bind(u),o.addEventListener("click",u.onDelete,!1),this.members.push(u)}}),define("gcli/ui/fields",["require","exports","module","gcli/util","gcli/types/basic"],function(e,t,n){function o(e,t){this.type=e,this.document=t.document,this.requisition=t.requisition}function a(e,t){o.call(this,e,t),this.element=r.createElement(this.document,"div"),this.onFieldChange=r.createEvent("BlankField.onFieldChange")}var r=e("gcli/util"),i=e("gcli/util").KeyEvent,s=e("gcli/types/basic").BlankType;o.prototype.element=undefined,o.prototype.destroy=function(){delete this.messageElement},o.prototype.setConversion=function(e){throw new Error("Field should not be used directly")},o.prototype.getConversion=function(){throw new Error("Field should not be used directly")},o.prototype.setMessageElement=function(e){this.messageElement=e},o.prototype.setMessage=function(e){this.messageElement&&(e==null&&(e=""),r.setContents(this.messageElement,e))},o.prototype.onInputChange=function(e){var t=this.getConversion();this.onFieldChange({conversion:t}),this.setMessage(t.message),e.keyCode===i.DOM_VK_RETURN&&this.requisition.exec()},o.prototype.isImportant=!1,o.claim=function(){throw new Error("Field should not be used directly")},o.TOOLTIP_MATCH=5,o.TOOLTIP_DEFAULT=4,o.MATCH=3,o.DEFAULT=2,o.BASIC=1,o.NO_MATCH=0,t.Field=o;var u=[];t.addField=function(e){if(typeof e!="function")throw console.error("addField erroring on ",e),new Error("addField requires a Field constructor");u.push(e)},t.removeField=function(e){if(typeof e!="string")fields=fields.filter(function(t){return t!==e}),delete fields[e];else{if(!(e instanceof o))throw console.error("removeField erroring on ",e),new Error("removeField requires an instance of Field");removeField(e.name)}},t.getField=function(e,t){var n,r=-1;u.forEach(function(t){var i=t.claim(e);i>r&&(r=i,n=t)});if(!n)throw console.error("Unknown field type ",e," in ",u),new Error("Can't find field for "+e);return t.tooltip&&r<o.TOOLTIP_DEFAULT?new a(e,t):new n(e,t)},a.prototype=Object.create(o.prototype),a.claim=function(e){return e instanceof s?o.MATCH:o.NO_MATCH},a.prototype.setConversion=function(e){this.setMessage(e.message)},a.prototype.getConversion=function(){return this.type.parse(new Argument)},t.addField(a)}),define("gcli/ui/fields/javascript",["require","exports","module","gcli/util","gcli/argument","gcli/types/javascript","gcli/ui/fields/menu","gcli/ui/fields"],function(e,t,n){function f(e,t){u.call(this,e,t),this.onInputChange=this.onInputChange.bind(this),this.arg=new i("","{ "," }"),this.element=r.createElement(this.document,"div"),this.input=r.createElement(this.document,"input"),this.input.type="text",this.input.addEventListener("keyup",this.onInputChange,!1),this.input.classList.add("gcli-field"),this.input.classList.add("gcli-field-javascript"),this.element.appendChild(this.input),this.menu=new o({document:this.document,field:!0,type:e}),this.element.appendChild(this.menu.element),this.setConversion(this.type.parse(new i(""))),this.onFieldChange=r.createEvent("JavascriptField.onFieldChange"),this.menu.onItemClick.add(this.itemClicked,this)}var r=e("gcli/util"),i=e("gcli/argument").ScriptArgument,s=e("gcli/types/javascript").JavascriptType,o=e("gcli/ui/fields/menu").Menu,u=e("gcli/ui/fields").Field,a=e("gcli/ui/fields");t.startup=function(){a.addField(f)},t.shutdown=function(){a.removeField(f)},f.prototype=Object.create(u.prototype),f.claim=function(e){return e instanceof s?u.TOOLTIP_MATCH:u.NO_MATCH},f.prototype.destroy=function(){u.prototype.destroy.call(this),this.input.removeEventListener("keyup",this.onInputChange,!1),this.menu.onItemClick.remove(this.itemClicked,this),this.menu.destroy(),delete this.element,delete this.input,delete this.menu,delete this.document,delete this.onInputChange},f.prototype.setConversion=function(e){this.arg=e.arg,this.input.value=e.arg.text;var t=0;if(this.type instanceof s){var n=e.arg.text,r=n.lastIndexOf(".");r!==-1&&(t=r)}var i=[],o=e.getPredictions();o.forEach(function(e){e.hidden||i.push({name:e.name.substring(t),complete:e.name,description:e.description||""})},this),this.menu.show(i),this.setMessage(e.message)},f.prototype.itemClicked=function(e){this.onFieldChange(e),this.setMessage(e.conversion.message)},f.prototype.onInputChange=function(e){this.item=e.currentTarget.item;var t=this.getConversion();this.onFieldChange({conversion:t}),this.setMessage(t.message)},f.prototype.getConversion=function(){return this.arg=new i(this.input.value,"{ "," }"),this.type.parse(this.arg)},f.DEFAULT_VALUE="__JavascriptField.DEFAULT_VALUE"}),define("gcli/ui/fields/menu",["require","exports","module","gcli/util","gcli/l10n","gcli/argument","gcli/types","gcli/canon","gcli/ui/domtemplate","text!gcli/ui/fields/menu.css","text!gcli/ui/fields/menu.html"],function(e,t,n){function c(e){e=e||{},this.document=e.document||document,this.type=e.type;if(!this.document)throw new Error("No document");this.element=r.createElement(this.document,"div"),this.element.classList.add(e.menuClass||"gcli-menu"),e&&e.field&&this.element.classList.add(e.menuFieldClass||"gcli-menu-field"),f!=null&&r.importCss(f,this.document,"gcli-menu"),this.template=r.toDom(this.document,l),this.templateOptions={blankNullUndefined:!0,stack:"menu.html"},this.items=null,this.onItemClick=r.createEvent("Menu.onItemClick")}function h(e,t,n){return typeof Proxy=="undefined"?e:Proxy.create({get:function(r,i){var s=e[i];if(i!=="name")return s;var o=s.indexOf(t);if(o===-1)return s;var u=s.substr(0,o),a=s.substr(o+t.length),f=n.createElement("span");f.appendChild(n.createTextNode(u));var l=n.createElement("span");return l.classList.add("gcli-menu-typed"),l.appendChild(n.createTextNode(t)),f.appendChild(l),f.appendChild(n.createTextNode(a)),f}})}var r=e("gcli/util"),i=e("gcli/l10n"),s=e("gcli/argument").Argument,o=e("gcli/types").Conversion,u=e("gcli/canon"),a=e("gcli/ui/domtemplate"),f=e("text!gcli/ui/fields/menu.css"),l=e("text!gcli/ui/fields/menu.html");c.prototype.l10n=i.propertyLookup,c.prototype.destroy=function(){delete this.element,delete this.template,delete this.document},c.prototype.onItemClickInternal=function(e){var t=e.currentTarget.querySelector(".gcli-menu-name").innerHTML,n=new s(t);n.suffix=" ";var r=this.type.parse(n);this.onItemClick({conversion:r})},c.prototype.show=function(e,t){this.items=e.filter(function(e){return e.hidden===undefined||e.hidden!==!0}.bind(this)),t&&(this.items=this.items.map(function(e){return h(e,t,this.template.ownerDocument)}.bind(this)));if(this.items.length===0){this.element.style.display="none";return}this.items.length>=o.maxPredictions&&(this.items.splice(-1),this.items.hasMore=!0);var n=this.template.cloneNode(!0);a.template(n,this,this.templateOptions),r.clearElement(this.element),this.element.appendChild(n),this.element.style.display="block"},c.prototype.setChoiceIndex=function(e){var t=this.element.querySelectorAll(".gcli-menu-option");for(var n=0;n<t.length;n++)t[n].classList.remove("gcli-menu-highlight");if(e==null)return;if(t.length<=e){console.error("Cant highlight "+e+". Only "+t.length+" options");return}t.item(e).classList.add("gcli-menu-highlight")},c.prototype.selectChoice=function(){var e=this.element.querySelector(".gcli-menu-highlight .gcli-menu-name");if(!e)return!1;var t=e.innerHTML,n=new s(t);n.suffix=" ";var r=this.type.parse(n);return this.onItemClick({conversion:r}),!0},c.prototype.hide=function(){this.element.style.display="none"},c.prototype.setMaxHeight=function(e){this.element.style.maxHeight=e+"px"},t.Menu=c}),define("text!gcli/ui/fields/menu.css",[],"\n.gcli-menu {\n  width: 100%;\n  overflow: hidden;\n  font-size: 90%;\n}\n\n.gcli-menu-field {\n  border: 1px solid #aaa;\n  border-top: 0;\n  border-bottom-right-radius: 5px;\n  border-bottom-left-radius: 5px;\n  max-height: 300px;\n  margin: 0 3px;\n  padding: 0;\n}\n\n.gcli-menu-template {\n  border-collapse: collapse;\n  width: 100%;\n}\n\n.gcli-menu-option {\n  overflow: hidden;\n  white-space: nowrap;\n  cursor: pointer;\n}\n\n.gcli-menu-option:hover {\n  background-image: -moz-linear-gradient(top, #f8f8f8, #ccc);\n  background-color: #ddd;\n}\n\n.gcli-menu-name {\n  padding: 2px 3px;\n  -moz-padding-start: 8px;\n  -webkit-padding-start: 8px;\n}\n\n.gcli-menu-desc {\n  color: #777;\n  padding: 0 3px;\n  -moz-padding-end: 8px;\n  -webkit-padding-end: 8px;\n}\n\n.gcli-menu-highlight,\n.gcli-menu-highlight.gcli-menu-option:hover {\n  background-image: -moz-linear-gradient(top, #eee, #b8b8b8);\n  background-color: #c8c8c8;\n}\n\n.gcli-menu-typed {\n  color: #FF6600;\n}\n\n.gcli-menu-more {\n  font-size: 80%;\n  text-align: right;\n  -moz-padding-end: 8px;\n  -webkit-padding-end: 8px;\n}\n"),define("text!gcli/ui/fields/menu.html",[],'\n<div>\n  <table class="gcli-menu-template" aria-live="polite">\n    <tr class="gcli-menu-option" foreach="item in ${items}"\n        onclick="${onItemClickInternal}" title="${item.manual}">\n      <td class="gcli-menu-name">${item.name}</td>\n      <td class="gcli-menu-desc">${item.description}</td>\n    </tr>\n  </table>\n  <div class="gcli-menu-more" if="${items.hasMore}">${l10n.fieldMenuMore}</div>\n</div>\n'),define("gcli/ui/fields/selection",["require","exports","module","gcli/util","gcli/l10n","gcli/argument","gcli/types","gcli/types/basic","gcli/types/selection","gcli/ui/fields/menu","gcli/ui/fields"],function(e,t,n){function p(e,t){c.call(this,e,t),this.items=[],this.element=r.createElement(this.document,"select"),this.element.classList.add("gcli-field"),this._addOption({name:i.lookupFormat("fieldSelectionSelect",[t.name])});var n=this.type.getLookup();n.forEach(this._addOption,this),this.onInputChange=this.onInputChange.bind(this),this.element.addEventListener("change",this.onInputChange,!1),this.onFieldChange=r.createEvent("SelectionField.onFieldChange")}function d(e,t){c.call(this,e,t),this.onInputChange=this.onInputChange.bind(this),this.arg=new s,this.menu=new l({document:this.document,type:e}),this.element=this.menu.element,this.onFieldChange=r.createEvent("SelectionTooltipField.onFieldChange"),this.menu.onItemClick.add(this.itemClicked,this)}var r=e("gcli/util"),i=e("gcli/l10n"),s=e("gcli/argument").Argument,o=e("gcli/types").Status,u=e("gcli/types").Conversion,a=e("gcli/types/basic").BooleanType,f=e("gcli/types/selection").SelectionType,l=e("gcli/ui/fields/menu").Menu,c=e("gcli/ui/fields").Field,h=e("gcli/ui/fields");t.startup=function(){h.addField(p),h.addField(d)},t.shutdown=function(){h.removeField(p),h.removeField(d)},p.prototype=Object.create(c.prototype),p.claim=function(e){return e instanceof a?c.BASIC:e instanceof f?c.DEFAULT:c.NO_MATCH},p.prototype.destroy=function(){c.prototype.destroy.call(this),this.element.removeEventListener("change",this.onInputChange,!1),delete this.element,delete this.document,delete this.onInputChange},p.prototype.setConversion=function(e){var t;this.items.forEach(function(n){n.value&&n.value===e.value&&(t=n.index)},this),this.element.value=t,this.setMessage(e.message)},p.prototype.getConversion=function(){var e=this.items[this.element.value];return this.type.parse(new s(e.name," "))},p.prototype._addOption=function(e){e.index=this.items.length,this.items.push(e);var t=r.createElement(this.document,"option");t.innerHTML=e.name,t.value=e.index,this.element.appendChild(t)},d.prototype=Object.create(c.prototype),d.claim=function(e){return e.getType()instanceof f?c.TOOLTIP_MATCH:c.NO_MATCH},d.prototype.destroy=function(){c.prototype.destroy.call(this),this.menu.onItemClick.remove(this.itemClicked,this),this.menu.destroy(),delete this.element,delete this.document,delete this.onInputChange},d.prototype.setConversion=function(e){this.arg=e.arg;var t=e.getPredictions().map(function(e){return e.value.description?e.value:e},this);this.menu.show(t,e.arg.text),this.setMessage(e.message)},d.prototype.itemClicked=function(e){this.onFieldChange(e),this.setMessage(e.conversion.message)},d.prototype.onInputChange=function(e){this.item=e.currentTarget.item;var t=this.getConversion();this.onFieldChange({conversion:t}),this.setMessage(t.message)},d.prototype.getConversion=function(){return this.arg=this.arg.beget({text:this.input.value}),this.type.parse(this.arg)},d.prototype.setChoiceIndex=function(e){this.menu.setChoiceIndex(e)},d.prototype.selectChoice=function(){return this.menu.selectChoice()},Object.defineProperty(d.prototype,"isImportant",{get:function(){return this.type.name!=="command"},enumerable:!0}),d.DEFAULT_VALUE="__SelectionTooltipField.DEFAULT_VALUE"}),define("gcli/ui/display",["require","exports","module","gcli/util","gcli/settings","gcli/ui/intro","gcli/ui/domtemplate","gcli/ui/tooltip","gcli/ui/output_terminal","gcli/ui/inputter","gcli/ui/completer","gcli/ui/focus","gcli/ui/prompt","gcli/cli","text!gcli/ui/display.css","text!gcli/ui/display.html"],function(e,t,n){function m(e){var t=e.document||document;this.displayStyle=undefined,d!=null&&(this.displayStyle=r.importCss(d,t,"gcli-css-display")),this.requisition=new p(e.enviroment||{},t),this.focusManager=new c(e,{document:t}),this.inputElement=g(t,e.inputElement||null,"gcli-input"),this.inputter=new f(e,{requisition:this.requisition,focusManager:this.focusManager,element:this.inputElement}),this.completeElement=y(this.inputElement,e.completeElement||null,"gcli-row-complete"),this.completer=new l(e,{requisition:this.requisition,inputter:this.inputter,autoResize:this.completeElement.gcliCreated,element:this.completeElement}),this.prompt=new h(e,{inputter:this.inputter,element:y(this.inputElement,e.promptElement||null,"gcli-prompt")}),this.element=g(t,e.displayElement||null,"gcli-display"),this.element.classList.add("gcli-display"),this.template=r.toDom(t,v),this.elements={},o.template(this.template,this.elements,{stack:"display.html"}),this.element.appendChild(this.template),this.tooltip=new u(e,{requisition:this.requisition,inputter:this.inputter,focusManager:this.focusManager,element:this.elements.tooltip,panelElement:this.elements.panel}),this.inputter.tooltip=this.tooltip,this.outputElement=r.createElement(t,"div"),this.outputElement.classList.add("gcli-output"),this.outputList=new a(e,{requisition:this.requisition,element:this.outputElement}),this.element.appendChild(this.outputElement),s.maybeShowIntro(this.outputList.commandOutputManager,this.requisition)}function g(e,t,n){if(!t){t=e.getElementById(n);if(!t)throw new Error("Missing element, id="+n)}return t}function y(e,t,n){var i=e.ownerDocument;return t||(t=i.getElementById("gcli-row-complete"),t||(t=r.createElement(i,"div"),e.parentNode.insertBefore(t,e.nextSibling),t.gcliCreated=!0)),t}var r=e("gcli/util"),i=e("gcli/settings"),s=e("gcli/ui/intro"),o=e("gcli/ui/domtemplate"),u=e("gcli/ui/tooltip").Tooltip,a=e("gcli/ui/output_terminal").OutputTerminal,f=e("gcli/ui/inputter").Inputter,l=e("gcli/ui/completer").Completer,c=e("gcli/ui/focus").FocusManager,h=e("gcli/ui/prompt").Prompt,p=e("gcli/cli").Requisition,d=e("text!gcli/ui/display.css"),v=e("text!gcli/ui/display.html");t.createDisplay=function(e){e.settings!=null&&i.setDefaults(e.settings);var t=new m(e),n=t.requisition;return{exec:n.exec.bind(n),update:n.update.bind(n),destroy:t.destroy.bind(t)}},m.prototype.destroy=function(){delete this.element,delete this.template,this.outputList.destroy(),delete this.outputList,delete this.outputElement,this.tooltip.destroy(),delete this.tooltip,this.prompt.destroy(),delete this.prompt,this.completer.destroy(),delete this.completer,delete this.completeElement,this.inputter.destroy(),delete this.inputter,delete this.inputElement,this.focusManager.destroy(),delete this.focusManager,this.requisition.destroy(),delete this.requisition,this.displayStyle&&this.displayStyle.parentNode.removeChild(this.displayStyle),delete this.displayStyle},t.Display=m}),define("gcli/ui/tooltip",["require","exports","module","gcli/util","gcli/cli","gcli/ui/fields","gcli/ui/domtemplate","text!gcli/ui/tooltip.css","text!gcli/ui/tooltip.html"],function(e,t,n){function f(e,t){this.inputter=t.inputter,this.requisition=t.requisition,this.focusManager=t.focusManager,this.element=t.element,this.element.classList.add(e.tooltipClass||"gcli-tooltip"),this.document=this.element.ownerDocument,this.panelElement=t.panelElement,this.panelElement&&(this.panelElement.classList.add("gcli-panel-hide"),this.focusManager.onVisibilityChange.add(this.visibilityChanged,this)),this.focusManager.addMonitoredElement(this.element,"tooltip"),this.fields=[],u!=null&&(this.style=r.importCss(u,this.document,"gcli-tooltip")),this.template=r.toDom(this.document,a),this.templateOptions={blankNullUndefined:!0,stack:"tooltip.html"},this.inputter.onChoiceChange.add(this.choiceChanged,this),this.inputter.onAssignmentChange.add(this.assignmentChanged,this),this.assignment=undefined,this.assignmentChanged({assignment:this.inputter.assignment})}var r=e("gcli/util"),i=e("gcli/cli").CommandAssignment,s=e("gcli/ui/fields"),o=e("gcli/ui/domtemplate"),u=e("text!gcli/ui/tooltip.css"),a=e("text!gcli/ui/tooltip.html");f.prototype.destroy=function(){this.inputter.onAssignmentChange.remove(this.assignmentChanged,this),this.inputter.onChoiceChange.remove(this.choiceChanged,this),this.panelElement&&this.focusManager.onVisibilityChange.remove(this.visibilityChanged,this),this.focusManager.removeMonitoredElement(this.element,"tooltip"),this.style&&(this.style.parentNode.removeChild(this.style),delete this.style),this.field.onFieldChange.remove(this.fieldChanged,this),this.field.destroy(),delete this.errorEle,delete this.descriptionEle,delete this.highlightEle,delete this.document,delete this.element,delete this.panelElement,delete this.template},Object.defineProperty(f.prototype,"isMenuShowing",{get:function(){return this.focusManager.isTooltipVisible&&this.field!=null&&this.field.menu!=null},enumerable:!0}),f.prototype.assignmentChanged=function(e){if(this.assignment===e.assignment)return;this.assignment&&this.assignment.onAssignmentChange.remove(this.assignmentContentsChanged,this),this.assignment=e.assignment,this.field&&(this.field.onFieldChange.remove(this.fieldChanged,this),this.field.destroy()),this.field=s.getField(this.assignment.param.type,{document:this.document,name:this.assignment.param.name,requisition:this.requisition,required:this.assignment.param.isDataRequired,named:!this.assignment.param.isPositionalAllowed,tooltip:!0}),this.focusManager.setImportantFieldFlag(this.field.isImportant),this.field.onFieldChange.add(this.fieldChanged,this),this.assignment.onAssignmentChange.add(this.assignmentContentsChanged,this),this.field.setConversion(this.assignment.conversion),this.errorEle=undefined,this.descriptionEle=undefined,this.highlightEle=undefined;var t=this.template.cloneNode(!0);o.template(t,this,this.templateOptions),r.clearElement(this.element),this.element.appendChild(t),this.element.style.display="block",this.field.setMessageElement(this.errorEle),this._updatePosition()},f.prototype.choiceChanged=function(e){if(this.field&&this.field.setChoiceIndex){var t=this.assignment.conversion.constrainPredictionIndex(e.choice);this.field.setChoiceIndex(t)}},f.prototype.selectChoice=function(e){return this.field&&this.field.selectChoice?this.field.selectChoice():!1},f.prototype.fieldChanged=function(e){this.assignment.setConversion(e.conversion);var t=e.conversion.message!=null&&e.conversion.message!=="";this.focusManager.setError(t),this.document.defaultView.setTimeout(function(){this.inputter.focus()}.bind(this),10)},f.prototype.assignmentContentsChanged=function(e){if(e.conversion.arg.text===e.oldConversion.arg.text)return;this.field.setConversion(e.conversion),r.setContents(this.descriptionEle,this.description),this._updatePosition()},f.prototype._updatePosition=function(){var e=this.getDimensionsOfAssignment();this.panelElement&&(this.panelElement.style.left=e.start*10+"px"),this.focusManager.updatePosition(e)},f.prototype.getDimensionsOfAssignment=function(){var e="",t=this.requisition.getAssignments(!0);for(var n=0;n<t.length;n++){if(t[n]===this.assignment)break;e+=t[n].toString()}e+=this.assignment.arg.prefix;var r=e.length;e+=this.assignment.arg.text;var i=e.length;return{start:r,end:i}},Object.defineProperty(f.prototype,"description",{get:function(){if(this.assignment instanceof i&&this.assignment.value==null)return"";var e=this.assignment.param.manual;if(e){var t=this.document.createElement("span");r.setContents(t,e);if(!this.assignment.param.isDataRequired){var n=this.document.createElement("span");n.appendChild(this.document.createTextNode(" (Optional)")),t.appendChild(n)}return t}return this.assignment.param.description},enumerable:!0}),f.prototype.visibilityChanged=function(e){if(!this.panelElement)return;e.tooltipVisible?this.panelElement.classList.remove("gcli-panel-hide"):this.panelElement.classList.add("gcli-panel-hide")},t.Tooltip=f}),define("text!gcli/ui/tooltip.css",[],"\n.gcli-panel {\n  -moz-transition-property: opacity, height;\n  -moz-transition-duration: 0.5s, 2s;\n  overflow-y: auto;\n  overflow-x: hidden;\n  z-index: 2;\n  position: absolute;\n  max-height: 100%;\n  max-width: 350px;\n  left: 0;\n  bottom: 0;\n  font-family: Segoe UI, Helvetica Neue, Verdana, Arial, sans-serif;\n  margin-bottom: -3px;\n}\n\n.gcli-panel.gcli-panel-hide {\n  opacity: 0;\n  height: 0;\n}\n\n.gcli-panel-connector {\n  height: 10px;\n  margin-top: -1px;\n  margin-left: 20px;\n  width: 20px;\n  background: white;\n  border-left: 1px solid #999;\n  border-right: 1px solid #999;\n}\n\n.gcli-tt-description {\n  padding: 5px 10px 0;\n  font-size: 90%;\n}\n\n.gcli-tt-error {\n  font-size: 80%;\n  color: #900;\n  padding: 0 10px;\n}\n\n.gcli-field {\n  width: 100%;\n}\n\n.gcli-field-javascript {\n  margin-bottom: 0;\n}\n\n.gcli-tt {\n  box-shadow: 0 0 10px 1px #ddd;\n  border: 1px solid #999;\n  border-radius: 3px;\n  margin: 10px 10px 0;\n  background: hsla(0, 100%, 100%, 0.95);\n  padding-bottom: 5px;\n}\n"),define("text!gcli/ui/tooltip.html",[],'\n<div class="gcli-tt" aria-live="polite">\n  <div class="gcli-tt-description" save="${descriptionEle}">${description}</div>\n  ${field.element}\n  <div class="gcli-tt-error" save="${errorEle}">${assignment.conversion.message}</div>\n  <div class="gcli-tt-highlight" save="${highlightEle}"></div>\n</div>\n'),define("gcli/ui/output_terminal",["require","exports","module","gcli/util","gcli/canon","gcli/ui/domtemplate","text!gcli/ui/output_view.css","text!gcli/ui/output_terminal.html"],function(e,t,n){function a(e,t){this.element=t.element,this.requisition=t.requisition,this.commandOutputManager=e.commandOutputManager||i.commandOutputManager,this.commandOutputManager.onOutput.add(this.outputted,this);var n=t.element.ownerDocument;o!=null&&(this.style=r.importCss(o,n,"gcli-output-view")),this.template=r.toDom(n,u),this.templateOptions={allowEval:!0,stack:"output_terminal.html"}}function f(e,t){this.outputData=e,this.outputTerminal=t,this.url=r.createUrlLookup(n),this.elems={rowin:null,rowout:null,hide:null,show:null,duration:null,throb:null,prompt:null};var i=this.outputTerminal.template.cloneNode(!0);s.template(i,this,this.outputTerminal.templateOptions),this.outputTerminal.element.appendChild(this.elems.rowin),this.outputTerminal.element.appendChild(this.elems.rowout),this.outputData.onClose.add(this.closed,this),this.outputData.onChange.add(this.changed,this)}var r=e("gcli/util"),i=e("gcli/canon"),s=e("gcli/ui/domtemplate"),o=e("text!gcli/ui/output_view.css"),u=e("text!gcli/ui/output_terminal.html");a.prototype.destroy=function(){this.style&&(this.style.parentNode.removeChild(this.style),delete this.style),this.commandOutputManager.onOutput.remove(this.outputted,this),delete this.commandOutputManager,delete this.requisition,delete this.element,delete this.template},a.prototype.outputted=function(e){if(e.output.hidden)return;e.output.view=new f(e.output,this)},a.prototype.setHeight=function(e){this.element.style.height=e+"px"},t.OutputTerminal=a,f.prototype.destroy=function(){this.outputData.onChange.remove(this.changed,this),this.outputData.onClose.remove(this.closed,this),this.outputTerminal.element.removeChild(this.elems.rowin),this.outputTerminal.element.removeChild(this.elems.rowout),delete this.outputData,delete this.outputTerminal,delete this.url,delete this.elems},Object.defineProperty(f.prototype,"prompt",{get:function(){return this.outputData.canonical?"»":""},enumerable:!0}),f.prototype.copyToInput=function(){this.outputTerminal.requisition&&this.outputTerminal.requisition.update(this.outputData.typed)},f.prototype.execute=function(e){this.outputTerminal.requisition&&this.outputTerminal.requisition.exec({typed:this.outputData.typed})},f.prototype.hideOutput=function(e){this.elems.rowout.style.display="none",this.elems.hide.classList.add("cmd_hidden"),this.elems.show.classList.remove("cmd_hidden"),e.stopPropagation()},f.prototype.showOutput=function(e){this.elems.rowout.style.display="block",this.elems.hide.classList.remove("cmd_hidden"),this.elems.show.classList.add("cmd_hidden"),e.stopPropagation()},f.prototype.closed=function(e){this.destroy()},f.prototype.changed=function(e){var t=this.elems.rowout.ownerDocument,n=this.outputData.duration!=null?"completed in "+this.outputData.duration/1e3+" sec ":"";n=t.createTextNode(n),this.elems.duration.appendChild(n),this.outputData.completed&&this.elems.prompt.classList.add("gcli-row-complete"),this.outputData.error&&this.elems.prompt.classList.add("gcli-row-error"),this.outputData.toDom(this.elems.rowout);var r=Math.max(this.outputTerminal.element.scrollHeight,this.outputTerminal.element.clientHeight);this.outputTerminal.element.scrollTop=r-this.outputTerminal.element.clientHeight,this.elems.throb.style.display=this.outputData.completed?"none":"block"},t.OutputView=f}),define("text!gcli/ui/output_view.css",[],"\n.gcli-row-in {\n  padding: 0 4px;\n  box-shadow: 0 -6px 10px -6px #ddd;\n  border-top: 1px solid #bbb;\n}\n\n.gcli-row-in > img {\n  cursor: pointer;\n}\n\n.gcli-row-hover {\n  display: none;\n  float: right;\n  padding: 2px 2px 0;\n}\n\n.gcli-row-in:hover > .gcli-row-hover {\n  display: inline;\n}\n\n.gcli-row-in:hover > .gcli-row-hover.gcli-row-hidden {\n  display: none;\n}\n\n.gcli-row-duration {\n  color: #666;\n}\n\n.gcli-row-prompt {\n  color: #00F;\n  font-weight: bold;\n  font-size: 120%;\n}\n\n.gcli-row-prompt.gcli-row-complete {\n  color: #060;\n}\n\n.gcli-row-prompt.gcli-row-error {\n  color: #F00;\n}\n\n.gcli-row-duration {\n  font-size: 80%;\n}\n\n.gcli-row-out {\n  margin: 0 10px 15px;\n  padding: 0 10px;\n  line-height: 1.2em;\n  font-size: 95%;\n}\n\n.gcli-row-out strong,\n.gcli-row-out b,\n.gcli-row-out th,\n.gcli-row-out h1,\n.gcli-row-out h2,\n.gcli-row-out h3 {\n  color: #000;\n}\n\n.gcli-row-out p {\n  margin: 5px 0;\n}\n\n.gcli-row-out a {\n  color: hsl(200,40%,40%);\n  text-decoration: none;\n}\n\n.gcli-row-out a:hover {\n  cursor: pointer;\n  border-bottom: 1px dotted hsl(200,40%,60%);\n}\n\n.gcli-row-out input[type=password],\n.gcli-row-out input[type=text],\n.gcli-row-out textarea {\n  font-size: 120%;\n  background: transparent;\n  padding: 3px;\n  border-radius: 3px;\n  border: 1px solid #bbb;\n}\n\n.gcli-row-out table,\n.gcli-row-out td,\n.gcli-row-out th {\n  border: 0;\n  padding: 0 2px;\n}\n\n.gcli-row-terminal,\n.gcli-row-subterminal {\n  border-radius: 3px;\n  border: 1px solid #ddd;\n}\n\n.gcli-row-terminal {\n  height: 200px;\n  width: 620px;\n  font-size: 80%;\n}\n\n.gcli-row-subterminal {\n  height: 150px;\n  width: 300px;\n  font-size: 75%;\n}\n\n.gcli-out-shortcut {\n  font-weight: normal;\n  border: 1px solid #999;\n  border-radius: 3px;\n  color: #666;\n  cursor: pointer;\n  padding: 0 3px 1px;\n  margin: 1px 4px;\n  display: inline-block;\n}\n\n.gcli-out-shortcut:before {\n  content: '\\bb';\n  padding-right: 2px;\n  color: hsl(25,78%,50%);\n  font-weight: bold;\n  font-size: 110%;\n}\n"),define("text!gcli/ui/output_terminal.html",[],'\n<div class="gcli-row">\n  <!-- The div for the input (i.e. what was typed) -->\n  <div class="gcli-row-in" save="${elems.rowin}" aria-live="assertive"\n      onclick="${copyToInput}" ondblclick="${execute}">\n\n    <!-- What the user actually typed -->\n    <span save="${elems.prompt}" class="gcli-row-prompt ${elems.error ? \'gcli-row-error\' : \'\'} ${elems.completed ? \'gcli-row-complete\' : \'\'}">${prompt}</span>\n    <span class="gcli-row-in-typed">${outputData.canonical}</span>\n\n    <!-- The extra details that appear on hover -->\n    <span class="gcli-row-duration gcli-row-hover" save="${elems.duration}"></span>\n    <!--\n    <img class="gcli-row-hover" onclick="${hideOutput}" save="${elems.hide}"\n        alt="Hide command output" _src="${url(\'images/minus.png\')}"/>\n    <img class="gcli-row-hover gcli-row-hidden" onclick="${showOutput}" save="${elems.show}"\n        alt="Show command output" _src="${url(\'images/plus.png\')}"/>\n    <img class="gcli-row-hover" onclick="${remove}"\n        alt="Remove this command from the history"\n        _src="${url(\'images/closer.png\')}"/>\n    -->\n    <img style="float:right;" _src="${url(\'images/throbber.gif\')}" save="${elems.throb}"/>\n  </div>\n\n  <!-- The div for the command output -->\n  <div class="gcli-row-out" aria-live="assertive" save="${elems.rowout}">\n  </div>\n</div>\n'),define("gcli/ui/inputter",["require","exports","module","gcli/util","gcli/types","gcli/history","text!gcli/ui/inputter.css"],function(e,t,n){function a(e,t){this.requisition=t.requisition,this.focusManager=t.focusManager,this.element=t.element,this.element.classList.add("gcli-in-input"),this.element.spellcheck=!1,this.document=this.element.ownerDocument,this.scratchpad=e.scratchpad,u!=null&&(this.style=r.importCss(u,this.document,"gcli-inputter")),this.lastTabDownAt=0,this._caretChange=null,this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.element.addEventListener("keydown",this.onKeyDown,!1),this.element.addEventListener("keyup",this.onKeyUp,!1),this.history=new o,this._scrollingThroughHistory=!1,this._choice=null,this.onChoiceChange=r.createEvent("Inputter.onChoiceChange"),this.onMouseUp=this.onMouseUp.bind(this),this.element.addEventListener("mouseup",this.onMouseUp,!1),this.focusManager&&this.focusManager.addMonitoredElement(this.element,"input"),this.requisition.onTextChange.add(this.textChanged,this),this.assignment=this.requisition.getAssignmentAt(0),this.onAssignmentChange=r.createEvent("Inputter.onAssignmentChange"),this.onInputChange=r.createEvent("Inputter.onInputChange"),this.onResize=r.createEvent("Inputter.onResize"),this.onWindowResize=this.onWindowResize.bind(this),this.document.defaultView.addEventListener("resize",this.onWindowResize,!1),this.requisition.update(this.element.value||"")}var r=e("gcli/util"),i=e("gcli/util").KeyEvent,s=e("gcli/types").Status,o=e("gcli/history").History,u=e("text!gcli/ui/inputter.css");a.prototype.destroy=function(){this.document.defaultView.removeEventListener("resize",this.onWindowResize,!1),this.requisition.onTextChange.remove(this.textChanged,this),this.focusManager&&this.focusManager.removeMonitoredElement(this.element,"input"),this.element.removeEventListener("mouseup",this.onMouseUp,!1),this.element.removeEventListener("keydown",this.onKeyDown,!1),this.element.removeEventListener("keyup",this.onKeyUp,!1),this.history.destroy(),this.style&&(this.style.parentNode.removeChild(this.style),delete this.style),delete this.onMouseUp,delete this.onKeyDown,delete this.onKeyUp,delete this.onWindowResize,delete this.tooltip,delete this.document,delete this.element},a.prototype.onWindowResize=function(){if(!this.element)return;var e=this.getDimensions();e&&this.onResize(e)},a.prototype.getDimensions=function(){if(!this.element.getBoundingClientRect)return undefined;var e={},t=this.element.parentNode;while(t&&t.nodeName!=="#document"){var n=document.defaultView.getComputedStyle(t,"");if(n){var r=n.getPropertyValue("position");if(r==="absolute"||r==="fixed"){var i=t.getBoundingClientRect();e.top=i.top,e.left=i.left;break}}t=t.parentNode}var s=this.element.getBoundingClientRect();return{top:s.top-(e.top||0)+1,height:s.bottom-s.top-1,left:s.left-(e.left||0)+2,width:s.right-s.left}},a.prototype.onMouseUp=function(e){this._checkAssignment()},a.prototype.textChanged=function(){if(!this.document)return;this._caretChange==null&&(this._caretChange=f.TO_ARG_END);var e=this.requisition.toString(),t=this.getInputState();t.typed=e,this._processCaretChange(t),this.element.value=e,this.onInputChange({inputState:t})};var f={NO_CHANGE:0,SELECT_ALL:1,TO_END:2,TO_ARG_END:3};a.prototype._processCaretChange=function(e){var t,n;switch(this._caretChange){case f.SELECT_ALL:t=0,n=e.typed.length;break;case f.TO_END:t=e.typed.length,n=e.typed.length;break;case f.TO_ARG_END:t=e.cursor.start;do t++;while(t<e.typed.length&&e.typed[t-1]!==" ");n=t;break;default:t=e.cursor.start,n=e.cursor.end}t=t>e.typed.length?e.typed.length:t,n=n>e.typed.length?e.typed.length:n;var r={typed:e.typed,cursor:{start:t,end:n}};return this.element.selectionStart=t,this.element.selectionEnd=n,this._checkAssignment(t),this._caretChange=null,r},a.prototype._checkAssignment=function(e){e==null&&(e=this.element.selectionStart);var t=this.requisition.getAssignmentAt(e);this.assignment!==t&&(this.assignment=t,this.onAssignmentChange({assignment:this.assignment}));if(this.focusManager){var n=this.assignment.conversion.message;this.focusManager.setError(n!=null&&n!=="")}},a.prototype.setInput=function(e){this.requisition.update(e)},a.prototype.setCursor=function(e){this._caretChange=f.NO_CHANGE,this._processCaretChange({typed:this.element.value,cursor:e})},a.prototype.focus=function(){this.element.focus(),this._checkAssignment()},a.prototype.onKeyDown=function(e){if(e.keyCode===i.DOM_VK_UP||e.keyCode===i.DOM_VK_DOWN){e.preventDefault();return}if(e.keyCode===i.DOM_VK_F1||e.keyCode===i.DOM_VK_ESCAPE||e.keyCode===i.DOM_VK_UP||e.keyCode===i.DOM_VK_DOWN)return;this.focusManager&&this.focusManager.onInputChange();if(e.keyCode===i.DOM_VK_TAB){this.lastTabDownAt=0,e.shiftKey||(e.preventDefault(),this.lastTabDownAt=e.timeStamp);if(e.metaKey||e.altKey||e.crtlKey)this.document.commandDispatcher?this.document.commandDispatcher.advanceFocus():this.element.blur()}},a.prototype.onKeyUp=function(e){if(this.focusManager&&e.keyCode===i.DOM_VK_F1){this.focusManager.helpRequest();return}if(this.focusManager&&e.keyCode===i.DOM_VK_ESCAPE){this.focusManager.removeHelp();return}if(e.keyCode===i.DOM_VK_UP){this.tooltip&&this.tooltip.isMenuShowing?this.changeChoice(-1):this.element.value===""||this._scrollingThroughHistory?(this._scrollingThroughHistory=!0,this.requisition.update(this.history.backward())):this.assignment.getStatus()===s.VALID?(this.requisition.increment(assignment),this.focusManager&&this.focusManager.onInputChange()):this.changeChoice(-1);return}if(e.keyCode===i.DOM_VK_DOWN){this.tooltip&&this.tooltip.isMenuShowing?this.changeChoice(1):this.element.value===""||this._scrollingThroughHistory?(this._scrollingThroughHistory=!0,this.requisition.update(this.history.forward())):this.assignment.getStatus()===s.VALID?(this.requisition.decrement(assignment),this.focusManager&&this.focusManager.onInputChange()):this.changeChoice(1);return}if(e.keyCode===i.DOM_VK_RETURN){var t=this.requisition.getStatus();t===s.VALID?(this._scrollingThroughHistory=!1,this.history.add(this.element.value),this.requisition.exec()):this.tooltip.selectChoice()||this.focusManager.setError(!0),this._choice=null;return}if(e.keyCode===i.DOM_VK_TAB&&!e.shiftKey){var n=this.element.value.length>0;if(n&&this.lastTabDownAt+1e3>e.timeStamp){this._caretChange=f.TO_ARG_END;var r=this.getInputState();this._processCaretChange(r),this._choice==null&&(this._choice=0),this.requisition.complete(r.cursor,this._choice)}this.lastTabDownAt=0,this._scrollingThroughHistory=!1,this._choice=null,this.onChoiceChange({choice:this._choice});return}if(this.scratchpad&&this.scratchpad.shouldActivate(e)){this.scratchpad.activate(this.element.value)&&this.requisition.update("");return}this._scrollingThroughHistory=!1,this._caretChange=f.NO_CHANGE,this.requisition.update(this.element.value),this._choice=null,this.onChoiceChange({choice:this._choice})},a.prototype.changeChoice=function(e){this._choice==null&&(this._choice=0),this._choice+=e,this.onChoiceChange({choice:this._choice})},a.prototype.getCurrentAssignment=function(){var e=this.element.selectionStart;return this.requisition.getAssignmentAt(e)},a.prototype.getInputState=function(){var e={typed:this.element.value,cursor:{start:this.element.selectionStart,end:this.element.selectionEnd}};return e.typed==null&&(e={typed:"",cursor:{start:0,end:0}},console.log('fixing input.typed=""',e)),e.cursor.start==null&&(e.cursor.start=0),e},t.Inputter=a}),define("gcli/history",["require","exports","module"],function(e,t,n){function r(){this._buffer=[""],this._current=0}r.prototype.destroy=function(){delete this._buffer},r.prototype.add=function(e){this._buffer.splice(1,0,e),this._current=0},r.prototype.forward=function(){return this._current>0&&this._current--,this._buffer[this._current]},r.prototype.backward=function(){return this._current<this._buffer.length-1&&this._current++,this._buffer[this._current]},t.History=r}),define("text!gcli/ui/inputter.css",[],"\n.gcli-in-input,\n.gcli-in-complete,\n.gcli-prompt {\n  font-family: Segoe UI, Helvetica Neue, Verdana, Arial, sans-serif;\n}\n\n.gcli-in-input,\n.gcli-in-complete {\n  font-size: 110%;\n  font-weight: normal;\n  font-style: normal;\n  padding: 0 0 0 22px;\n  background-color: transparent;\n}\n\n.gcli-in-input {\n  color: #000;\n  border: 0;\n  box-shadow: 0 0 10px 1px #ddd;\n  border-top: 1px solid #999;\n}\n\n.gcli-in-complete {\n  position: absolute;\n  z-index: -1000;\n  color: transparent;\n  margin-top: -1px;\n  border-top: 1px solid transparent;\n}\n\n.gcli-prompt {\n  position: absolute;\n  z-index: -1001;\n  padding: 0 1px;\n  color: hsl(25,78%,50%);\n  font-size: 150%;\n  font-weight: bold;\n  line-height: 95%;\n}\n\n.gcli-in-incomplete {\n  border-bottom: 2px dotted #999;\n}\n\n.gcli-in-error {\n  border-bottom: 2px dotted #F00;\n}\n\n.gcli-in-ontab {\n  color: hsl(200,40%,70%);\n}\n\n.gcli-in-todo {\n  color: hsl(48,28%,76%);\n}\n\n.gcli-in-closebrace {\n  color: hsl(0,0%,80%);\n}\n\n.gcli-in-scratchlink {\n  float: right;\n  font-size: 85%;\n  color: #888;\n  padding-right: 10px;\n}\n"),define("gcli/ui/completer",["require","exports","module","gcli/util","gcli/ui/domtemplate","text!gcli/ui/completer.html"],function(e,t,n){function o(e,t){this.requisition=t.requisition,this.scratchpad=e.scratchpad,this.input={typed:"",cursor:{start:0,end:0}},this.choice=0,this.element=t.element,this.element.classList.add("gcli-in-complete"),this.element.setAttribute("tabindex","-1"),this.element.setAttribute("aria-live","polite"),this.document=this.element.ownerDocument,this.inputter=t.inputter,this.inputter.onInputChange.add(this.update,this),this.inputter.onAssignmentChange.add(this.update,this),this.inputter.onChoiceChange.add(this.update,this);if(t.autoResize){this.inputter.onResize.add(this.resized,this);var n=this.inputter.getDimensions();n&&this.resized(n)}this.template=r.toDom(this.document,s),r.removeWhitespace(this.template,!0),this.update()}var r=e("gcli/util"),i=e("gcli/ui/domtemplate"),s=e("text!gcli/ui/completer.html");o.prototype.destroy=function(){this.inputter.onInputChange.remove(this.update,this),this.inputter.onAssignmentChange.remove(this.update,this),this.inputter.onChoiceChange.remove(this.update,this),this.inputter.onResize.remove(this.resized,this),delete this.document,delete this.element,delete this.template,delete this.inputter},o.prototype.resized=function(e){this.element.style.top=e.top+"px",this.element.style.height=e.height+"px",this.element.style.lineHeight=e.height+"px",this.element.style.left=e.left+"px",this.element.style.width=e.width+"px"},o.prototype.update=function(e){e&&e.choice!=null&&(this.choice=e.choice);var t=this._getCompleterTemplateData(),n=this.template.cloneNode(!0);i.template(n,t,{stack:"completer.html"}),r.clearElement(this.element);while(n.hasChildNodes())this.element.appendChild(n.firstChild)},o.prototype._getCompleterTemplateData=function(){var e=this.inputter.getInputState(),t="",n="",r=this.requisition.getAssignmentAt(e.cursor.start),i=[];if(e.typed.trim().length!==0){var s=r.arg,o=r.getPredictionAt(this.choice);if(o){var u=o.name,a=s.text;r.isInName()&&(u=" "+u);if(a!==u){var f=a.replace(/^\s*/,""),l=u.indexOf(f)===0;if(l&&e.cursor.start===e.typed.length){var c=a.match(/^(\s*)/)[0].length;t=u.slice(a.length-c)}else n="⇥ "+u}}else s.type==="NamedArgument"&&s.text===""&&i.push("<"+r.param.type.name+"> ")}t!==""?t+=" ":this.requisition.typedEndsWithSeparator()||i.unshift(" ");var h=this.requisition.getInputStatusMarkup(e.cursor.start);h.forEach(function(e){e.string=e.string.replace(/ /g," "),e.className="gcli-in-"+e.status.toString().toLowerCase()},this);var p=this.requisition.commandAssignment.value,d=p&&p.name==="{";this.requisition.getAssignments().forEach(function(e){if(!e.param.isPositionalAllowed)return;if(e.arg.toString().trim()!=="")return;if(t!==""&&r===e)return;var n=e.param.isDataRequired?"<"+e.param.name+"> ":"["+e.param.name+"] ";i.push(n)}.bind(this));var v=!1;p&&p.hasNamedParameters&&p.params.forEach(function(e){var t=this.requisition.getAssignment(e.name).arg;!e.isPositionalAllowed&&!e.hidden&&t.type==="BlankArgument"&&(v=!0)},this),v&&i.push("[options] ");var m=d&&this.requisition.getAssignment(0).arg.suffix.indexOf("}")===-1,g=this.scratchpad&&d?this.scratchpad.linkText:"";return{statusMarkup:h,directTabText:t,emptyParameters:i,arrowTabText:n,unclosedJs:m,scratchLink:g}},t.Completer=o}),define("text!gcli/ui/completer.html",[],'\n<div>\n  <loop foreach="member in ${statusMarkup}">\n    <span class="${member.className}">${member.string}</span>\n  </loop>\n  <span class="gcli-in-ontab">${directTabText}</span>\n  <span class="gcli-in-todo" foreach="param in ${emptyParameters}">${param}</span>\n  <span class="gcli-in-ontab">${arrowTabText}</span>\n  <span class="gcli-in-closebrace" if="${unclosedJs}">}</span>\n  <div class="gcli-in-scratchlink" if="${scratchLink}">${scratchLink}</div>\n</div>\n'),define("gcli/ui/prompt",["require","exports","module"],function(e,t,n){function r(e,t){this.element=t.element,this.element.classList.add("gcli-prompt");var n=e.promptChar||"»",r=this.element.ownerDocument.createTextNode(n);this.element.appendChild(r),this.inputter=t.inputter;if(this.inputter){this.inputter.onResize.add(this.resized,this);var i=this.inputter.getDimensions();i&&this.resized(i)}}r.prototype.destroy=function(){this.inputter&&this.inputter.onResize.remove(this.resized,this),delete this.element},r.prototype.resized=function(e){this.element.style.top=e.top+"px",this.element.style.height=e.height+"px",this.element.style.left=e.left+"px",this.element.style.width=e.width+"px"},t.Prompt=r}),define("text!gcli/ui/display.css",[],"\n.gcli-output {\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n  font-family: Segoe UI, Helvetica Neue, Verdana, Arial, sans-serif;\n}\n"),define("text!gcli/ui/display.html",[],'\n<div class="gcli-panel" save="${panel}">\n  <div save="${tooltip}"></div>\n  <div class="gcli-panel-connector"></div>\n</div>\n'),define("demo/index",["require","exports","module","gcli/index","gcli/commands/help","gcli/commands/pref","gcli/commands/pref_list","gcli/commands/intro","test/commands/test","demo/commands/basic","demo/commands/bugs","demo/commands/demo"],function(e,t,n){e("gcli/index"),e("gcli/commands/help").startup(),e("gcli/commands/pref").startup(),e("gcli/commands/pref_list").startup(),e("gcli/commands/intro").startup(),e("test/commands/test").startup(),e("demo/commands/basic").startup(),e("demo/commands/bugs").startup(),e("demo/commands/demo").startup()}),define("gcli/commands/help",["require","exports","module","gcli/canon","gcli/l10n","gcli/util","gcli/ui/view","text!gcli/commands/help_man.html","text!gcli/commands/help_list.html","text!gcli/commands/help.css"],function(e,t,n){function f(e,t){var n=i.getCommands().filter(function(t){return t.hidden?!1:e.search&&t.name.indexOf(e.search)!==0?!1:!e.search&&t.name.indexOf(" ")!=-1?!1:!0});n.sort(function(e,t){return e.name.localeCompare(t.name)});var r;return n.length===0?r=s.lookupFormat("helpListNone",[e.search]):e.search==null?r=s.lookup("helpListAll"):r=s.lookupFormat("helpListPrefix",[e.search]),{l10n:s.propertyLookup,includeIntro:e.search==null,matchingCommands:n,heading:r,onclick:function(e){o.updateCommand(e.currentTarget,t)},ondblclick:function(e){o.executeCommand(e.currentTarget,t)}}}function l(e,t){var n={l10n:s.propertyLookup,command:e,onclick:function(e){o.updateCommand(e.currentTarget,t)},ondblclick:function(e){o.executeCommand(e.currentTarget,t)},describe:function(e,t){var n=e.manual||e.description,r=t.ownerDocument.createElement("div");return o.setContents(r,n),r.childNodes},getTypeDescription:function(e){var t="";return e.defaultValue===undefined?t=s.lookup("helpManRequired"):e.defaultValue===null?t=s.lookup("helpManOptional"):t=e.defaultValue,"("+e.type.name+", "+t+")"}};return Object.defineProperty(n,"subcommands",{get:function(){var t=i.getCommands().filter(function(t){return t.name.indexOf(e.name)===0&&t.name!==e.name});return t.sort(function(e,t){return e.name.localeCompare(t.name)}),t},enumerable:!0}),n}var r=t,i=e("gcli/canon"),s=e("gcli/l10n"),o=e("gcli/util"),u=e("gcli/ui/view");t.helpManHtml=e("text!gcli/commands/help_man.html"),t.helpListHtml=e("text!gcli/commands/help_list.html"),t.helpCss=e("text!gcli/commands/help.css");var a={name:"help",description:s.lookup("helpDesc"),manual:s.lookup("helpManual"),params:[{name:"search",type:"string",description:s.lookup("helpSearchDesc"),manual:s.lookup("helpSearchManual2"),defaultValue:null}],returnType:"html",exec:function(e,n){var r=i.getCommand(e.search||undefined);return r?u.createView({html:t.helpManHtml,options:{allowEval:!0,stack:"help_man.html"},data:l(r,n),css:t.helpCss,cssId:"gcli-help"}):u.createView({html:t.helpListHtml,options:{allowEval:!0,stack:"help_list.html"},data:f(e,n),css:t.helpCss,cssId:"gcli-help"})}};r.startup=function(){i.addCommand(a)},r.shutdown=function(){i.removeCommand(a)}}),define("text!gcli/commands/help_man.html",[],'\n<div>\n  <h3>${command.name}</h3>\n\n  <h4 class="gcli-help-header">\n    ${l10n.helpManSynopsis}:\n    <span class="gcli-out-shortcut" onclick="${onclick}" data-command="${command.name}">\n      ${command.name}\n      <span foreach="param in ${command.params}">\n        ${param.defaultValue !== undefined ? \'[\' + param.name + \']\' : param.name}\n      </span>\n    </span>\n  </h4>\n\n  <h4 class="gcli-help-header">${l10n.helpManDescription}:</h4>\n\n  <p class="gcli-help-description">${describe(command, __element)}</p>\n\n  <div if="${command.exec}">\n    <h4 class="gcli-help-header">${l10n.helpManParameters}:</h4>\n\n    <ul class="gcli-help-parameter">\n      <li if="${command.params.length === 0}">${l10n.helpManNone}</li>\n      <li foreach="param in ${command.params}">\n        ${param.name} <em>${getTypeDescription(param)}</em>\n        <br/>\n        ${describe(param, __element)}\n      </li>\n    </ul>\n  </div>\n\n  <div if="${!command.exec}">\n    <h4 class="gcli-help-header">${l10n.subCommands}:</h4>\n\n    <ul class="gcli-help-${subcommands}">\n      <li if="${subcommands.length === 0}">${l10n.subcommandsNone}</li>\n      <li foreach="subcommand in ${subcommands}">\n        <strong>${subcommand.name}</strong>:\n        ${subcommand.description}\n        <span class="gcli-out-shortcut" data-command="help ${subcommand.name}"\n            onclick="${onclick}" ondblclick="${ondblclick}">\n          help ${subcommand.name}\n        </span>\n      </li>\n    </ul>\n  </div>\n\n</div>\n'),define("text!gcli/commands/help_list.html",[],'\n<div>\n  <div if="${includeIntro}">\n    <h2>Welcome to GCLI</h2>\n    <p>GCLI is an experiment to create a highly usable JavaScript command line for developers.</p>\n    <p>\n      Useful links:\n      <a href=\'https://github.com/joewalker/gcli\'>Source</a> (Apache-2.0),\n      <a href=\'https://github.com/joewalker/gcli/blob/master/docs/index.md\'>Documentation</a> (for users/embedders),\n      <a href=\'https://wiki.mozilla.org/DevTools/Features/GCLI\'>Mozilla feature page</a> (for GCLI in the web console).\n    </p>\n  </div>\n\n  <h3>${heading}</h3>\n\n  <table>\n    <tr foreach="command in ${matchingCommands}">\n      <th class="gcli-help-name">${command.name}</th>\n      <td class="gcli-help-arrow">-</td>\n      <td>\n        ${command.description}\n        <span class="gcli-out-shortcut"\n            onclick="${onclick}" ondblclick="${ondblclick}"\n            data-command="help ${command.name}">help ${command.name}</span>\n      </td>\n    </tr>\n  </table>\n</div>\n'),define("text!gcli/commands/help.css",[],"\n.gcli-help-name {\n  text-align: end;\n}\n\n.gcli-help-arrow {\n  color: #AAA;\n}\n\n.gcli-help-description {\n  margin: 0 20px;\n  padding: 0;\n}\n\n.gcli-help-parameter {\n  margin: 0 30px;\n  padding: 0;\n}\n\n.gcli-help-header {\n  margin: 10px 0 6px;\n}\n"),define("gcli/commands/pref",["require","exports","module","gcli/canon","gcli/l10n","gcli/settings","text!gcli/commands/pref_set_check.html"],function(e,t,n){var r=e("gcli/canon"),i=e("gcli/l10n"),s=e("gcli/settings"),o={name:"allowSet",type:"boolean",description:i.lookup("allowSetDesc"),defaultValue:!1};t.allowSet=undefined;var u={name:"pref",description:i.lookup("prefDesc"),manual:i.lookup("prefManual")},a={name:"pref show",description:i.lookup("prefShowDesc"),manual:i.lookup("prefShowManual"),params:[{name:"setting",type:"setting",description:i.lookup("prefShowSettingDesc"),manual:i.lookup("prefShowSettingManual")}],exec:function(t,n){return t.setting.value}},f={name:"pref set",description:i.lookup("prefSetDesc"),manual:i.lookup("prefSetManual"),params:[{name:"setting",type:"setting",description:i.lookup("prefSetSettingDesc"),manual:i.lookup("prefSetSettingManual")},{name:"value",type:"settingValue",description:i.lookup("prefSetValueDesc"),manual:i.lookup("prefSetValueManual")}],exec:function(r,s){return!t.allowSet.value&&r.setting.name!==t.allowSet.name?s.createView({html:e("text!gcli/commands/pref_set_check.html"),options:{allowEval:!0,stack:"pref_set_check.html"},data:{l10n:i.propertyLookup,activate:function(){s.exec("pref set "+t.allowSet.name+" true")}}}):(r.setting.value=r.value,null)}},l={name:"pref reset",description:i.lookup("prefResetDesc"),manual:i.lookup("prefResetManual"),params:[{name:"setting",type:"setting",description:i.lookup("prefResetSettingDesc"),manual:i.lookup("prefResetSettingManual")}],exec:function(t,n){return t.setting.setDefault(),null}};t.startup=function(){t.allowSet=s.addSetting(o),r.addCommand(u),r.addCommand(a),r.addCommand(f),r.addCommand(l)},t.shutdown=function(){r.removeCommand(u),r.removeCommand(a),r.removeCommand(f),r.removeCommand(l),s.removeSetting(o),t.allowSet=undefined}}),define("text!gcli/commands/pref_set_check.html",[],'<div>\n  <p><strong>${l10n.prefSetCheckHeading}</strong></p>\n  <p>${l10n.prefSetCheckBody}</p>\n  <button onclick="${activate}">${l10n.prefSetCheckGo}</button>\n</div>\n'),define("gcli/commands/pref_list",["require","exports","module","gcli/canon","gcli/l10n","gcli/util","gcli/settings","gcli/promise","text!gcli/commands/pref_list_outer.html","text!gcli/commands/pref_list.css","text!gcli/commands/pref_list_inner.html"],function(e,t,n){function f(e,t){this.search=e.search,this.context=t,this.url=s.createUrlLookup(n),this.edit=this.url("pref_list_edit.png")}var r=e("gcli/canon"),i=e("gcli/l10n"),s=e("gcli/util"),o=e("gcli/settings"),u=e("gcli/promise").Promise,a={name:"pref list",description:i.lookup("prefListDesc"),manual:i.lookup("prefListManual"),params:[{name:"search",type:"string",defaultValue:null,description:i.lookup("prefListSearchDesc"),manual:i.lookup("prefListSearchManual")}],exec:function(n,r){return r.createView({html:e("text!gcli/commands/pref_list_outer.html"),data:new f(n,r),options:{blankNullUndefined:!0,allowEval:!0,stack:"pref_list_outer.html"},css:e("text!gcli/commands/pref_list.css"),cssId:"gcli-pref-list"})}};t.startup=function(e){r.addCommand(a)},t.shutdown=function(){r.removeCommand(a)},f.prototype.onLoad=function(e){var t=e.querySelector(".gcli-pref-list-table");return this.updateTable(t),""},f.prototype.l10n=i.propertyLookup,f.prototype.updateTable=function(t){s.clearElement(t);var n=this.context.createView({html:e("text!gcli/commands/pref_list_inner.html"),options:{blankNullUndefined:!0,stack:"pref_list_inner.html"},data:this}),r=n.toDom(t.ownerDocument);s.setContents(t,r)},Object.defineProperty(f.prototype,"preferences",{get:function(){return o.getAll(this.search)},enumerable:!0}),Object.defineProperty(f.prototype,"promisePreferences",{get:function(){var e=new u;return setTimeout(function(){e.resolve(o.getAll(this.search))}.bind(this),10),e},enumerable:!0}),f.prototype.onFilterChange=function(e){if(e.target.value!==this.search){this.search=e.target.value;var t=e.target.parentNode.parentNode,n=t.querySelector(".gcli-pref-list-table");this.updateTable(n)}},f.prototype.onSetClick=function(e){var t=e.currentTarget.getAttribute("data-command");this.context.update(t)}}),define("text!gcli/commands/pref_list_outer.html",[],'<div ignore="${onLoad(__element)}">\n  <div class="gcli-pref-list-filter">\n    ${l10n.prefOutputFilter}:\n    <input onKeyUp="${onFilterChange}" value="${search}"/>\n  </div>\n  <table class="gcli-pref-list-table">\n    <colgroup>\n      <col class="gcli-pref-list-name"/>\n      <col class="gcli-pref-list-value"/>\n    </colgroup>\n    <tr>\n      <th>${l10n.prefOutputName}</th>\n      <th>${l10n.prefOutputValue}</th>\n    </tr>\n  </table>\n  <div class="gcli-pref-list-scroller">\n    <table class="gcli-pref-list-table" save="${table}">\n    </table>\n  </div>\n</div>\n'),define("text!gcli/commands/pref_list.css",[],"\n.gcli-pref-list-scroller {\n  max-height: 200px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  display: inline-block;\n}\n\n.gcli-pref-list-table {\n  width: 500px;\n  table-layout: fixed;\n}\n\n.gcli-pref-list-table tr > th {\n  text-align: left;\n}\n\n.gcli-pref-list-table tr > td {\n  text-overflow: elipsis;\n  word-wrap: break-word;\n}\n\n.gcli-pref-list-name {\n  width: 70%;\n}\n\n.gcli-pref-list-command {\n  display: none;\n}\n\n.gcli-pref-list-row:hover .gcli-pref-list-command {\n  display: inline-block;\n}\n"),define("text!gcli/commands/pref_list_inner.html",[],'<table>\n  <colgroup>\n    <col class="gcli-pref-list-name"/>\n    <col class="gcli-pref-list-value"/>\n  </colgroup>\n  <tr class="gcli-pref-list-row" foreach="preference in ${promisePreferences}">\n    <td>${preference.name}</td>\n    <td onclick="${onSetClick}" data-command="pref set ${preference.name} ">\n      ${preference.value}\n      <img class="gcli-pref-list-command" _src="${edit}"/>\n    </td>\n  </tr>\n</table>\n'),define("gcli/commands/intro",["require","exports","module","gcli/canon","gcli/l10n","gcli/ui/intro"],function(e,t,n){var r=e("gcli/canon"),i=e("gcli/l10n"),s=e("gcli/ui/intro"),o={name:"intro",description:i.lookup("introDesc"),manual:i.lookup("introManual"),returnType:"html",exec:function(t,n){return s.createView(n)}};t.startup=function(){r.addCommand(o)},t.shutdown=function(){r.removeCommand(o)}}),define("test/commands/test",["require","exports","module","gcli/canon","test/examiner","text!test/commands/test.css","text!test/commands/test.html"],function(e,t,n){var r=e("gcli/canon"),i=e("test/examiner"),s=e("text!test/commands/test.css"),o=e("text!test/commands/test.html");t.startup=function(){r.addCommand(u)},t.shutdown=function(){r.removeCommand(u)};var u={name:"test",description:"Runs the GCLI Unit Tests",params:[{name:"suite",type:{name:"selection",lookup:function(){return Object.keys(i.suites).map(function(e){return{name:e,value:i.suites[e]}})}},description:"Test suite to run.",defaultValue:null}],exec:function(e,t){var n=t.createPromise(),r={};return i.mergeDefaultOptions(r),i.reset(),e.suite?e.suite.runAsync(r,this.createResolver(n,t)):i.runAsync(r,this.createResolver(n,t)),n},createResolver:function(e,t){return function(){e.resolve(t.createView({html:o,css:s,cssId:"gcli-test",data:i.toRemote(),options:{allowEval:!0,stack:"test.html"}})),t.update("")}}}}),define("test/examiner",["require","exports","module","test/assert","test/status"],function(e,t,n){function u(e,t){this.name=e.replace(/gclitest\//,""),this.suite=t,this.tests={},Object.keys(t).forEach(function(e){if(e!=="setup"&&e!=="shutdown"){var n=new a(this,e,t[e]);this.tests[e]=n}}.bind(this))}function a(e,t,n){this.suite=e,this.name=t,this.func=n,this.title=t.replace(/^test/,"").replace(/([A-Z])/g," $1"),this.failures=[],this.status=s.notrun,this.checks=0}var r=t,i=e("test/assert"),s=e("test/status").stati;r.suites={};var o=10;r.addSuite=function(e,t){r.suites[e]=new u(e,t)},r.defaultOptions={},r.mergeDefaultOptions=function(e){Object.keys(r.defaultOptions).forEach(function(t){e[t]==null&&(e[t]=r.defaultOptions[t])})},r.run=function(e){return Object.keys(r.suites).forEach(function(t){var n=r.suites[t];n.run(e)}.bind(this)),e.detailedResultLog?r.detailedResultLog():console.log("Completed test suite"),r.suites},r.runAsync=function(e,t){this._runAsyncInternal(0,e,t)},r._runAsyncInternal=function(e,t,n){if(e>=Object.keys(r.suites).length){typeof n=="function"&&n();return}var i=Object.keys(r.suites)[e];r.suites[i].runAsync(t,function(){setTimeout(function(){r._runAsyncInternal(e+1,t,n)}.bind(this),o)}.bind(this))},r.toRemote=function(){return{suites:Object.keys(r.suites).map(function(e){return r.suites[e].toRemote()}.bind(this)),summary:{checks:this.checks,status:this.status}}},r.reset=function(){Object.keys(r.suites).forEach(function(e){r.suites[e].reset()},this)},Object.defineProperty(r,"checks",{get:function(){return Object.keys(r.suites).reduce(function(e,t){return e+r.suites[t].checks}.bind(this),0)},enumerable:!0}),Object.defineProperty(r,"status",{get:function(){return Object.keys(r.suites).reduce(function(e,t){var n=r.suites[t].status;return e.index>n.index?e:n}.bind(this),s.notrun)},enumerable:!0}),r.detailedResultLog=function(){Object.keys(this.suites).forEach(function(e){var t=r.suites[e];console.log(t.name+": "+t.status.name+" (funcs="+Object.keys(t.tests).length+", checks="+t.checks+")"),Object.keys(t.tests).forEach(function(e){var n=t.tests[e];if(n.status!==s.pass||n.failures.length!==0)console.log("- "+n.name+": "+n.status.name),n.failures.forEach(function(e){console.log("  - "+e.message),e.params&&(console.log("    - P1: "+e.p1),console.log("    - P2: "+e.p2))}.bind(this))}.bind(this))}.bind(this)),console.log(),console.log("Summary: "+this.status.name+" ("+this.checks+" checks)")},u.prototype.reset=function(){Object.keys(this.tests).forEach(function(e){this.tests[e].reset()},this)},u.prototype.run=function(e){if(!this._setup(e))return;Object.keys(this.tests).forEach(function(t){this.tests[t].run(e)},this),this._shutdown(e)},u.prototype.runAsync=function(e,t){if(!this._setup(e)){typeof t=="function"&&t();return}this._runAsyncInternal(0,e,function(){this._shutdown(e),typeof t=="function"&&t()}.bind(this))},u.prototype._runAsyncInternal=function(e,t,n){if(e>=Object.keys(this.tests).length){typeof n=="function"&&n();return}var r=Object.keys(this.tests)[e];this.tests[r].runAsync(t,function(){setTimeout(function(){this._runAsyncInternal(e+1,t,n)}.bind(this),o)}.bind(this))},u.prototype.toRemote=function(){return{name:this.name,tests:Object.keys(this.tests).map(function(e){return this.tests[e].toRemote()}.bind(this))}},Object.defineProperty(u.prototype,"checks",{get:function(){return Object.keys(this.tests).reduce(function(e,t){return e+this.tests[t].checks}.bind(this),0)},enumerable:!0}),Object.defineProperty(u.prototype,"status",{get:function(){return Object.keys(this.tests).reduce(function(e,t){var n=this.tests[t].status;return e.index>n.index?e:n}.bind(this),s.notrun)},enumerable:!0}),u.prototype._setup=function(e){if(typeof this.suite.setup!="function")return!0;try{return this.suite.setup(e),!0}catch(t){return this._logToAllTests(""+t),console.error(t),t.stack&&console.error(t.stack),!1}},u.prototype._shutdown=function(e){if(typeof this.suite.shutdown!="function")return!0;try{return this.suite.shutdown(e),!0}catch(t){return this._logToAllTests(""+t),console.error(t),t.stack&&console.error(t.stack),!1}},u.prototype._logToAllTests=function(e){var t=i.currentTest;Object.keys(this.tests).forEach(function(t){i.currentTest=this.tests[t],i.ok(!1,e)}.bind(this)),i.currentTest=t},a.prototype.reset=function(){this.failures=[],this.status=s.notrun,this.checks=0},a.prototype.run=function(e){i.currentTest=this,this.status=s.executing,this.failures=[],this.checks=0;try{this.func.apply(this.suite,[e])}catch(t){i.ok(!1,""+t),console.error(t.stack),(e.isNode||e.isFirefox)&&t.stack&&console.error(t.stack)}this.status===s.executing&&(this.status=s.pass),i.currentTest=null},a.prototype.runAsync=function(e,t){setTimeout(function(){this.run(e),typeof t=="function"&&t()}.bind(this),o)},a.prototype.toRemote=function(){return{name:this.name,title:this.title,status:this.status,failures:this.failures,checks:this.checks}}}),define("test/assert",["require","exports","module","test/status"],function(e,t,n){var r=e("test/status").stati;t.currentTest=null,t.ok=function(e,n){if(!t.currentTest){console.error("No currentTest for "+n);return}e?t.currentTest.checks++:(console.error("Failure: "+n),console.trace(),t.currentTest.status=r.fail,t.currentTest.failures.push({message:n}))},t.is=function(e,n,i){if(!t.currentTest){console.error("No currentTest for "+failure.message);return}e!==n?(console.error("Failure: "+i),console.error("- P1: ",typeof e=="string"?'"'+e+'"':e),console.error("- P2: ",typeof n=="string"?'"'+n+'"':n),console.trace(),t.currentTest.status=r.fail,t.currentTest.failures.push({message:i,params:!0,p1:e,p2:n})):t.currentTest.checks++},t.log=function(e){if(!t.currentTest){console.error("No currentTest for "+failure.message);return}t.currentTest.failures.push({message:e})}}),define("test/status",["require","exports","module"],function(e,t,n){t.stati={notrun:{index:0,name:"Skipped"},executing:{index:1,name:"Executing"},asynchronous:{index:2,name:"Waiting"},pass:{index:3,name:"Pass"},fail:{index:4,name:"Fail"}}}),define("text!test/commands/test.css",[],"\n.gcliTestSkipped {\n  background-color: #EEE;\n  color: #000;\n}\n\n.gcliTestExecuting {\n  background-color: #888;\n  color: #FFF;\n}\n\n.gcliTestWaiting {\n  background-color: #FFA;\n  color: #000;\n}\n\n.gcliTestPass {\n  background-color: #8F8;\n  color: #000;\n}\n\n.gcliTestFail {\n  background-color: #F00;\n  color: #FFF;\n}\n\ntd.gcliTestSuite {\n  font-family: monospace;\n  font-size: 90%;\n  text-align: right;\n}\n\n.gcliTestResults th.gcliTestSuite,\n.gcliTestResults .gcliTestChecks {\n  text-align: right;\n}\n\n.gcliTestResults th {\n  text-align: left;\n}\n\n.gcliTestMessages ul {\n  margin: 0 0 10px;\n  padding-left: 20px;\n  list-style-type: square;\n}\n"),define("text!test/commands/test.html",[],'\n<div>\n  <table class="gcliTestResults">\n    <thead>\n      <tr>\n        <th class="gcliTestSuite">Suite</th>\n        <th>Test</th>\n        <th>Results</th>\n        <th>Checks</th>\n        <th>Notes</th>\n      </tr>\n    </thead>\n    <tbody foreach="suite in ${suites}">\n      <tr foreach="test in ${suite.tests}" title="${suite.name}.${test.name}()">\n        <td class="gcliTestSuite">${suite.name}</td>\n        <td class="gcliTestTitle">${test.title}</td>\n        <td class="gcliTest${test.status.name}">${test.status.name}</td>\n        <td class="gcliTestChecks">${test.checks}</td>\n        <td class="gcliTestMessages">\n          <div foreach="failure in ${test.failures}">\n            ${failure.message}\n            <ul if="${failure.params}">\n              <li>P1: ${failure.p1}</li>\n              <li>P2: ${failure.p2}</li>\n            </ul>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n    <tfoot>\n      <tr>\n        <th></th>\n        <th>Total</th>\n        <th>${summary.status.name}</th>\n        <th class="gcliTestChecks">${summary.checks}</th>\n        <th></th>\n      </tr>\n    </tfoot>\n  </table>\n</div>\n'),define("demo/commands/basic",["require","exports","module","gcli/index"],function(e,t,n){var r=e("gcli/index");t.startup=function(){r.addCommand(s),r.addCommand(i),r.addCommand(o),r.addCommand(u)},t.shutdown=function(){r.removeCommand(s),r.removeCommand(i),r.removeCommand(o),r.removeCommand(u)};var i={name:"alert",description:"Show an alert dialog",params:[{name:"message",type:"string",description:"Message to display"}],exec:function(e,t){window.alert(e.message)}},s={name:"echo",description:{root:"Show a message",fr_fr:"Afficher un message"},params:[{name:"message",type:"string",description:{root:"The message to output",fr_fr:"Le message à afficher"}}],returnType:"string",exec:function(t,n){return t.message}},o={name:"edit",description:"Edit a file",params:[{name:"resource",type:{name:"resource",include:"text/css"},description:"The resource to edit"}],returnType:"html",exec:function(e,t){var n=t.createPromise();return e.resource.loadContents(function(e){n.resolve("<p>This is just a demo</p><textarea rows=5 cols=80>"+e+"</textarea>")}),n}},u={name:"sleep",description:"Wait for a while",params:[{name:"length",type:{name:"number",min:1},description:"How long to wait (s)"}],returnType:"html",exec:function(e,t){var n=t.createPromise();return window.setTimeout(function(){n.resolve("done")},e.length*1e3),n}}}),define("demo/commands/bugs",["require","exports","module","gcli/index","gcli/util","text!demo/commands/bugs.html"],function(e,t,n){function u(e,t,n){var r="https://api-dev.bugzilla.mozilla.org/0.9/bug?"+e,i=new XMLHttpRequest;i.open("GET",r,!0),i.setRequestHeader("Accept","application/json"),i.setRequestHeader("Content-type","application/json"),i.onreadystatechange=function(e){if(i.readyState==4){if(i.status>=300||i.status<200){n("Error: "+JSON.stringify(i));return}var r;try{r=JSON.parse(i.responseText)}catch(s){n("Invalid response: "+s+": "+i.responseText);return}if(r.error){n("Error: "+r.error.message);return}t(r)}}.bind(this),i.send()}var r=e("gcli/index"),i=e("gcli/util"),s=e("text!demo/commands/bugs.html");t.startup=function(){r.addCommand(o)},t.shutdown=function(){r.removeCommand(o)};var o={name:"bugz",returnType:"html",description:"List the GCLI bugs open in Bugzilla",exec:function(e,t){function r(e){n.resolve(e)}var n=t.createPromise(),i="short_desc=GCLI&short_desc_type=allwords&bug_status=UNCONFIRMED&bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED";return u(i,function(e){e.bugs.forEach(function(e){e.target_milestone==="---"&&(e.target_milestone="Future")}),e.bugs.sort(function(e,t){var n=e.target_milestone.localeCompare(t.target_milestone);return n!==0?n:e.priority.localeCompare(t.priority)}),n.resolve(t.createView({html:s,data:e}))},r),n}}}),define("text!demo/commands/bugs.html",[],'\n<div>\n  <p>\n    Open GCLI meta-bugs\n    (i.e. <a target="_blank" href="https://bugzilla.mozilla.org/buglist.cgi?list_id=2622790;short_desc=GCLI;resolution=---;resolution=DUPLICATE;query_format=advanced;bug_status=UNCONFIRMED;bug_status=NEW;bug_status=ASSIGNED;bug_status=REOPENED;short_desc_type=allwords">this search</a>):\n  </p>\n  <table>\n    <thead>\n      <tr>\n        <th>ID</th>\n        <th>Milestone</th>\n        <th>Pri</th>\n        <th>Summary</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr foreach="bug in ${bugs}">\n        <td><a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=${bug.id}">${bug.id}</a></td>\n        <td>${bug.target_milestone}</td>\n        <td>${bug.priority}</td>\n        <td>${bug.summary}</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n'),define("demo/commands/demo",["require","exports","module","gcli/index"],function(e,t,n){function c(){var e=Math.floor(Math.random()*l.length);return l[e]}var r=e("gcli/index");t.startup=function(){r.addCommand(i),r.addCommand(s),r.addCommand(o),r.addCommand(u),r.addCommand(a),r.addCommand(f)},t.shutdown=function(){r.removeCommand(i),r.removeCommand(s),r.removeCommand(o),r.removeCommand(u),r.removeCommand(a),r.removeCommand(f)};var i={name:"gcli",description:"Commands for playing with the UI"},s={name:"gcli onestring",description:"Single string parameter",params:[{name:"text",type:"string",description:"Demo param"}],returnType:"html",exec:function(e,t){return c()+"text="+e.text}},o={name:"gcli twostrings",description:"2 string parameters",params:[{name:"p1",type:"string",description:"First param"},{name:"p2",type:"string",description:"Second param"}],returnType:"html",exec:function(e,t){return c()+"p1='"+e.p1+"', p2='"+e.p2+"'"}},u={name:"gcli twonums",description:"2 numeric parameters",params:[{name:"p1",type:"number",description:"First param"},{name:"p2",defaultValue:8,type:{name:"number",min:-20,max:42,step:5},description:"Second param"},{group:"Options",params:[{name:"all",description:"All your base",type:"boolean"},{name:"verbose",description:"Be verbose",type:"boolean"},{name:"message",description:"A message",type:"string",defaultValue:"nothing"},{name:"browser",description:"Pick a browser",type:{name:"selection",lookup:[{name:"chrome",value:1},{name:"firefox",value:2},{name:"ie",value:3},{name:"opera",value:4},{name:"safari",value:5}]},defaultValue:3}]}],returnType:"html",exec:function(e,t){return c()+"p1="+e.p1+", p2="+e.p2}},a={name:"gcli selboolnum",description:"A selection, a boolean and a number",params:[{name:"sel",type:{name:"selection",lookup:[{name:"firefox",value:4},{name:"chrome",value:12},{name:"ie",value:9},{name:"opera",value:10},{name:"safari",value:5}]},description:"First param"},{name:"bool",type:"boolean",description:"A boolean param"},{name:"num",type:{name:"number",min:-4,max:42,step:5},description:"A number param"}],returnType:"html",exec:function(e,t){return c()+"p1="+e.p1+", p2="+e.p2+", p3="+e.p3}},f={name:"gcli node",description:"Single node parameter",params:[{name:"node",type:"node",description:"CSS selector pointing at a single node"}],returnType:"html",exec:function(e,t){return c()+"node="+e.node}},l=["GCLI wants you to trick it out in some way.</br>","GCLI is your web command line.</br>","GCLI would love to be like Zsh on the Web.</br>","GCLI is written on the Web platform, so you can tweak it.</br>"]}),define("gclitest/index",["require","exports","module","gclitest/suite","gcli/settings","gcli/ui/display"],function(e,t,n){var r=e("gclitest/suite").examiner,i=e("gcli/settings"),s=e("gcli/ui/display").Display,o={isFake:!0,document:{title:"Fake DOM"}};o.window=o,r.defaultOptions={window:o,hideExec:!0},t.run=function(e){e=e||{},r.mergeDefaultOptions(e),r.reset(),r.run(e),r.defaultOptions={window:e.window,display:e.display,hideExec:e.hideExec}},t.createDisplay=function(n){n=n||{},n.settings!=null&&i.setDefaults(n.settings),window.display=new s(n);var r=window.display.requisition;return window.setTimeout(function(){var n={window:window,display:window.display,hideExec:!0};t.run(n),window.createDebugCheck=function(){e(["gclitest/helpers"],function(e){e.setup(n),console.log(e._createDebugCheck()),e.shutdown(n)})},window.summaryJson=function(){var e=["Requisition: "],t=display.requisition._summaryJson;Object.keys(t).forEach(function(n){e.push(" "+n+"="),e.push(t[n])}),console.log.apply(console,e),console.log("Focus: tooltip=",display.focusManager._shouldShowTooltip(),"output=",display.focusManager._shouldShowOutput())},document.addEventListener("keyup",function(e){e.keyCode===113&&window.createDebugCheck(),e.keyCode===115&&window.summaryJson()},!0),window.testCommands=function(){e(["gclitest/mockCommands"],function(e){e.setup()})},window.testCommands()},10),{exec:r.exec.bind(r),update:r.update.bind(r),destroy:window.display.destroy.bind(window.display)}}}),define("gclitest/suite",["require","exports","module","gcli/index","test/examiner","gclitest/testCanon","gclitest/testCli","gclitest/testCompletion","gclitest/testExec","gclitest/testFocus","gclitest/testHelp","gclitest/testHistory","gclitest/testInputter","gclitest/testIncomplete","gclitest/testIntro","gclitest/testJs","gclitest/testKeyboard","gclitest/testMenu","gclitest/testNode","gclitest/testPref","gclitest/testRequire","gclitest/testResource","gclitest/testScratchpad","gclitest/testSettings","gclitest/testSpell","gclitest/testSplit","gclitest/testTokenize","gclitest/testTooltip","gclitest/testTypes","gclitest/testUtil"],function(e,t,n){e("gcli/index");var r=e("test/examiner");r.addSuite("gclitest/testCanon",e("gclitest/testCanon")),r.addSuite("gclitest/testCli",e("gclitest/testCli")),r.addSuite("gclitest/testCompletion",e("gclitest/testCompletion")),r.addSuite("gclitest/testExec",e("gclitest/testExec")),r.addSuite("gclitest/testFocus",e("gclitest/testFocus")),r.addSuite("gclitest/testHelp",e("gclitest/testHelp")),r.addSuite("gclitest/testHistory",e("gclitest/testHistory")),r.addSuite("gclitest/testInputter",e("gclitest/testInputter")),r.addSuite("gclitest/testIncomplete",e("gclitest/testIncomplete")),r.addSuite("gclitest/testIntro",e("gclitest/testIntro")),r.addSuite("gclitest/testJs",e("gclitest/testJs")),r.addSuite("gclitest/testKeyboard",e("gclitest/testKeyboard")),r.addSuite("gclitest/testMenu",e("gclitest/testMenu")),r.addSuite("gclitest/testNode",e("gclitest/testNode")),r.addSuite("gclitest/testPref",e("gclitest/testPref")),r.addSuite("gclitest/testRequire",e("gclitest/testRequire")),r.addSuite("gclitest/testResource",e("gclitest/testResource")),r.addSuite("gclitest/testScratchpad",e("gclitest/testScratchpad")),r.addSuite("gclitest/testSettings",e("gclitest/testSettings")),r.addSuite("gclitest/testSpell",e("gclitest/testSpell")),r.addSuite("gclitest/testSplit",e("gclitest/testSplit")),r.addSuite("gclitest/testTokenize",e("gclitest/testTokenize")),r.addSuite("gclitest/testTooltip",e("gclitest/testTooltip")),r.addSuite("gclitest/testTypes",e("gclitest/testTypes")),r.addSuite("gclitest/testUtil",e("gclitest/testUtil")),t.examiner=r}),define("gclitest/testCanon",["require","exports","module","gclitest/helpers","gcli/canon","test/assert"],function(e,t,n){var r=e("gclitest/helpers"),i=e("gcli/canon"),s=e("test/assert");t.setup=function(e){r.setup(e)},t.shutdown=function(e){r.shutdown(e)},t.testAddRemove=function(e){var t=i.getCommands().length,n=0,o=function(e){n++};i.onCanonChange.add(o),i.addCommand({name:"testadd",exec:function(){return 1}}),s.is(i.getCommands().length,t+1,"add command success"),s.is(n,1,"add event"),r.exec(e,{typed:"testadd",outputMatch:/^1$/}),i.addCommand({name:"testadd",exec:function(){return 2}}),s.is(i.getCommands().length,t+1,"readd command success"),s.is(n,2,"readd event"),r.exec(e,{typed:"testadd",outputMatch:/^2$/}),i.removeCommand("testadd"),s.is(i.getCommands().length,t,"remove command success"),s.is(n,3,"remove event"),r.setInput("testadd"),r.check({typed:"testadd",status:"ERROR"}),i.addCommand({name:"testadd",exec:function(){return 3}}),s.is(i.getCommands().length,t+1,"rereadd command success"),s.is(n,4,"rereadd event"),r.exec(e,{typed:"testadd",outputMatch:/^3$/}),i.removeCommand({name:"testadd"}),s.is(i.getCommands().length,t,"reremove command success"),s.is(n,5,"reremove event"),r.setInput("testadd"),r.check({typed:"testadd",status:"ERROR"}),i.removeCommand({name:"nonexistant"}),s.is(i.getCommands().length,t,"nonexistant1 command success"),s.is(n,5,"nonexistant1 event"),i.removeCommand("nonexistant"),s.is(i.getCommands().length,t,"nonexistant2 command success"),s.is(n,5,"nonexistant2 event"),i.onCanonChange.remove(o)}}),define("gclitest/helpers",["require","exports","module","test/assert","gcli/util"],function(e,t,n){var r=e("test/assert"),i=e("gcli/util"),s=t;s._display=undefined,s.setup=function(e){s._display=e.display},s.shutdown=function(e){s._display=undefined},s._actual={input:function(){return s._display.inputter.element.value},hints:function(){var e=s._display.completer._getCompleterTemplateData(),t=e.directTabText+e.emptyParameters.join("")+e.arrowTabText;return t.replace(/\u00a0/g," ").replace(/\u21E5/,"->").replace(/ $/,"")},markup:function(){var e=s._display.inputter.element.selectionStart,t=s._display.requisition.getInputStatusMarkup(e);return t.map(function(e){return Array(e.string.length+1).join(e.status.toString()[0])}).join("")},cursor:function(){return s._display.inputter.element.selectionStart},current:function(){return s._display.requisition.getAssignmentAt(s._actual.cursor()).param.name},status:function(){return s._display.requisition.getStatus().toString()},outputState:function(){var e=s._display.focusManager._shouldShowOutput();return e.visible+":"+e.reason},tooltipState:function(){var e=s._display.focusManager._shouldShowTooltip();return e.visible+":"+e.reason}},s._directToString=["boolean","undefined","number"],s._createDebugCheck=function(){var e=s._display.requisition,t=e.commandAssignment.value,n=s._actual.input(),r=Array(n.length+1).join(" "),i="";return i+="helpers.setInput('"+n+"');\n",i+="helpers.check({\n",i+="  input:  '"+n+"',\n",i+="  hints:  "+r+"'"+s._actual.hints()+"',\n",i+="  markup: '"+s._actual.markup()+"',\n",i+="  cursor: "+s._actual.cursor()+",\n",i+="  current: '"+s._actual.current()+"',\n",i+="  status: '"+s._actual.status()+"',\n",i+="  outputState: '"+s._actual.outputState()+"',\n",t?(i+="  tooltipState: '"+s._actual.tooltipState()+"',\n",i+="  args: {\n",i+="    command: { name: '"+t.name+"' },\n",e.getAssignments().forEach(function(e){i+="    "+e.param.name+": { ",typeof e.value=="string"?i+="value: '"+e.value+"', ":s._directToString.indexOf(typeof e.value)!==-1?i+="value: "+e.value+", ":e.value===null?i+="value: "+e.value+", ":i+="/*value:"+e.value+",*/ ",i+="arg: '"+e.arg+"', ",i+="status: '"+e.getStatus().toString()+"', ",i+="message: '"+e.getMessage()+"'",i+=" },\n"}),i+="  }\n"):i+="  tooltipState: '"+s._actual.tooltipState()+"'\n",i+="});",i},s.setInput=function(e,t){s._display.inputter.setInput(e),t&&s._display.inputter.setCursor({start:t,end:t}),s._display.focusManager.onInputChange()},s.focusInput=function(){s._display.inputter.focus()},s.pressTab=function(){s.pressKey(9)},s.pressReturn=function(){s.pressKey(13)},s.pressKey=function(e){var t={keyCode:e,preventDefault:function(){},timeStamp:(new Date).getTime()};s._display.inputter.onKeyDown(t),s._display.inputter.onKeyUp(t)},s.check=function(e){"input"in e&&r.is(s._actual.input(),e.input,"input"),"cursor"in e&&r.is(s._actual.cursor(),e.cursor,"cursor"),"current"in e&&r.is(s._actual.current(),e.current,"current"),"status"in e&&r.is(s._actual.status(),e.status,"status"),"markup"in e&&r.is(s._actual.markup(),e.markup,"markup"),"hints"in e&&r.is(s._actual.hints(),e.hints,"hints"),"tooltipState"in e&&r.is(s._actual.tooltipState(),e.tooltipState,"tooltipState"),"outputState"in e&&r.is(s._actual.outputState(),e.outputState,"outputState");if(e.args!=null){var t=s._display.requisition;Object.keys(e.args).forEach(function(n){var i=e.args[n],s;n==="command"?s=t.commandAssignment:s=t.getAssignment(n);if(s==null){r.ok(!1,"Unknown arg: "+n);return}"value"in i&&r.is(s.value,i.value,"arg."+n+".value"),"name"in i&&r.is(s.value.name,i.name,"arg."+n+".name"),"type"in i&&r.is(s.arg.type,i.type,"arg."+n+".type"),"arg"in i&&r.is(s.arg.toString(),i.arg,"arg."+n+".arg"),"status"in i&&r.is(s.getStatus().toString(),i.status,"arg."+n+".status"),"message"in i&&r.is(s.getMessage(),i.message,"arg."+n+".message")})}},s.exec=function(e,t){var n=e.display.requisition,i=e.display.inputter;t=t||{},t.typed&&i.setInput(t.typed);var s=i.getInputState().typed,o=n.exec({hidden:!0});r.is(s,o.typed,"output.command for: "+s),t.completed!==!1&&r.ok(o.completed,"output.completed false for: "+s),t.args!=null&&(r.is(Object.keys(t.args).length,Object.keys(o.args).length,"arg count for "+s),Object.keys(o.args).forEach(function(e){var n=t.args[e],i=o.args[e];if(Array.isArray(n)){if(!Array.isArray(i)){r.ok(!1,"actual is not an array. "+s+"/"+e);return}r.is(n.length,i.length,"array length: "+s+"/"+e);for(var u=0;u<n.length;u++)r.is(n[u],i[u],'member: "'+s+"/"+e+"/"+u)}else r.is(n,i,'typed: "'+s+'" arg: '+e)}));if(!e.window.document.createElement){r.log("skipping output tests (missing doc.createElement) for "+s);return}var u=e.window.document.createElement("div");o.toDom(u);var a=u.textContent.trim();if(t.outputMatch){var f=function(e,t){e.test(t)||(r.ok(!1,"html output for "+s+" against "+e.source),console.log("Actual textContent"),console.log(t))};Array.isArray(t.outputMatch)?t.outputMatch.forEach(function(e){f(e,a)}):f(t.outputMatch,a)}t.blankOutput!=null&&(/^$/.test(a)||(r.ok(!1,"html for "+s+" (textContent sent to info)"),console.log("Actual textContent"),console.log(a)))}}),define("gclitest/testCli",["require","exports","module","gcli/cli","gcli/types","gclitest/mockCommands","test/assert"],function(e,t,n){function d(e){l||(l=new r),l.update(e.typed),c&&console.log('####### TEST: typed="'+e.typed+'" cur='+e.cursor.start+" cli=",l),h=l.getStatus(),f=l.getAssignmentAt(e.cursor.start),p=l.getInputStatusMarkup(e.cursor.start).map(function(e){return Array(e.string.length+1).join(e.status.toString()[0])}).join(""),l.commandAssignment.value?(u=l.getAssignment(0),a=l.getAssignment(1)):(u=undefined,a=undefined)}function v(e,t){return t.every(function(t){return e===t.name},this)}var r=e("gcli/cli").Requisition,i=e("gcli/types").Status,s=e("gclitest/mockCommands"),o=e("test/assert");t.setup=function(){s.setup()},t.shutdown=function(){s.shutdown()};var u,a,f,l,c=!1,h,p;t.testBlank=function(){d({typed:"",cursor:{start:0,end:0}}),o.is("",p),o.is(i.ERROR,h),o.is(-1,f.paramIndex),o.is(undefined,l.commandAssignment.value),d({typed:" ",cursor:{start:1,end:1}}),o.is("V",p),o.is(i.ERROR,h),o.is(-1,f.paramIndex),o.is(undefined,l.commandAssignment.value),d({typed:" ",cursor:{start:0,end:0}}),o.is("V",p),o.is(i.ERROR,h),o.is(-1,f.paramIndex),o.is(undefined,l.commandAssignment.value)},t.testIncompleteMultiMatch=function(){d({typed:"t",cursor:{start:1,end:1}}),o.is("I",p),o.is(i.ERROR,h),o.is(-1,f.paramIndex),o.ok(f.getPredictions().length>0),v("tsv",f.getPredictions()),v("tsr",f.getPredictions()),o.is(undefined,l.commandAssignment.value)},t.testIncompleteSingleMatch=function(){d({typed:"tselar",cursor:{start:6,end:6}}),o.is("IIIIII",p),o.is(i.ERROR,h),o.is(-1,f.paramIndex),o.is(1,f.getPredictions().length),o.is("tselarr",f.getPredictions()[0].name),o.is(undefined,l.commandAssignment.value)},t.testTsv=function(){d({typed:"tsv",cursor:{start:3,end:3}}),o.is("VVV",p),o.is(i.ERROR,h),o.is(-1,f.paramIndex),o.is("tsv",l.commandAssignment.value.name),d({typed:"tsv ",cursor:{start:4,end:4}}),o.is("VVVV",p),o.is(i.ERROR,h),o.is(0,f.paramIndex),o.is("tsv",l.commandAssignment.value.name),d({typed:"tsv ",cursor:{start:2,end:2}}),o.is("VVVV",p),o.is(i.ERROR,h),o.is(-1,f.paramIndex),o.is("tsv",l.commandAssignment.value.name),d({typed:"tsv o",cursor:{start:5,end:5}}),o.is("VVVVI",p),o.is(i.ERROR,h),o.is(0,f.paramIndex),o.ok(f.getPredictions().length>=2),o.is(s.option1,f.getPredictions()[0].value),o.is(s.option2,f.getPredictions()[1].value),o.is("tsv",l.commandAssignment.value.name),o.is("o",u.arg.text),o.is(undefined,u.value),d({typed:"tsv option",cursor:{start:10,end:10}}),o.is("VVVVIIIIII",p),o.is(i.ERROR,h),o.is(0,f.paramIndex),o.ok(f.getPredictions().length>=2),o.is(s.option1,f.getPredictions()[0].value),o.is(s.option2,f.getPredictions()[1].value),o.is("tsv",l.commandAssignment.value.name),o.is("option",u.arg.text),o.is(undefined,u.value),d({typed:"tsv option",cursor:{start:1,end:1}}),o.is("VVVVEEEEEE",p),o.is(i.ERROR,h),o.is(-1,f.paramIndex),o.is("tsv",l.commandAssignment.value.name),o.is("option",u.arg.text),o.is(undefined,u.value),d({typed:"tsv option ",cursor:{start:11,end:11}}),o.is("VVVVEEEEEEV",p),o.is(i.ERROR,h),o.is(1,f.paramIndex),o.is(0,f.getPredictions().length),o.is("tsv",l.commandAssignment.value.name),o.is("option",u.arg.text),o.is(undefined,u.value),d({typed:"tsv option1",cursor:{start:11,end:11}}),o.is("VVVVVVVVVVV",p),o.is(i.ERROR,h),o.is("tsv",l.commandAssignment.value.name),o.is("option1",u.arg.text),o.is(s.option1,u.value),o.is(0,f.paramIndex),d({typed:"tsv option1 ",cursor:{start:12,end:12}}),o.is("VVVVVVVVVVVV",p),o.is(i.ERROR,h),o.is("tsv",l.commandAssignment.value.name),o.is("option1",u.arg.text),o.is(s.option1,u.value),o.is(1,f.paramIndex),d({typed:"tsv option1 6",cursor:{start:13,end:13}}),o.is("VVVVVVVVVVVVV",p),o.is(i.VALID,h),o.is("tsv",l.commandAssignment.value.name),o.is("option1",u.arg.text),o.is(s.option1,u.value),o.is("6",a.arg.text),o.is("6",a.value),o.is("string",typeof a.value),o.is(1,f.paramIndex),d({typed:"tsv option2 6",cursor:{start:13,end:13}}),o.is("VVVVVVVVVVVVV",p),o.is(i.VALID,h),o.is("tsv",l.commandAssignment.value.name),o.is("option2",u.arg.text),o.is(s.option2,u.value),o.is("6",a.arg.text),o.is(6,a.value),o.is("number",typeof a.value),o.is(1,f.paramIndex)},t.testInvalid=function(){d({typed:"zxjq",cursor:{start:4,end:4}}),o.is("EEEE",p),o.is("zxjq",l.commandAssignment.arg.text),o.is(0,l._unassigned.length),o.is(-1,f.paramIndex),d({typed:"zxjq ",cursor:{start:5,end:5}}),o.is("EEEEV",p),o.is("zxjq",l.commandAssignment.arg.text),o.is(0,l._unassigned.length),o.is(-1,f.paramIndex),d({typed:"zxjq one",cursor:{start:8,end:8}}),o.is("EEEEVEEE",p),o.is("zxjq",l.commandAssignment.arg.text),o.is(1,l._unassigned.length),o.is("one",l._unassigned[0].arg.text)},t.testSingleString=function(){d({typed:"tsr",cursor:{start:3,end:3}}),o.is("VVV",p),o.is(i.ERROR,h),o.is("tsr",l.commandAssignment.value.name),o.ok(u.arg.type==="BlankArgument"),o.is(undefined,u.value),o.is(undefined,a),d({typed:"tsr ",cursor:{start:4,end:4}}),o.is("VVVV",p),o.is(i.ERROR,h),o.is("tsr",l.commandAssignment.value.name),o.ok(u.arg.type==="BlankArgument"),o.is(undefined,u.value),o.is(undefined,a),d({typed:"tsr h",cursor:{start:5,end:5}}),o.is("VVVVV",p),o.is(i.VALID,h),o.is("tsr",l.commandAssignment.value.name),o.is("h",u.arg.text),o.is("h",u.value),d({typed:'tsr "h h"',cursor:{start:9,end:9}}),o.is("VVVVVVVVV",p),o.is(i.VALID,h),o.is("tsr",l.commandAssignment.value.name),o.is("h h",u.arg.text),o.is("h h",u.value),d({typed:"tsr h h h",cursor:{start:9,end:9}}),o.is("VVVVVVVVV",p),o.is("tsr",l.commandAssignment.value.name),o.is("h h h",u.arg.text),o.is("h h h",u.value)},t.testSingleNumber=function(){d({typed:"tsu",cursor:{start:3,end:3}}),o.is("VVV",p),o.is(i.ERROR,h),o.is("tsu",l.commandAssignment.value.name),o.is("",u.arg.text),o.is(undefined,u.value),d({typed:"tsu ",cursor:{start:4,end:4}}),o.is("VVVV",p),o.is(i.ERROR,h),o.is("tsu",l.commandAssignment.value.name),o.is("",u.arg.text),o.is(undefined,u.value),d({typed:"tsu 1",cursor:{start:5,end:5}}),o.is("VVVVV",p),o.is(i.VALID,h),o.is("tsu",l.commandAssignment.value.name),o.is("1",u.arg.text),o.is(1,u.value),o.is("number",typeof u.value),d({typed:"tsu x",cursor:{start:5,end:5}}),o.is("VVVVE",p),o.is(i.ERROR,h),o.is("tsu",l.commandAssignment.value.name),o.is("x",u.arg.text),o.is(undefined,u.value)},t.testElement=function(e){d({typed:"tse",cursor:{start:3,end:3}}),o.is("VVV",p),o.is(i.ERROR,h),o.is("tse",l.commandAssignment.value.name),o.ok(u.arg.type==="BlankArgument"),o.is(undefined,u.value);if(!e.isNode){d({typed:"tse :root",cursor:{start:9,end:9}}),o.is("VVVVVVVVV",p),o.is(i.VALID,h),o.is("tse",l.commandAssignment.value.name),o.is(":root",u.arg.text),e.window.isFake||o.is(e.window.document.documentElement,u.value);if(!e.window.isFake){var t=e.window.document.getElementById("gcli-input");t?(d({typed:"tse #gcli-input",cursor:{start:15,end:15}}),o.is("VVVVVVVVVVVVVVV",p),o.is(i.VALID,h),o.is("tse",l.commandAssignment.value.name),o.is("#gcli-input",u.arg.text),o.is(t,u.value)):o.log("Skipping test that assumes gcli on the web")}d({typed:"tse #gcli-nomatch",cursor:{start:17,end:17}}),o.is("VVVVIIIIIIIIIIIII",p),o.is(i.ERROR,h),o.is("tse",l.commandAssignment.value.name),o.is("#gcli-nomatch",u.arg.text),o.is(undefined,u.value)}else o.log("Skipping :root test due to jsdom (from isNode)");d({typed:"tse #",cursor:{start:5,end:5}}),o.is("VVVVE",p),o.is(i.ERROR,h),o.is("tse",l.commandAssignment.value.name),o.is("#",u.arg.text),o.is(undefined,u.value),d({typed:"tse .",cursor:{start:5,end:5}}),o.is("VVVVE",p),o.is(i.ERROR,h),o.is("tse",l.commandAssignment.value.name),o.is(".",u.arg.text),o.is(undefined,u.value),d({typed:"tse *",cursor:{start:5,end:5}}),o.is("VVVVE",p),o.is(i.ERROR,h),o.is("tse",l.commandAssignment.value.name),o.is("*",u.arg.text),o.is(undefined,u.value)},t.testNestedCommand=function(){d({typed:"tsn",cursor:{start:3,end:3}}),o.is("III",p),o.is(i.ERROR,h),o.is("tsn",l.commandAssignment.arg.text),o.is(undefined,u),d({typed:"tsn ",cursor:{start:4,end:4}}),o.is("IIIV",p),o.is(i.ERROR,h),o.is("tsn",l.commandAssignment.arg.text),o.is(undefined,u),d({typed:"tsn x",cursor:{start:5,end:5}}),o.is(i.ERROR,h),o.is("tsn x",l.commandAssignment.arg.text),o.is(undefined,u),d({typed:"tsn dif",cursor:{start:7,end:7}}),o.is("VVVVVVV",p),o.is(i.ERROR,h),o.is("tsn dif",l.commandAssignment.value.name),o.is("",u.arg.text),o.is(undefined,u.value),d({typed:"tsn dif ",cursor:{start:8,end:8}}),o.is("VVVVVVVV",p),o.is(i.ERROR,h),o.is("tsn dif",l.commandAssignment.value.name),o.is("",u.arg.text),o.is(undefined,u.value),d({typed:"tsn dif x",cursor:{start:9,end:9}}),o.is("VVVVVVVVV",p),o.is(i.VALID,h),o.is("tsn dif",l.commandAssignment.value.name),o.is("x",u.arg.text),o.is("x",u.value),d({typed:"tsn ext",cursor:{start:7,end:7}}),o.is("VVVVVVV",p),o.is(i.ERROR,h),o.is("tsn ext",l.commandAssignment.value.name),o.is("",u.arg.text),o.is(undefined,u.value),d({typed:"tsn exte",cursor:{start:8,end:8}}),o.is("VVVVVVVV",p),o.is(i.ERROR,h),o.is("tsn exte",l.commandAssignment.value.name),o.is("",u.arg.text),o.is(undefined,u.value),d({typed:"tsn exten",cursor:{start:9,end:9}}),o.is("VVVVVVVVV",p),o.is(i.ERROR,h),o.is("tsn exten",l.commandAssignment.value.name),o.is("",u.arg.text),o.is(undefined,u.value),d({typed:"tsn extend",cursor:{start:10,end:10}}),o.is("VVVVVVVVVV",p),o.is(i.ERROR,h),o.is("tsn extend",l.commandAssignment.value.name),o.is("",u.arg.text),o.is(undefined,u.value),d({typed:"ts ",cursor:{start:3,end:3}}),o.is("EEV",p),o.is(i.ERROR,h),o.is("ts",l.commandAssignment.arg.text),o.is(undefined,u)},t.testDeeplyNested=function(){d({typed:"tsn deep down nested cmd",cursor:{start:24,end:24}}),o.is("VVVVVVVVVVVVVVVVVVVVVVVV",p),o.is(i.VALID,h),o.is("tsn deep down nested cmd",l.commandAssignment.value.name),o.is(undefined,u),d({typed:"tsn deep down nested",cursor:{start:20,end:20}}),o.is("IIIVIIIIVIIIIVIIIIII",p),o.is(i.ERROR,h),o.is("tsn deep down nested",l.commandAssignment.value.name),o.is(undefined,u)}}),define("gclitest/mockCommands",["require","exports","module","gcli/canon","gcli/util","gcli/types/selection","gcli/types/basic","gcli/types"],function(e,t,n){function f(e){return function(n,r){var i={command:t[e],args:n,context:r};return t.onCommandExec(i),i}}var r=e("gcli/canon"),i=e("gcli/util"),s=e("gcli/types/selection").SelectionType,o=e("gcli/types/basic").DeferredType,u=e("gcli/types");t.setup=function(){t.option1.type=u.getType("string"),t.option2.type=u.getType("number"),u.registerType(t.optionType),u.registerType(t.optionValue),r.addCommand(t.tsv),r.addCommand(t.tsr),r.addCommand(t.tso),r.addCommand(t.tse),r.addCommand(t.tsj),r.addCommand(t.tsb),r.addCommand(t.tss),r.addCommand(t.tsu),r.addCommand(t.tsn),r.addCommand(t.tsnDif),r.addCommand(t.tsnExt),r.addCommand(t.tsnExte),r.addCommand(t.tsnExten),r.addCommand(t.tsnExtend),r.addCommand(t.tsnDeep),r.addCommand(t.tsnDeepDown),r.addCommand(t.tsnDeepDownNested),r.addCommand(t.tsnDeepDownNestedCmd),r.addCommand(t.tselarr),r.addCommand(t.tsm),r.addCommand(t.tsg),r.addCommand(t.tshidden),r.addCommand(t.tscook),r.addCommand(t.tslong)},t.shutdown=function(){r.removeCommand(t.tsv),r.removeCommand(t.tsr),r.removeCommand(t.tso),r.removeCommand(t.tse),r.removeCommand(t.tsj),r.removeCommand(t.tsb),r.removeCommand(t.tss),r.removeCommand(t.tsu),r.removeCommand(t.tsn),r.removeCommand(t.tsnDif),r.removeCommand(t.tsnExt),r.removeCommand(t.tsnExte),r.removeCommand(t.tsnExten),r.removeCommand(t.tsnExtend),r.removeCommand(t.tsnDeep),r.removeCommand(t.tsnDeepDown),r.removeCommand(t.tsnDeepDownNested),r.removeCommand(t.tsnDeepDownNestedCmd),r.removeCommand(t.tselarr),r.removeCommand(t.tsm),r.removeCommand(t.tsg),r.removeCommand(t.tshidden),r.removeCommand(t.tscook),r.removeCommand(t.tslong),u.deregisterType(t.optionType),u.deregisterType(t.optionValue)},t.option1={type:u.getType("string")},t.option2={type:u.getType("number")};var a=undefined;t.optionType=new s({name:"optionType",lookup:[{name:"option1",value:t.option1},{name:"option2",value:t.option2}],noMatch:function(){a=undefined},stringify:function(e){return a=e,s.prototype.stringify.call(this,e)},parse:function(e){var t=s.prototype.parse.call(this,e);return a=t.value,t}}),t.optionValue=new o({name:"optionValue",defer:function(){return a&&a.type?a.type:u.getType("blank")}}),t.onCommandExec=i.createEvent("commands.onCommandExec"),t.tsv={name:"tsv",params:[{name:"optionType",type:"optionType"},{name:"optionValue",type:"optionValue"}],exec:f("tsv")},t.tsr={name:"tsr",params:[{name:"text",type:"string"}],exec:f("tsr")},t.tso={name:"tso",params:[{name:"text",type:"string",defaultValue:null}],exec:f("tso")},t.tse={name:"tse",params:[{name:"node",type:"node"},{group:"options",params:[{name:"nodes",type:{name:"nodelist"}},{name:"nodes2",type:{name:"nodelist",allowEmpty:!0}}]}],exec:f("tse")},t.tsj={name:"tsj",params:[{name:"javascript",type:"javascript"}],exec:f("tsj")},t.tsb={name:"tsb",params:[{name:"toggle",type:"boolean"}],exec:f("tsb")},t.tss={name:"tss",exec:f("tss")},t.tsu={name:"tsu",params:[{name:"num",type:{name:"number",max:10,min:-5,step:3}}],exec:f("tsu")},t.tsn={name:"tsn"},t.tsnDif={name:"tsn dif",description:"tsn dif",params:[{name:"text",type:"string",description:"tsn dif text"}],exec:f("tsnDif")},t.tsnExt={name:"tsn ext",params:[{name:"text",type:"string"}],exec:f("tsnExt")},t.tsnExte={name:"tsn exte",params:[{name:"text",type:"string"}],exec:f("")},t.tsnExten={name:"tsn exten",params:[{name:"text",type:"string"}],exec:f("tsnExte")},t.tsnExtend={name:"tsn extend",params:[{name:"text",type:"string"}],exec:f("tsnExtend")},t.tsnDeep={name:"tsn deep"},t.tsnDeepDown={name:"tsn deep down"},t.tsnDeepDownNested={name:"tsn deep down nested"},t.tsnDeepDownNestedCmd={name:"tsn deep down nested cmd",exec:f("tsnDeepDownNestedCmd")},t.tshidden={name:"tshidden",hidden:!0,params:[{group:"Options",params:[{name:"visible",type:"string",defaultValue:null,description:"visible"},{name:"invisiblestring",type:"string",description:"invisiblestring",defaultValue:null,hidden:!0},{name:"invisibleboolean",type:"boolean",description:"invisibleboolean",hidden:!0}]}],exec:f("tshidden")},t.tselarr={name:"tselarr",params:[{name:"num",type:{name:"selection",data:["1","2","3"]}},{name:"arr",type:{name:"array",subtype:"string"}}],exec:f("tselarr")},t.tsm={name:"tsm",description:"a 3-param test selection|string|number",params:[{name:"abc",type:{name:"selection",data:["a","b","c"]}},{name:"txt",type:"string"},{name:"num",type:{name:"number",max:42,min:0}}],exec:f("tsm")},t.tsg={name:"tsg",description:"a param group test",params:[{name:"solo",type:{name:"selection",data:["aaa","bbb","ccc"]},description:"solo param"},{group:"First",params:[{name:"txt1",type:"string",defaultValue:null,description:"txt1 param"},{name:"bool",type:"boolean",description:"bool param"}]},{group:"Second",params:[{name:"txt2",type:"string",defaultValue:"d",description:"txt2 param"},{name:"num",type:{name:"number",min:40},defaultValue:42,description:"num param"}]}],exec:f("tsg")},t.tscook={name:"tscook",description:"param group test to catch problems with cookie command",params:[{name:"key",type:"string",description:"tscookKeyDesc"},{name:"value",type:"string",description:"tscookValueDesc"},{group:"tscookOptionsDesc",params:[{name:"path",type:"string",defaultValue:"/",description:"tscookPathDesc"},{name:"domain",type:"string",defaultValue:null,description:"tscookDomainDesc"},{name:"secure",type:"boolean",description:"tscookSecureDesc"}]}],exec:f("tscook")},t.tslong={name:"tslong",description:"long param tests to catch problems with the jsb command",returnValue:"string",params:[{name:"msg",type:"string",description:"msg Desc"},{group:"Options Desc",params:[{name:"num",type:"number",description:"num Desc",defaultValue:2},{name:"sel",type:{name:"selection",lookup:[{name:"space",value:" "},{name:"tab",value:"	"}]},description:"sel Desc",defaultValue:" "},{name:"bool",type:"boolean",description:"bool Desc"},{name:"num2",type:"number",description:"num2 Desc",defaultValue:-1},{name:"bool2",type:"boolean",description:"bool2 Desc"},{name:"sel2",type:{name:"selection",data:["collapse","expand","end-expand","expand-strict"]},description:"sel2 Desc",defaultValue:"collapse"}]}],exec:f("tslong")}}),define("gclitest/testCompletion",["require","exports","module","test/assert","gclitest/helpers","gclitest/mockCommands"],function(e,t,n){var r=e("test/assert"),i=e("gclitest/helpers"),s=e("gclitest/mockCommands");t.setup=function(e){s.setup(),i.setup(e)},t.shutdown=function(e){s.shutdown(),i.shutdown(e)},t.testActivate=function(e){if(!e.display){r.log("No display. Skipping activate tests");return}i.setInput(""),i.check({hints:""}),i.setInput(" "),i.check({hints:""}),i.setInput("tsr"),i.check({hints:" <text>"}),i.setInput("tsr "),i.check({hints:"<text>"}),i.setInput("tsr b"),i.check({hints:""}),i.setInput("tsb"),i.check({hints:" [toggle]"}),i.setInput("tsm"),i.check({hints:" <abc> <txt> <num>"}),i.setInput("tsm "),i.check({hints:"a <txt> <num>"}),i.setInput("tsm a"),i.check({hints:" <txt> <num>"}),i.setInput("tsm a "),i.check({hints:"<txt> <num>"}),i.setInput("tsm a  "),i.check({hints:"<txt> <num>"}),i.setInput("tsm a  d"),i.check({hints:" <num>"}),i.setInput('tsm a "d d"'),i.check({hints:" <num>"}),i.setInput('tsm a "d '),i.check({hints:" <num>"}),i.setInput('tsm a "d d" '),i.check({hints:"<num>"}),i.setInput('tsm a "d d '),i.check({hints:" <num>"}),i.setInput("tsm d r"),i.check({hints:" <num>"}),i.setInput("tsm a d "),i.check({hints:"<num>"}),i.setInput("tsm a d 4"),i.check({hints:""}),i.setInput("tsg"),i.check({hints:" <solo> [options]"}),i.setInput("tsg "),i.check({hints:"aaa [options]"}),i.setInput("tsg a"),i.check({hints:"aa [options]"}),i.setInput("tsg b"),i.check({hints:"bb [options]"}),i.setInput("tsg d"),i.check({hints:" [options]"}),i.setInput("tsg aa"),i.check({hints:"a [options]"}),i.setInput("tsg aaa"),i.check({hints:" [options]"}),i.setInput("tsg aaa "),i.check({hints:"[options]"}),i.setInput("tsg aaa d"),i.check({hints:" [options]"}),i.setInput("tsg aaa dddddd"),i.check({hints:" [options]"}),i.setInput("tsg aaa dddddd "),i.check({hints:"[options]"}),i.setInput('tsg aaa "d'),i.check({hints:" [options]"}),i.setInput('tsg aaa "d d'),i.check({hints:" [options]"}),i.setInput('tsg aaa "d d"'),i.check({hints:" [options]"}),i.setInput("tsn ex "),i.check({hints:""}),i.setInput("selarr"),i.check({hints:" -> tselarr"}),i.setInput("tselar 1"),i.check({hints:""}),i.setInput("tselar 1",7),i.check({hints:""}),i.setInput("tselar 1",6),i.check({hints:" -> tselarr"}),i.setInput("tselar 1",5),i.check({hints:" -> tselarr"})},t.testLong=function(e){i.setInput("tslong --sel"),i.check({input:"tslong --sel",hints:" <selection> <msg> [options]",markup:"VVVVVVVIIIII"}),i.pressTab(),i.check({input:"tslong --sel ",hints:"space <msg> [options]",markup:"VVVVVVVIIIIIV"}),i.setInput("tslong --sel "),i.check({input:"tslong --sel ",hints:"space <msg> [options]",markup:"VVVVVVVIIIIIV"}),i.setInput("tslong --sel s"),i.check({input:"tslong --sel s",hints:"pace <msg> [options]",markup:"VVVVVVVIIIIIVI"}),i.setInput("tslong --num "),i.check({input:"tslong --num ",hints:"<number> <msg> [options]",markup:"VVVVVVVIIIIIV"}),i.setInput("tslong --num 42"),i.check({input:"tslong --num 42",hints:" <msg> [options]",markup:"VVVVVVVVVVVVVVV"}),i.setInput("tslong --num 42 "),i.check({input:"tslong --num 42 ",hints:"<msg> [options]",markup:"VVVVVVVVVVVVVVVV"}),i.setInput("tslong --num 42 --se"),i.check({input:"tslong --num 42 --se",hints:"l <msg> [options]",markup:"VVVVVVVVVVVVVVVVIIII"}),i.pressTab(),i.check({input:"tslong --num 42 --sel ",hints:"space <msg> [options]",markup:"VVVVVVVVVVVVVVVVIIIIIV"}),i.pressTab(),i.check({input:"tslong --num 42 --sel space ",hints:"<msg> [options]",markup:"VVVVVVVVVVVVVVVVVVVVVVVVVVVV"}),i.setInput("tslong --num 42 --sel "),i.check({input:"tslong --num 42 --sel ",hints:"space <msg> [options]",markup:"VVVVVVVVVVVVVVVVIIIIIV"}),i.setInput("tslong --num 42 --sel space "),i.check({input:"tslong --num 42 --sel space ",hints:"<msg> [options]",markup:"VVVVVVVVVVVVVVVVVVVVVVVVVVVV"})},t.testNoTab=function(e){i.setInput("tss"),i.pressTab(),i.check({input:"tss ",markup:"VVVV",hints:""}),i.pressTab(),i.check({input:"tss ",markup:"VVVV",hints:""}),i.setInput("xxxx"),i.check({input:"xxxx",markup:"EEEE",hints:""}),i.pressTab(),i.check({input:"xxxx",markup:"EEEE",hints:""})},t.testOutstanding=function(e){},t.testCompleteIntoOptional=function(e){i.setInput("tso "),i.check({typed:"tso ",hints:"[text]",markup:"VVVV",status:"VALID"}),i.setInput("tso"),i.pressTab(),i.check({typed:"tso ",hints:"[text]",markup:"VVVV",status:"VALID"})}}),define("gclitest/testExec",["require","exports","module","gcli/cli","gcli/canon","gclitest/mockCommands","gcli/types/node","test/assert"],function(e,t,n){function h(e){a=e}function p(e){f=e.output}function d(e,t){var n={},i=new r(n),s=i.exec({typed:e,hidden:l});u.is(e.indexOf(a.command.name),0,"Command name: "+e),u.is(e,s.typed,"outputObject.command for: "+e),u.ok(s.completed,"outputObject.completed false for: "+e);if(t==null){u.ok(!1,"expectedArgs == null for "+e);return}if(a.args==null){u.ok(!1,"actualExec.args == null for "+e);return}u.is(Object.keys(t).length,Object.keys(a.args).length,"Arg count: "+e),Object.keys(t).forEach(function(n){var r=t[n],i=a.args[n];if(r===c)return;if(Array.isArray(r)){if(!Array.isArray(i)){u.ok(!1,"actual is not an array. "+e+"/"+n);return}u.is(r.length,i.length,"Array length: "+e+"/"+n);for(var s=0;s<r.length;s++)u.is(r[s],i[s],'Member: "'+e+"/"+n+"/"+s)}else u.is(r,i,'Command: "'+e+'" arg: '+n)}),u.is(n,a.context.environment,"Environment"),l||(u.is(!1,f.error,"output error is false"),u.is(e,f.typed,"command is typed"),u.ok(typeof f.canonical=="string","canonical exists"),u.is(a.args,f.args,"actualExec.args is actualOutput.args"))}var r=e("gcli/cli").Requisition,i=e("gcli/canon"),s=e("gclitest/mockCommands"),o=e("gcli/types/node"),u=e("test/assert"),a,f,l=!1,c="skip";t.setup=function(){s.setup(),s.onCommandExec.add(h),i.commandOutputManager.onOutput.add(p)},t.shutdown=function(){s.shutdown(),s.onCommandExec.remove(h),i.commandOutputManager.onOutput.remove(p)},t.testExec=function(e){l=e.hideExec,d("tss",{}),d("tsv option1 10",{optionType:s.option1,optionValue:"10"}),d("tsv option2 10",{optionType:s.option2,optionValue:10}),d("tsr fred",{text:"fred"}),d("tsr fred bloggs",{text:"fred bloggs"}),d('tsr "fred bloggs"',{text:"fred bloggs"}),d("tsb",{toggle:!1}),d("tsb --toggle",{toggle:!0}),d("tsu 10",{num:10}),d("tsu --num 10",{num:10}),d("tsj { 1 + 1 }",{javascript:"1 + 1"});var t=o.getDocument();o.setDocument(m),d("tse :root",{node:v,nodes:c,nodes2:c}),o.setDocument(t),d("tsn dif fred",{text:"fred"}),d("tsn exten fred",{text:"fred"}),d("tsn extend fred",{text:"fred"}),d("tselarr 1",{num:"1",arr:[]}),d("tselarr 1 a",{num:"1",arr:["a"]}),d("tselarr 1 a b",{num:"1",arr:["a","b"]}),d("tsm a 10 10",{abc:"a",txt:"10",num:10}),d("tsg aaa",{solo:"aaa",txt1:null,bool:!1,txt2:"d",num:42})};var v={style:{}},m={querySelectorAll:function(e){return e===":root"?{length:1,item:function(e){return v}}:{length:0,item:function(){return null}}}}}),define("gclitest/testFocus",["require","exports","module","gclitest/helpers","gclitest/mockCommands"],function(e,t,n){var r=e("gclitest/helpers"),i=e("gclitest/mockCommands");t.setup=function(e){i.setup(),r.setup(e)},t.shutdown=function(e){i.shutdown(),r.shutdown(e)},t.testBasic=function(e){r.focusInput(),r.exec(e,"help"),r.setInput("tsn deep"),r.check({input:"tsn deep",hints:"",markup:"IIIVIIII",cursor:8,status:"ERROR",outputState:"false:default",tooltipState:"false:default"}),r.pressReturn(),r.check({input:"tsn deep",hints:"",markup:"IIIVIIII",cursor:8,status:"ERROR",outputState:"false:default",tooltipState:"true:isError"})}}),define("gclitest/testHelp",["require","exports","module","gclitest/helpers"],function(e,t,n){var r=e("gclitest/helpers");t.setup=function(e){r.setup(e)},t.shutdown=function(e){r.shutdown(e)},t.testHelpStatus=function(e){r.setInput("help"),r.check({typed:"help",hints:" [search]",markup:"VVVV",status:"VALID"}),r.setInput("help "),r.check({typed:"help ",hints:"[search]",markup:"VVVVV",status:"VALID"}),r.setInput("help"),r.pressTab(),r.check({typed:"help ",hints:"[search]",markup:"VVVVV",status:"VALID"}),r.setInput("help foo"),r.check({typed:"help foo",markup:"VVVVVVVV",status:"VALID",hints:""}),r.setInput("help foo bar"),r.check({typed:"help foo bar",markup:"VVVVVVVVVVVV",status:"VALID",hints:""})},t.testHelpExec=function(e){e.isFirefox?r.exec(e,{typed:"help",args:{search:null},outputMatch:[/Available Commands/,/Get help/]}):r.exec(e,{typed:"help",args:{search:null},outputMatch:[/Welcome to GCLI/,/Source \(Apache-2.0\)/,/Get help/]}),r.exec(e,{typed:"help nomatch",args:{search:"nomatch"},outputMatch:/No commands starting with 'nomatch'$/}),r.exec(e,{typed:"help help",args:{search:"help"},outputMatch:[/Synopsis:/,/Provide help either/,/\(string, optional\)/]}),r.exec(e,{typed:"help a b",args:{search:"a b"},outputMatch:/No commands starting with 'a b'$/}),r.exec(e,{typed:"help hel",args:{search:"hel"},outputMatch:[/Commands starting with 'hel':/,/Get help on the available commands/]})}}),define("gclitest/testHistory",["require","exports","module","test/assert","gcli/history"],function(e,t,n){var r=e("test/assert"),i=e("gcli/history").History;t.setup=function(){},t.shutdown=function(){},t.testSimpleHistory=function(){var e=new i({});e.add("foo"),e.add("bar"),r.is("bar",e.backward()),r.is("foo",e.backward()),e.add("quux"),r.is("quux",e.backward()),r.is("bar",e.backward()),r.is("foo",e.backward())},t.testBackwardsPastIndex=function(){var e=new i({});e.add("foo"),e.add("bar"),r.is("bar",e.backward()),r.is("foo",e.backward()),r.is("foo",e.backward())},t.testForwardsPastIndex=function(){var e=new i({});e.add("foo"),e.add("bar"),r.is("bar",e.backward()),r.is("foo",e.backward()),r.is("bar",e.forward()),r.is("",e.forward()),r.is("",e.forward())}}),define("gclitest/testInputter",["require","exports","module","gclitest/mockCommands","gcli/util","test/assert"],function(e,t,n){var r=e("gclitest/mockCommands"),i=e("gcli/util").KeyEvent,s=e("test/assert"),o=undefined,u=undefined,a=undefined,f=function(e){function t(){a=u.data}u!=null&&e.output.onChange.remove(t),o=e,u=e.output,e.output.onChange.add(t)};t.setup=function(e){e.display.requisition.commandOutputManager.onOutput.add(f),r.setup()},t.shutdown=function(e){r.shutdown(),e.display.requisition.commandOutputManager.onOutput.remove(f)},t.testOutput=function(e){o=undefined,u=undefined,a=undefined;var t=e.display.inputter,n=e.display.focusManager;t.setInput("tss"),t.onKeyDown({keyCode:i.DOM_VK_RETURN}),s.is(t.element.value,"tss","inputter should do nothing on RETURN keyDown"),s.is(o,undefined,"no events this test"),s.is(a,undefined,"no data this test"),t.onKeyUp({keyCode:i.DOM_VK_RETURN}),s.ok(o!=null,"events this test"),s.is(a.command.name,"tss","last command is tss"),s.is(t.element.value,"","inputter should exec on RETURN keyUp"),s.ok(n._recentOutput,"recent output happened"),t.onKeyUp({keyCode:i.DOM_VK_F1}),s.ok(!n._recentOutput,"no recent output happened post F1"),s.ok(n._helpRequested,"F1 = help"),t.onKeyUp({keyCode:i.DOM_VK_ESCAPE}),s.ok(!n._helpRequested,"ESCAPE = anti help"),u.onClose()}}),define("gclitest/testIncomplete",["require","exports","module","test/assert","gclitest/helpers","gclitest/mockCommands"],function(e,t,n){var r=e("test/assert"),i=e("gclitest/helpers"),s=e("gclitest/mockCommands");t.setup=function(e){s.setup(),i.setup(e)},t.shutdown=function(e){s.shutdown(),i.shutdown(e)},t.testBasic=function(e){var t=e.display.requisition;i.setInput("tsu 2 extra"),i.check({args:{num:{value:2,type:"Argument"}}}),r.is(t._unassigned.length,1,"single unassigned: tsu 2 extra"),r.is(t._unassigned[0].param.type.isIncompleteName,!1,"unassigned.isIncompleteName: tsu 2 extra"),i.setInput("tsu"),i.check({args:{num:{value:undefined,type:"BlankArgument"}}}),i.setInput("tsg"),i.check({args:{solo:{type:"BlankArgument"},txt1:{type:"BlankArgument"},bool:{type:"BlankArgument"},txt2:{type:"BlankArgument"},num:{type:"BlankArgument"}}})},t.testCompleted=function(e){i.setInput("tsela"),i.pressTab(),i.check({args:{command:{name:"tselarr",type:"Argument"},num:{type:"BlankArgument"},arr:{type:"ArrayArgument"}}}),i.setInput("tsn dif "),i.check({input:"tsn dif ",hints:"<text>",markup:"VVVVVVVV",cursor:8,status:"ERROR",args:{command:{name:"tsn dif",type:"MergedArgument"},text:{type:"BlankArgument",status:"INCOMPLETE"}}}),i.setInput("tsn di"),i.pressTab(),i.check({input:"tsn dif ",hints:"<text>",markup:"VVVVVVVV",cursor:8,status:"ERROR",args:{command:{name:"tsn dif",type:"Argument"},text:{type:"BlankArgument",status:"INCOMPLETE"}}}),i.setInput("tsg -"),i.check({input:"tsg -",hints:"-txt1 <solo> [options]",markup:"VVVVI",cursor:5,status:"ERROR",args:{solo:{value:undefined,status:"INCOMPLETE"},txt1:{value:undefined,status:"VALID"},bool:{value:!1,status:"VALID"},txt2:{value:undefined,status:"VALID"},num:{value:undefined,status:"VALID"}}}),i.pressTab(),i.check({input:"tsg --txt1 ",hints:"<string> <solo> [options]",markup:"VVVVIIIIIIV",cursor:11,status:"ERROR",args:{solo:{value:undefined,status:"INCOMPLETE"},txt1:{value:undefined,status:"INCOMPLETE"},bool:{value:!1,status:"VALID"},txt2:{value:undefined,status:"VALID"},num:{value:undefined,status:"VALID"}}}),i.setInput("tsg --txt1 fred"),i.check({input:"tsg --txt1 fred",hints:" <solo> [options]",markup:"VVVVVVVVVVVVVVV",status:"ERROR",args:{solo:{value:undefined,status:"INCOMPLETE"},txt1:{value:"fred",status:"VALID"},bool:{value:!1,status:"VALID"},txt2:{value:undefined,status:"VALID"},num:{value:undefined,status:"VALID"}}}),i.setInput("tscook key value --path path --"),i.check({input:"tscook key value --path path --",hints:"domain [options]",markup:"VVVVVVVVVVVVVVVVVVVVVVVVVVVVVII",status:"ERROR",args:{key:{value:"key",status:"VALID"},value:{value:"value",status:"VALID"},path:{value:"path",status:"VALID"},domain:{value:undefined,status:"VALID"},secure:{value:!1,status:"VALID"}}}),i.setInput("tscook key value --path path --domain domain --"),i.check({input:"tscook key value --path path --domain domain --",hints:"secure [options]",markup:"VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVII",status:"ERROR",args:{key:{value:"key",status:"VALID"},value:{value:"value",status:"VALID"},path:{value:"path",status:"VALID"},domain:{value:"domain",status:"VALID"},secure:{value:!1,status:"VALID"}}})},t.testCase=function(e){i.setInput("tsg AA"),i.check({input:"tsg AA",hints:" [options] -> aaa",markup:"VVVVII",status:"ERROR",args:{solo:{value:undefined,text:"AA",status:"INCOMPLETE"},txt1:{value:undefined,status:"VALID"},bool:{value:!1,status:"VALID"},txt2:{value:undefined,status:"VALID"},num:{value:undefined,status:"VALID"}}})},t.testIncomplete=function(e){var t=e.display.requisition;i.setInput("tsm a a -"),i.check({args:{abc:{value:"a",type:"Argument"},txt:{value:"a",type:"Argument"},num:{value:undefined,arg:" -",type:"Argument",status:"INCOMPLETE"}}}),i.setInput("tsg -"),i.check({args:{solo:{type:"BlankArgument"},txt1:{type:"BlankArgument"},bool:{type:"BlankArgument"},txt2:{type:"BlankArgument"},num:{type:"BlankArgument"}}}),r.is(t._unassigned[0],t.getAssignmentAt(5),"unassigned -"),r.is(t._unassigned.length,1,"single unassigned - tsg -"),r.is(t._unassigned[0].param.type.isIncompleteName,!0,"unassigned.isIncompleteName: tsg -")},t.testHidden=function(e){i.setInput("tshidde"),i.check({input:"tshidde",markup:"EEEEEEE",status:"ERROR",hints:""}),i.setInput("tshidden"),i.check({input:"tshidden",hints:" [options]",markup:"VVVVVVVV",status:"VALID",args:{visible:{value:undefined,status:"VALID"},invisiblestring:{value:undefined,status:"VALID"},invisibleboolean:{value:!1,status:"VALID"}}}),i.setInput("tshidden --vis"),i.check({input:"tshidden --vis",hints:"ible [options]",markup:"VVVVVVVVVIIIII",status:"ERROR",args:{visible:{value:undefined,status:"VALID"},invisiblestring:{value:undefined,status:"VALID"},invisibleboolean:{value:!1,status:"VALID"}}}),i.setInput("tshidden --invisiblestrin"),i.check({input:"tshidden --invisiblestrin",hints:" [options]",markup:"VVVVVVVVVEEEEEEEEEEEEEEEE",status:"ERROR",args:{visible:{value:undefined,status:"VALID"},invisiblestring:{value:undefined,status:"VALID"},invisibleboolean:{value:!1,status:"VALID"}}}),i.setInput("tshidden --invisiblestring"),i.check({input:"tshidden --invisiblestring",hints:" <string> [options]",markup:"VVVVVVVVVIIIIIIIIIIIIIIIII",status:"ERROR",args:{visible:{value:undefined,status:"VALID"},invisiblestring:{value:undefined,status:"INCOMPLETE"},invisibleboolean:{value:!1,status:"VALID"}}}),i.setInput("tshidden --invisiblestring x"),i.check({input:"tshidden --invisiblestring x",hints:" [options]",markup:"VVVVVVVVVVVVVVVVVVVVVVVVVVVV",status:"VALID",args:{visible:{value:undefined,status:"VALID"},invisiblestring:{value:"x",status:"VALID"},invisibleboolean:{value:!1,status:"VALID"}}}),i.setInput("tshidden --invisibleboolea"),i.check({input:"tshidden --invisibleboolea",hints:" [options]",markup:"VVVVVVVVVEEEEEEEEEEEEEEEEE",status:"ERROR",args:{visible:{value:undefined,status:"VALID"},invisiblestring:{value:undefined,status:"VALID"},invisibleboolean:{value:!1,status:"VALID"}}}),i.setInput("tshidden --invisibleboolean"),i.check({input:"tshidden --invisibleboolean",hints:" [options]",markup:"VVVVVVVVVVVVVVVVVVVVVVVVVVV",status:"VALID",args:{visible:{value:undefined,status:"VALID"},invisiblestring:{value:undefined,status:"VALID"},invisibleboolean:{value:!0,status:"VALID"}}}),i.setInput("tshidden --visible xxx"),i.check({input:"tshidden --visible xxx",markup:"VVVVVVVVVVVVVVVVVVVVVV",status:"VALID",hints:"",args:{visible:{value:"xxx",status:"VALID"},invisiblestring:{value:undefined,status:"VALID"},invisibleboolean:{value:!1,status:"VALID"}}})}}),define("gclitest/testIntro",["require","exports","module","gclitest/helpers","test/assert"],function(e,t,n){var r=e("gclitest/helpers"),i=e("test/assert");t.setup=function(e){r.setup(e)},t.shutdown=function(e){r.shutdown(e)},t.testIntroStatus=function(e){if(e.isFirefox){i.log("Skipping testIntroStatus in Firefox.");return}r.setInput("intro"),r.check({typed:"intro",markup:"VVVVV",status:"VALID",hints:""}),r.setInput("intro foo"),r.check({typed:"intro foo",markup:"VVVVVVEEE",status:"ERROR",hints:""})},t.testIntroExec=function(e){if(e.isFirefox){i.log("Skipping testIntroExec in Firefox.");return}r.exec(e,{typed:"intro",args:{},outputMatch:[/command\s*line/,/help/,/F1/,/Escape/]})}}),define("gclitest/testJs",["require","exports","module","gcli/cli","gcli/types","gcli/types/javascript","gcli/canon","test/assert"],function(e,t,n){function d(e){f||(f=new r);var t={start:e.length,end:e.length};f.update(e),a&&console.log('####### TEST: typed="'+e+'" cur='+t.start+" cli=",f),c=f.getStatus(),h=f.getInputStatusMarkup(t.start).map(function(e){return Array(e.string.length+1).join(e.status.toString()[0])}).join(""),f.commandAssignment.value?l=f.getAssignment(0):l=undefined}function v(e){return l.getPredictions().some(function(t){return e===t.name},this)}function m(e,t,n,r){u.is("{",f.commandAssignment.value.name,"is exec"),u.is(e,h,"unexpected status markup"),u.is(t.toString(),c.toString(),"unexpected status"),u.is(n,l.value,"unexpected assignment");if(r!=null){var i;Array.isArray(r)?r.forEach(function(e){i=v(e),u.ok(i,"missing prediction "+e)}):typeof r=="number"?(i=!0,u.is(l.getPredictions().length,r,"prediction count"),l.getPredictions().length!==r&&l.getPredictions().forEach(function(e){u.log("actual prediction: ",e)})):(i=v(r),u.ok(i,"missing prediction "+r)),i||u.log("Predictions: "+l.getPredictions().map(function(e){return e.name}).join(", "))}}var r=e("gcli/cli").Requisition,i=e("gcli/types").Status,s=e("gcli/types/javascript"),o=e("gcli/canon"),u=e("test/assert"),a=!1,f,l,c,h,p;t.setup=function(e){p=s.getGlobalObject(),s.setGlobalObject(e.window),Object.defineProperty(e.window,"donteval",{get:function(){return u.ok(!1,"donteval should not be used"),{cant:"",touch:"","this":""}},enumerable:!0,configurable:!0})},t.shutdown=function(e){delete e.window.donteval,s.setGlobalObject(p),p=undefined},t.testBasic=function(e){if(!o.getCommand("{")){u.log("Skipping exec tests because { is not registered");return}d("{"),m("V",i.ERROR,undefined),d("{ "),m("VV",i.ERROR,undefined),d("{ w"),m("VVI",i.ERROR,"w","window"),d("{ windo"),m("VVIIIII",i.ERROR,"windo","window"),d("{ window"),m("VVVVVVVV",i.VALID,"window"),d("{ window.d"),m("VVIIIIIIII",i.ERROR,"window.d","window.document"),d("{ window.document.title"),m("VVVVVVVVVVVVVVVVVVVVVVV",i.VALID,"window.document.title",0),d("{ d"),m("VVI",i.ERROR,"d","document"),d("{ document.title"),m("VVVVVVVVVVVVVVVV",i.VALID,"document.title",0),u.ok("donteval"in e.window,"donteval exists"),d("{ don"),m("VVIII",i.ERROR,"don","donteval"),d("{ donteval"),m("VVVVVVVVVV",i.VALID,"donteval",0),d("{ donteval.cant"),m("VVVVVVVVVVVVVVV",i.VALID,"donteval.cant",0),d("{ donteval.xxx"),m("VVVVVVVVVVVVVV",i.VALID,"donteval.xxx",0)}}),define("gclitest/testKeyboard",["require","exports","module","gcli/cli","gcli/canon","gclitest/mockCommands","gcli/types/javascript","test/assert"],function(e,t,n){function p(e,t,n,i,s,o){var a;f?(a=f.requisition,f.setInput(e)):(a=new r,a.update(e)),s==null&&(s=e.length);var p=a.getAssignmentAt(s);switch(t){case l:a.complete({start:s,end:s},i);break;case c:a.increment(p);break;case h:a.decrement(p)}u.is(n,a.toString(),e+" + "+t+" -> "+n),o!=null&&f&&u.is(o,f.getInputState().cursor.start,"Ending cursor position for '"+e+"'")}var r=e("gcli/cli").Requisition,i=e("gcli/canon"),s=e("gclitest/mockCommands"),o=e("gcli/types/javascript"),u=e("test/assert"),a,f;t.setup=function(e){a=o.getGlobalObject(),o.setGlobalObject(e.window),e.display&&(f=e.display.inputter),s.setup()},t.shutdown=function(e){s.shutdown(),f=undefined,o.setGlobalObject(a),a=undefined};var l="complete",c="keyup",h="keydown";t.testComplete=function(e){f||u.log("Missing display, reduced checks"),p("tsela",l,"tselarr ",0),p("tsn di",l,"tsn dif ",0),p("tsg a",l,"tsg aaa ",0),p("tsn e",l,"tsn extend ",-5),p("tsn e",l,"tsn ext ",-4),p("tsn e",l,"tsn exte ",-3),p("tsn e",l,"tsn exten ",-2),p("tsn e",l,"tsn extend ",-1),p("tsn e",l,"tsn ext ",0),p("tsn e",l,"tsn exte ",1),p("tsn e",l,"tsn exten ",2),p("tsn e",l,"tsn extend ",3),p("tsn e",l,"tsn ext ",4),p("tsn e",l,"tsn exte ",5),p("tsn e",l,"tsn exten ",6),p("tsn e",l,"tsn extend ",7),p("tsn e",l,"tsn ext ",8),i.getCommand("{")?(p("{ wind",l,"{ window",0),p("{ window.docum",l,"{ window.document",0),e.isNode?u.log("Running under Node. Skipping tests due to bug 717228."):p("{ window.document.titl",l,"{ window.document.title ",0)):u.log("Skipping exec tests because { is not registered")},t.testInternalComplete=function(e){},t.testIncrDecr=function(){p("tsu -70",c,"tsu -5"),p("tsu -7",c,"tsu -5"),p("tsu -6",c,"tsu -5"),p("tsu -5",c,"tsu -3"),p("tsu -4",c,"tsu -3"),p("tsu -3",c,"tsu 0"),p("tsu -2",c,"tsu 0"),p("tsu -1",c,"tsu 0"),p("tsu 0",c,"tsu 3"),p("tsu 1",c,"tsu 3"),p("tsu 2",c,"tsu 3"),p("tsu 3",c,"tsu 6"),p("tsu 4",c,"tsu 6"),p("tsu 5",c,"tsu 6"),p("tsu 6",c,"tsu 9"),p("tsu 7",c,"tsu 9"),p("tsu 8",c,"tsu 9"),p("tsu 9",c,"tsu 10"),p("tsu 10",c,"tsu 10"),p("tsu 100",c,"tsu -5"),p("tsu -70",h,"tsu 10"),p("tsu -7",h,"tsu 10"),p("tsu -6",h,"tsu 10"),p("tsu -5",h,"tsu -5"),p("tsu -4",h,"tsu -5"),p("tsu -3",h,"tsu -5"),p("tsu -2",h,"tsu -3"),p("tsu -1",h,"tsu -3"),p("tsu 0",h,"tsu -3"),p("tsu 1",h,"tsu 0"),p("tsu 2",h,"tsu 0"),p("tsu 3",h,"tsu 0"),p("tsu 4",h,"tsu 3"),p("tsu 5",h,"tsu 3"),p("tsu 6",h,"tsu 3"),p("tsu 7",h,"tsu 6"),p("tsu 8",h,"tsu 6"),p("tsu 9",h,"tsu 6"),p("tsu 10",h,"tsu 9"),p("tsu 100",h,"tsu 10"),p("tselarr 1",h,"tselarr 2"),p("tselarr 2",h,"tselarr 3"),p("tselarr 3",h,"tselarr 1"),p("tselarr 3",c,"tselarr 2")}}),define("gclitest/testMenu",["require","exports","module","gclitest/helpers","gclitest/mockCommands"],function(e,t,n){var r=e("gclitest/helpers"),i=e("gclitest/mockCommands");t.setup=function(e){i.setup(),r.setup(e)},t.shutdown=function(e){i.shutdown(),r.shutdown(e)},t.testOptions=function(e){r.setInput("tslong"),r.check({input:"tslong",markup:"VVVVVV",status:"ERROR",hints:" <msg> [options]",args:{msg:{value:undefined,status:"INCOMPLETE"},num:{value:undefined,status:"VALID"},sel:{value:undefined,status:"VALID"},bool:{value:!1,status:"VALID"},bool2:{value:!1,status:"VALID"},sel2:{value:undefined,status:"VALID"},num2:{value:undefined,status:"VALID"}}})}}),define("gclitest/testNode",["require","exports","module","test/assert","gclitest/helpers","gclitest/mockCommands"],function(e,t,n){var r=e("test/assert"),i=e("gclitest/helpers"),s=e("gclitest/mockCommands");t.setup=function(e){s.setup(),i.setup(e)},t.shutdown=function(e){s.shutdown(),i.shutdown(e)},t.testNode=function(e){var t=e.display.requisition;i.setInput("tse "),i.check({input:"tse ",hints:"<node> [options]",markup:"VVVV",cursor:4,current:"node",status:"ERROR",args:{command:{name:"tse"},node:{status:"INCOMPLETE",message:""},nodes:{status:"VALID"},nodes2:{status:"VALID"}}}),i.setInput("tse :"),i.check({input:"tse :",hints:" [options]",markup:"VVVVE",cursor:5,current:"node",status:"ERROR",args:{command:{name:"tse"},node:{arg:" :",status:"ERROR",message:"Syntax error in CSS query"},nodes:{status:"VALID"},nodes2:{status:"VALID"}}}),i.setInput("tse :root"),i.check({input:"tse :root",hints:" [options]",markup:"VVVVVVVVV",cursor:9,current:"node",status:"VALID",args:{command:{name:"tse"},node:{arg:" :root",status:"VALID"},nodes:{status:"VALID"},nodes2:{status:"VALID"}}}),i.setInput("tse :root "),i.check({input:"tse :root ",hints:"[options]",markup:"VVVVVVVVVV",cursor:10,current:"node",status:"VALID",args:{command:{name:"tse"},node:{arg:" :root ",status:"VALID"},nodes:{status:"VALID"},nodes2:{status:"VALID"}}}),r.is(t.getAssignment("node").value.tagName,"HTML","root id"),i.setInput("tse #gcli-nomatch"),i.check({input:"tse #gcli-nomatch",hints:" [options]",markup:"VVVVIIIIIIIIIIIII",cursor:17,current:"node",status:"ERROR",args:{command:{name:"tse"},node:{value:undefined,arg:" #gcli-nomatch",status:"INCOMPLETE",message:"No matches"},nodes:{status:"VALID"},nodes2:{status:"VALID"}}}),i.setInput("tse #"),i.check({input:"tse #",hints:" [options]",markup:"VVVVE",cursor:5,current:"node",status:"ERROR",args:{command:{name:"tse"},node:{value:undefined,arg:" #",status:"ERROR",message:"Syntax error in CSS query"},nodes:{status:"VALID"},nodes2:{status:"VALID"}}}),i.setInput("tse ."),i.check({input:"tse .",hints:" [options]",markup:"VVVVE",cursor:5,current:"node",status:"ERROR",args:{command:{name:"tse"},node:{value:undefined,arg:" .",status:"ERROR",message:"Syntax error in CSS query"},nodes:{status:"VALID"},nodes2:{status:"VALID"}}}),i.setInput("tse *"),i.check({input:"tse *",hints:" [options]",markup:"VVVVE",cursor:5,current:"node",status:"ERROR",args:{command:{name:"tse"},node:{value:undefined,arg:" *",status:"ERROR"},nodes:{status:"VALID"},nodes2:{status:"VALID"}}})},t.testNodes=function(e){var t=e.display.requisition;i.setInput("tse :root --nodes *"),i.check({input:"tse :root --nodes *",hints:" [options]",markup:"VVVVVVVVVVVVVVVVVVV",current:"nodes",status:"VALID",args:{command:{name:"tse"},node:{arg:" :root",status:"VALID"},nodes:{arg:" --nodes *",status:"VALID"},nodes2:{status:"VALID"}}}),r.is(t.getAssignment("node").value.tagName,"HTML","#gcli-input id"),i.setInput("tse :root --nodes2 div"),i.check({input:"tse :root --nodes2 div",hints:" [options]",markup:"VVVVVVVVVVVVVVVVVVVVVV",cursor:22,current:"nodes2",status:"VALID",args:{command:{name:"tse"},node:{arg:" :root",status:"VALID"},nodes:{status:"VALID"},nodes2:{arg:" --nodes2 div",status:"VALID"}}}),r.is(t.getAssignment("node").value.tagName,"HTML","root id"),i.setInput("tse --nodes ffff"),i.check({input:"tse --nodes ffff",hints:" <node> [options]",markup:"VVVVIIIIIIIVIIII",cursor:16,current:"nodes",status:"ERROR",outputState:"false:default",tooltipState:"true:isError",args:{command:{name:"tse"},node:{value:undefined,arg:"",status:"INCOMPLETE",message:""},nodes:{value:undefined,arg:" --nodes ffff",status:"INCOMPLETE",message:"No matches"},nodes2:{arg:"",status:"VALID",message:""}}}),i.setInput("tse --nodes2 ffff"),i.check({input:"tse --nodes2 ffff",hints:" <node> [options]",markup:"VVVVVVVVVVVVVVVVV",cursor:17,current:"nodes2",status:"ERROR",outputState:"false:default",tooltipState:"false:default",args:{command:{name:"tse"},node:{value:undefined,arg:"",status:"INCOMPLETE",message:""},nodes:{arg:"",status:"VALID",message:""},nodes2:{arg:" --nodes2 ffff",status:"VALID",message:""}}})}}),define("gclitest/testPref",["require","exports","module","gcli/commands/pref","gclitest/helpers","gclitest/mockSettings","test/assert"],function(e,t,n){var r=e("gcli/commands/pref"),i=e("gclitest/helpers"),s=e("gclitest/mockSettings"),o=e("test/assert");t.setup=function(e){i.setup(e),e.isFirefox?o.log("Skipping testPref in Firefox."):s.setup()},t.shutdown=function(e){i.shutdown(e),e.isFirefox||s.shutdown()},t.testPrefShowStatus=function(e){if(e.isFirefox){o.log("Skipping testPrefShowStatus in Firefox.");return}i.setInput("pref s"),i.check({typed:"pref s",hints:"et",markup:"IIIIVI",status:"ERROR"}),i.setInput("pref show"),i.check({typed:"pref show",hints:" <setting>",markup:"VVVVVVVVV",status:"ERROR"}),i.setInput("pref show "),i.check({typed:"pref show ",hints:"allowSet",markup:"VVVVVVVVVV",status:"ERROR"}),i.setInput("pref show tempTBo"),i.check({typed:"pref show tempTBo",hints:"ol",markup:"VVVVVVVVVVIIIIIII",status:"ERROR"}),i.setInput("pref show tempTBool"),i.check({typed:"pref show tempTBool",markup:"VVVVVVVVVVVVVVVVVVV",status:"VALID",hints:""}),i.setInput("pref show tempTBool 4"),i.check({typed:"pref show tempTBool 4",markup:"VVVVVVVVVVVVVVVVVVVVE",status:"ERROR",hints:""}),i.setInput("pref show tempNumber 4"),i.check({typed:"pref show tempNumber 4",markup:"VVVVVVVVVVVVVVVVVVVVVE",status:"ERROR",hints:""})},t.testPrefSetStatus=function(e){if(e.isFirefox){o.log("Skipping testPrefSetStatus in Firefox.");return}i.setInput("pref s"),i.check({typed:"pref s",hints:"et",markup:"IIIIVI",status:"ERROR"}),i.setInput("pref set"),i.check({typed:"pref set",hints:" <setting> <value>",markup:"VVVVVVVV",status:"ERROR"}),i.setInput("pref xxx"),i.check({typed:"pref xxx",markup:"EEEEVEEE",status:"ERROR"}),i.setInput("pref set "),i.check({typed:"pref set ",hints:"allowSet <value>",markup:"VVVVVVVVV",status:"ERROR"}),i.setInput("pref set tempTBo"),i.check({typed:"pref set tempTBo",hints:"ol <value>",markup:"VVVVVVVVVIIIIIII",status:"ERROR"}),i.setInput("pref set tempTBool 4"),i.check({typed:"pref set tempTBool 4",markup:"VVVVVVVVVVVVVVVVVVVE",status:"ERROR",hints:""}),i.setInput("pref set tempNumber 4"),i.check({typed:"pref set tempNumber 4",markup:"VVVVVVVVVVVVVVVVVVVVV",status:"VALID",hints:""})},t.testPrefExec=function(e){if(e.isFirefox){o.log("Skipping testPrefExec in Firefox.");return}var t=r.allowSet.value;r.allowSet.value=!1,o.is(s.tempNumber.value,42,"set to 42"),i.exec(e,{typed:"pref set tempNumber 4",args:{setting:s.tempNumber,value:4},outputMatch:[/void your warranty/,/I promise/]}),o.is(s.tempNumber.value,42,"still set to 42"),r.allowSet.value=!0,i.exec(e,{typed:"pref set tempNumber 4",args:{setting:s.tempNumber,value:4},blankOutput:!0}),o.is(s.tempNumber.value,4,"set to 4"),i.exec(e,{typed:"pref reset tempNumber",args:{setting:s.tempNumber},blankOutput:!0}),o.is(s.tempNumber.value,42,"reset to 42"),r.allowSet.value=t,i.exec(e,{typed:"pref list tempNum",args:{search:"tempNum"},outputMatch:/Filter/})}}),define("gclitest/mockSettings",["require","exports","module","gcli/settings"],function(e,t,n){var r=e("gcli/settings"),i={name:"tempTBool",type:"boolean",description:"temporary default true boolean",defaultValue:!0};t.tempTBool=undefined;var s={name:"tempFBool",type:"boolean",description:"temporary default false boolean",defaultValue:!1};t.tempFBool=undefined;var o={name:"tempUString",type:"string",description:"temporary default undefined string"};t.tempUString=undefined;var u={name:"tempNString",type:"string",description:"temporary default undefined string",defaultValue:null};t.tempNString=undefined;var a={name:"tempQString",type:"string",description:'temporary default "q" string',defaultValue:"q"};t.tempQString=undefined;var f={name:"tempNumber",type:"number",description:"temporary number",defaultValue:42};t.tempNumber=undefined;var l={name:"tempSelection",type:{name:"selection",data:["a","b","c"]},description:"temporary selection",defaultValue:"a"};t.tempSelection=undefined,t.setup=function(){t.tempTBool=r.addSetting(i),t.tempFBool=r.addSetting(s),t.tempUString=r.addSetting(o),t.tempNString=r.addSetting(u),t.tempQString=r.addSetting(a),t.tempNumber=r.addSetting(f),t.tempSelection=r.addSetting(l)},t.shutdown=function(){r.removeSetting(i),r.removeSetting(s),r.removeSetting(o),r.removeSetting(u),r.removeSetting(a),r.removeSetting(f),r.removeSetting(l),t.tempTBool=undefined,t.tempFBool=undefined,t.tempUString=undefined,t.tempNString=undefined,t.tempQString=undefined,t.tempNumber=undefined,t.tempSelection=undefined}}),define("gclitest/testRequire",["require","exports","module","test/assert","gclitest/requirable"],function(e,t,n){var r=e("test/assert");t.testWorking=function(){var t=e("gclitest/requirable");r.is("thing1",t.thing1),r.is(2,t.thing2),r.ok(t.thing3===undefined)},t.testDomains=function(t){var n=e("gclitest/requirable");r.ok(n.status===undefined),n.setStatus(null),r.is(null,n.getStatus()),r.ok(n.status===undefined),n.setStatus("42"),r.is("42",n.getStatus()),r.ok(n.status===undefined);if(t.isUnamdized){r.log("Running unamdized, Reduced tests");return}if(define.Domain){var i=new define.Domain,s=i.require("gclitest/requirable");r.is(undefined,s.status),r.is("initial",s.getStatus()),s.setStatus(999),r.is(999,s.getStatus()),r.is(undefined,s.status),r.is("42",n.getStatus()),r.is(undefined,n.status)}},t.testLeakage=function(){var t=e("gclitest/requirable");r.ok(t.setup===undefined),r.ok(t.shutdown===undefined),r.ok(t.testWorking===undefined)},t.testMultiImport=function(){var t=e("gclitest/requirable"),n=e("gclitest/requirable");r.is(t,n)},t.testUncompilable=function(){},t.testRecursive=function(){}}),define("gclitest/requirable",["require","exports","module"],function(e,t,n){t.thing1="thing1",t.thing2=2;var r="initial";t.setStatus=function(e){r=e},t.getStatus=function(){return r}}),define("gclitest/testResource",["require","exports","module","gcli/types/resource","gcli/types","test/assert"],function(e,t,n){function a(e,t){var n=t.name,r=t.value,i=e.parseString(n);o.is(i.getStatus(),s.VALID,"status VALID for "+n),o.is(i.value,r,"value for "+n);var u=e.stringify(r);o.is(u,n,"stringify for "+n),o.is(typeof r.loadContents,"function","resource for "+n),o.is(typeof r.element,"object","resource for "+n)}var r=e("gcli/types/resource"),i=e("gcli/types"),s=e("gcli/types").Status,o=e("test/assert"),u;t.setup=function(e){u=r.getDocument(),r.setDocument(e.window.document)},t.shutdown=function(e){r.setDocument(u),u=undefined},t.testPredictions=function(e){if(e.window.isFake||e.isFirefox){o.log("Skipping resource tests: window.isFake || isFirefox");return}var t=i.getType("resource"),n=t.getLookup();o.ok(n.length>1,"have resources"),n.forEach(function(e){a(t,e)});var r=i.getType({name:"resource",include:"text/javascript"}),s=r.getLookup();o.ok(s.length>1,"have resources"),s.forEach(function(e){a(r,e)});var u=i.getType({name:"resource",include:"text/css"}),f=u.getLookup();e.isNode?o.log("Running under Node. Skipping checks due to jsdom document.stylsheets support."):o.ok(f.length>=1,"have resources"),f.forEach(function(e){a(u,e)});var l=i.getType({name:"resource"}),c=l.getLookup();o.is(n.length,c.length,"type spec"),o.is(s.length+f.length,c.length,"split")}}),define("gclitest/testScratchpad",["require","exports","module","test/assert"],function(e,t,n){var r=e("test/assert"),i;t.setup=function(e){e.display&&(i=e.display.inputter.scratchpad,e.display.inputter.scratchpad=s)},t.shutdown=function(e){e.display&&(e.display.inputter.scratchpad=i)};var s={shouldActivate:function(e){return!0},activatedCount:0,linkText:"scratchpad.linkText"};s.activate=function(e){return s.activatedCount++,!0},t.testActivate=function(e){if(!e.display){r.log("No display. Skipping scratchpad tests");return}var t={};s.activatedCount=0,e.display.inputter.onKeyUp(t),r.is(1,s.activatedCount,"scratchpad is activated")}}),define("gclitest/testSettings",["require","exports","module","gclitest/mockSettings","test/assert"],function(e,t,n){var r=e("gclitest/mockSettings"),i=e("test/assert");t.setup=function(e){e.isFirefox?i.log("Skipping testSettings in Firefox."):r.setup()},t.shutdown=function(e){e.isFirefox||r.shutdown()},t.testChange=function(e){function t(e){i.is(e.setting,r.tempTBool,"tempTBool event setting"),i.is(e.value,!1,"tempTBool event value"),i.is(e.setting.value,!1,"tempTBool event setting value")}function n(e){i.is(e.setting,r.tempFBool,"tempFBool event setting"),i.is(e.value,!0,"tempFBool event value"),i.is(e.setting.value,!0,"tempFBool event setting value")}function s(e){i.is(e.setting,r.tempUString,"tempUString event setting"),i.is(e.value,"x","tempUString event value"),i.is(e.setting.value,"x","tempUString event setting value")}function o(e){i.is(e.setting,r.tempNString,"tempNString event setting"),i.is(e.value,"y","tempNString event value"),i.is(e.setting.value,"y","tempNString event setting value")}function u(e){i.is(e.setting,r.tempQString,"tempQString event setting"),i.is(e.value,"qq","tempQString event value"),i.is(e.setting.value,"qq","tempQString event setting value")}function a(e){i.is(e.setting,r.tempNumber,"tempNumber event setting"),i.is(e.value,-1,"tempNumber event value"),i.is(e.setting.value,-1,"tempNumber event setting value")}function f(e){i.is(e.setting,r.tempSelection,"tempSelection event setting"),i.is(e.value,"b","tempSelection event value"),i.is(e.setting.value,"b","tempSelection event setting value")}function l(e){i.is(e.setting,r.tempNString,"tempNString event reset"),i.is(e.value,null,"tempNString event revalue"),i.is(e.setting.value,null,"tempNString event setting revalue")}if(e.isFirefox){i.log("Skipping testPref in Firefox.");return}r.tempTBool.setDefault(),r.tempFBool.setDefault(),r.tempUString.setDefault(),r.tempNString.setDefault(),r.tempQString.setDefault(),r.tempNumber.setDefault(),r.tempSelection.setDefault(),i.is(r.tempTBool.value,!0,"tempTBool default"),i.is(r.tempFBool.value,!1,"tempFBool default"),i.is(r.tempUString.value,undefined,"tempUString default"),i.is(r.tempNString.value,null,"tempNString default"),i.is(r.tempQString.value,"q","tempQString default"),i.is(r.tempNumber.value,42,"tempNumber default"),i.is(r.tempSelection.value,"a","tempSelection default"),r.tempTBool.onChange.add(t),r.tempTBool.value=!1,i.is(r.tempTBool.value,!1,"tempTBool change"),r.tempFBool.onChange.add(n),r.tempFBool.value=!0,i.is(r.tempFBool.value,!0,"tempFBool change"),r.tempUString.onChange.add(s),r.tempUString.value="x",i.is(r.tempUString.value,"x","tempUString change"),r.tempNString.onChange.add(o),r.tempNString.value="y",i.is(r.tempNString.value,"y","tempNString change"),r.tempQString.onChange.add(u),r.tempQString.value="qq",i.is(r.tempQString.value,"qq","tempQString change"),r.tempNumber.onChange.add(a),r.tempNumber.value=-1,i.is(r.tempNumber.value,-1,"tempNumber change"),r.tempSelection.onChange.add(f),r.tempSelection.value="b",i.is(r.tempSelection.value,"b","tempSelection change"),r.tempTBool.onChange.remove(t),r.tempFBool.onChange.remove(n),r.tempUString.onChange.remove(s),r.tempNString.onChange.remove(o),r.tempQString.onChange.remove(u),r.tempNumber.onChange.remove(a),r.tempSelection.onChange.remove(f),r.tempNString.onChange.add(l),r.tempTBool.setDefault(),r.tempFBool.setDefault(),r.tempUString.setDefault(),r.tempNString.setDefault(),r.tempQString.setDefault(),r.tempNumber.setDefault(),r.tempSelection.setDefault(),r.tempNString.onChange.remove(l),i.is(r.tempTBool.value,!0,"tempTBool reset"),i.is(r.tempFBool.value,!1,"tempFBool reset"),i.is(r.tempUString.value,undefined,"tempUString reset"),i.is(r.tempNString.value,null,"tempNString reset"),i.is(r.tempQString.value,"q","tempQString reset"),i.is(r.tempNumber.value,42,"tempNumber reset"),i.is(r.tempSelection.value,"a","tempSelection reset")}}),define("gclitest/testSpell",["require","exports","module","test/assert","gcli/types/spell"],function(e,t,n){var r=e("test/assert"),i=e("gcli/types/spell").Speller;t.setup=function(){},t.shutdown=function(){},t.testSpellerSimple=function(e){if(e.isFirefox){r.log("Skipping testPref in Firefox.");return}var t=new i;t.train(Object.keys(e.window)),r.is(t.correct("document"),"document"),r.is(t.correct("documen"),"document"),r.is(t.correct("ocument"),"document"),r.is(t.correct("odcument"),"document"),r.is(t.correct("========="),null)}}),define("gclitest/testSplit",["require","exports","module","test/assert","gclitest/mockCommands","gcli/cli","gcli/canon"],function(e,t,n){var r=e("test/assert"),i=e("gclitest/mockCommands"),s=e("gcli/cli").Requisition,o=e("gcli/canon");t.setup=function(){i.setup()},t.shutdown=function(){i.shutdown()},t.testSplitSimple=function(){var e,t=new s;e=t._tokenize("s"),t._split(e),r.is(0,e.length),r.is("s",t.commandAssignment.arg.text)},t.testFlatCommand=function(){var e,t=new s;e=t._tokenize("tsv"),t._split(e),r.is(0,e.length),r.is("tsv",t.commandAssignment.value.name),e=t._tokenize("tsv a b"),t._split(e),r.is("tsv",t.commandAssignment.value.name),r.is(2,e.length),r.is("a",e[0].text),r.is("b",e[1].text)},t.testJavascript=function(){if(!o.getCommand("{")){r.log("Skipping testJavascript because { is not registered");return}var e,t=new s;e=t._tokenize("{"),t._split(e),r.is(1,e.length),r.is("",e[0].text),r.is("",t.commandAssignment.arg.text),r.is("{",t.commandAssignment.value.name)}}),define("gclitest/testTokenize",["require","exports","module","test/assert","gcli/cli"],function(e,t,n){var r=e("test/assert"),i=e("gcli/cli").Requisition;t.testBlanks=function(){var e,t=new i;e=t._tokenize(""),r.is(1,e.length),r.is("",e[0].text),r.is("",e[0].prefix),r.is("",e[0].suffix),e=t._tokenize(" "),r.is(1,e.length),r.is("",e[0].text),r.is(" ",e[0].prefix),r.is("",e[0].suffix)},t.testTokSimple=function(){var e,t=new i;e=t._tokenize("s"),r.is(1,e.length),r.is("s",e[0].text),r.is("",e[0].prefix),r.is("",e[0].suffix),r.is("Argument",e[0].type),e=t._tokenize("s s"),r.is(2,e.length),r.is("s",e[0].text),r.is("",e[0].prefix),r.is("",e[0].suffix),r.is("Argument",e[0].type),r.is("s",e[1].text),r.is(" ",e[1].prefix),r.is("",e[1].suffix),r.is("Argument",e[1].type)},t.testJavascript=function(){var e,t=new i;e=t._tokenize("{x}"),r.is(1,e.length),r.is("x",e[0].text),r.is("{",e[0].prefix),r.is("}",e[0].suffix),r.is("ScriptArgument",e[0].type),e=t._tokenize("{ x }"),r.is(1,e.length),r.is("x",e[0].text),r.is("{ ",e[0].prefix),r.is(" }",e[0].suffix),r.is("ScriptArgument",e[0].type),e=t._tokenize("{x} {y}"),r.is(2,e.length),r.is("x",e[0].text),r.is("{",e[0].prefix),r.is("}",e[0].suffix),r.is("ScriptArgument",e[0].type),r.is("y",e[1].text),r.is(" {",e[1].prefix),r.is("}",e[1].suffix),r.is("ScriptArgument",e[1].type),e=t._tokenize("{x}{y}"),r.is(2,e.length),r.is("x",e[0].text),r.is("{",e[0].prefix),r.is("}",e[0].suffix),r.is("ScriptArgument",e[0].type),r.is("y",e[1].text),r.is("{",e[1].prefix),r.is("}",e[1].suffix),r.is("ScriptArgument",e[1].type),e=t._tokenize("{"),r.is(1,e.length),r.is("",e[0].text),r.is("{",e[0].prefix),r.is("",e[0].suffix),r.is("ScriptArgument",e[0].type),e=t._tokenize("{ "),r.is(1,e.length),r.is("",e[0].text),r.is("{ ",e[0].prefix),r.is("",e[0].suffix),r.is("ScriptArgument",e[0].type),e=t._tokenize("{x"),r.is(1,e.length),r.is("x",e[0].text),r.is("{",e[0].prefix),r.is("",e[0].suffix),r.is("ScriptArgument",e[0].type)},t.testRegularNesting=function(){var e,t=new i;e=t._tokenize('{"x"}'),r.is(1,e.length),r.is('"x"',e[0].text),r.is("{",e[0].prefix),r.is("}",e[0].suffix),r.is("ScriptArgument",e[0].type),e=t._tokenize("{'x'}"),r.is(1,e.length),r.is("'x'",e[0].text),r.is("{",e[0].prefix),r.is("}",e[0].suffix),r.is("ScriptArgument",e[0].type),e=t._tokenize('"{x}"'),r.is(1,e.length),r.is("{x}",e[0].text),r.is('"',e[0].prefix),r.is('"',e[0].suffix),r.is("Argument",e[0].type),e=t._tokenize("'{x}'"),r.is(1,e.length),r.is("{x}",e[0].text),r.is("'",e[0].prefix),r.is("'",e[0].suffix),r.is("Argument",e[0].type)},t.testDeepNesting=function(){var e,t=new i;e=t._tokenize("{{}}"),r.is(1,e.length),r.is("{}",e[0].text),r.is("{",e[0].prefix),r.is("}",e[0].suffix),r.is("ScriptArgument",e[0].type),e=t._tokenize("{{x} {y}}"),r.is(1,e.length),r.is("{x} {y}",e[0].text),r.is("{",e[0].prefix),r.is("}",e[0].suffix),r.is("ScriptArgument",e[0].type),e=t._tokenize("{{w} {{{x}}}} {y} {{{z}}}"),r.is(3,e.length),r.is("{w} {{{x}}}",e[0].text),r.is("{",e[0].prefix),r.is("}",e[0].suffix),r.is("ScriptArgument",e[0].type),r.is("y",e[1].text),r.is(" {",e[1].prefix),r.is("}",e[1].suffix),r.is("ScriptArgument",e[1].type),r.is("{{z}}",e[2].text),r.is(" {",e[2].prefix),r.is("}",e[2].suffix),r.is("ScriptArgument",e[2].type),e=t._tokenize("{{w} {{{x}}} {y} {{{z}}}"),r.is(1,e.length),r.is("{w} {{{x}}} {y} {{{z}}}",e[0].text),r.is("{",e[0].prefix),r.is("",e[0].suffix),r.is("ScriptArgument",e[0].type)},t.testStrangeNesting=function(){var e,t=new i;e=t._tokenize('{"x}"}'),r.is(2,e.length),r.is('"x',e[0].text),r.is("{",e[0].prefix),r.is("}",e[0].suffix),r.is("ScriptArgument",e[0].type),r.is("}",e[1].text),r.is('"',e[1].prefix),r.is("",e[1].suffix),r.is("Argument",e[1].type)},t.testComplex=function(){var e,t=new i;e=t._tokenize(" 1234  '12 34'"),r.is(2,e.length),r.is("1234",e[0].text),r.is(" ",e[0].prefix),r.is("",e[0].suffix),r.is("Argument",e[0].type),r.is("12 34",e[1].text),r.is("  '",e[1].prefix),r.is("'",e[1].suffix),r.is("Argument",e[1].type),e=t._tokenize('12\'34 "12 34" \\'),r.is(3,e.length),r.is("12'34",e[0].text),r.is("",e[0].prefix),r.is("",e[0].suffix),r.is("Argument",e[0].type),r.is("12 34",e[1].text),r.is(' "',e[1].prefix),r.is('"',e[1].suffix),r.is("Argument",e[1].type),r.is("\\",e[2].text),r.is(" ",e[2].prefix),r.is("",e[2].suffix),r.is("Argument",e[2].type)},t.testPathological=function(){var e,t=new i;e=t._tokenize("a\\ b \\t\\n\\r \\'x\\\" 'd"),r.is(4,e.length),r.is("a b",e[0].text),r.is("",e[0].prefix),r.is("",e[0].suffix),r.is("Argument",e[0].type),r.is("	\n\r",e[1].text),r.is(" ",e[1].prefix),r.is("",e[1].suffix),r.is("Argument",e[1].type),r.is("'x\"",e[2].text),r.is(" ",e[2].prefix),r.is("",e[2].suffix),r.is("Argument",e[2].type),r.is("d",e[3].text),r.is(" '",e[3].prefix),r.is("",e[3].suffix),r.is("Argument",e[3].type)}}),define("gclitest/testTooltip",["require","exports","module","test/assert","gclitest/mockCommands"],function(e,t,n){function s(e,t,n){var i=n.display.inputter,s=n.display.tooltip;i.setInput(e),t.cursor&&i.setCursor({start:t.cursor,end:t.cursor});if(!n.isNode){t.important?r.ok(s.field.isImportant,"Important for "+e):r.ok(!s.field.isImportant,"Not important for "+e);if(t.options){var o=s.field.menu.items.map(function(e){return e.name.textContent?e.name.textContent:e.name});r.is(t.options.join("|"),o.join("|"),"Options for "+e)}t.error?r.is(t.error,s.errorEle.textContent,"Error for "+e):r.is("",s.errorEle.textContent,"No error for "+e)}}var r=e("test/assert"),i=e("gclitest/mockCommands");t.setup=function(){i.setup()},t.shutdown=function(){i.shutdown()},t.testActivate=function(e){if(!e.display){r.log("No display. Skipping activate tests");return}e.isNode&&r.log("Running under Node. Reduced checks due to JSDom.textContent"),s(" ",{},e),s("tsb ",{important:!0,options:["false","true"]},e),s("tsb t",{important:!0,options:["true"]},e),s("tsb tt",{important:!0,options:[],error:"Can't use 'tt'."},e),s("asdf",{important:!1,options:[],error:"Can't use 'asdf'."},e),s("",{},e)}}),define("gclitest/testTypes",["require","exports","module","test/assert","gcli/types"],function(e,t,n){function s(e,t){i.getTypeNames().forEach(function(n){e.name=n,n==="selection"?e.data=["a","b"]:n==="deferred"?e.defer=function(){return i.getType("string")}:n==="array"&&(e.subtype="string");var r=i.getType(e);t(r)})}var r=e("test/assert"),i=e("gcli/types");t.setup=function(){},t.shutdown=function(){},t.testDefault=function(e){if(e.isNode){r.log("Running under Node. Skipping tests due to issues with resource type.");return}s({},function(e){var t=e.getBlank().value;e.name==="boolean"?r.is(t,!1,"blank boolean is false"):e.name==="array"?(r.ok(Array.isArray(t),"blank array is array"),r.is(t.length,0,"blank array is empty")):e.name==="nodelist"?(r.ok(typeof t.item,"function","blank.item is function"),r.is(t.length,0,"blank nodelist is empty")):r.is(t,undefined,"default defined for "+e.name)})},t.testNullDefault=function(e){s({defaultValue:null},function(e){r.is(e.stringify(null),"","stringify(null) for "+e.name)})}}),define("gclitest/testUtil",["require","exports","module","gcli/util","test/assert"],function(e,t,n){var r=e("gcli/util"),i=e("test/assert");t.testFindCssSelector=function(e){if(e.window.isFake){i.log("Skipping dom.findCssSelector tests due to window.isFake");return}var t=e.window.document.querySelectorAll("*");for(var n=0;n<t.length;n++){var s=r.findCssSelector(t[n]),o=e.window.document.querySelectorAll(s);i.is(o.length,1,"multiple matches for "+s),i.is(o[0],t[n],"non-matching selector: "+s)}}}),define("text!/gcli/commands/pref_list_edit.png",[],"data:image/png;base64,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"),define("text!/gcli/ui/images/closer.png",[],"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAj9JREFUeNp0ks+LUlEUx7/vV1o8Z8wUx3IEHcQmiBiQlomjRNCiZpEuEqF/oEUwq/6EhvoHggmRcJUQBM1CRJAW0aLIaGQimZJxJsWxyV/P9/R1zzWlFl04vPvOPZ9z7rnnK5imidmKRCIq+zxgdoPZ1T/ut8xeM3tcKpW6s1hhBkaj0Qj7bDebTX+324WmadxvsVigqipcLleN/d4rFoulORiLxTZY8ItOp8MBCpYkiYPj8Xjus9vtlORWoVB4KcTjcQc732dLpSRXvCZaAws6Q4WDdqsO52kNH+oCRFGEz+f7ydwBKRgMPmTXi49GI1x2D/DsznesB06ws2eDbI7w9HYN6bVjvGss4KAjwDAMq81mM2SW5Wa/3weBbz42UL9uYnVpiO2Nr9ANHSGXib2Wgm9tCYIggGKJEVkvlwgi5/FQRmTLxO6hgJVzI1x0T/fJrBtHJxPeL6tI/fsZLA6ot8lkQi8HRVbw94gkWYI5MaHrOjcCGSNRxZosy9y5cErDzn0Dqx7gcwO8WtBp4PndI35GMYqiUMUvBL5yOBz8yRfFNpbPmqgcCFh/IuHa1nR/YXGM8+oUpFhihEQiwcdRLpfVRqOBtWXWq34Gra6AXq8Hp2piZcmKT4cKnE4nwuHwdByVSmWQz+d32WCTlHG/qaHHREN9kgi0sYQfv0R4PB4EAgESQDKXy72fSy6VSnHJVatVf71eR7vd5n66mtfrRSgU4pLLZrOlf7RKK51Ok8g3/yPyR5lMZi7y3wIMAME4EigHWgKnAAAAAElFTkSuQmCC"),define("text!/gcli/ui/images/dot_clear.gif",[],"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAEBMgA7"),define("text!/gcli/ui/images/minus.png",[],"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAAZiS0dEANIA0gDS7KbF4AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9kFGw4xMrIJw5EAAAHcSURBVCjPhZIxSxtxGMZ/976XhJA/RA5EAyJcFksnp64hjUPBoXRyCYLQTyD0UxScu0nFwalCQSgFCVk7dXAwUAiBDA2RO4W7yN1x9+9gcyhU+pteHt4H3pfncay1LOl0OgY4BN4Ar/7KP4BvwNFwOIyWu87S2O12O8DxfD73oygiSRIAarUaxhhWV1fHwMFgMBiWxl6v9y6Koi+3t7ckSUKtVkNVAcjzvNRWVlYwxry9vLz86uzs7HjAZDKZGGstjUaDfxHHMSLC5ubmHdB2VfVwNpuZ5clxHPMcRVFwc3PTXFtbO3RFZHexWJCmabnweAaoVqvlv4vFAhHZdVX1ZZqmOI5DURR8fz/lxbp9Yrz+7bD72SfPcwBU1XdF5N5aWy2KgqIoeBzPEnWVLMseYnAcRERdVR27rrsdxzGqyutP6898+GBsNBqo6i9XVS88z9sOggAR4X94noeqXoiIHPm+H9XrdYIgIAxDwjAkTVPCMESzBy3LMprNJr7v34nIkV5dXd2fn59fG2P2siwjSRIqlQrWWlSVJFcqlQqtVot2u40xZu/s7OxnWbl+v98BjkejkT+dTgmCoDxtY2ODra2tMXBweno6fNJVgP39fQN8eKbkH09OTsqS/wHFRdHPfTSfjwAAAABJRU5ErkJggg=="),define("text!/gcli/ui/images/pinaction.png",[],"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAC7mlDQ1BJQ0MgUHJvZmlsZQAAeAGFVM9rE0EU/jZuqdAiCFprDrJ4kCJJWatoRdQ2/RFiawzbH7ZFkGQzSdZuNuvuJrWliOTi0SreRe2hB/+AHnrwZC9KhVpFKN6rKGKhFy3xzW5MtqXqwM5+8943731vdt8ADXLSNPWABOQNx1KiEWlsfEJq/IgAjqIJQTQlVdvsTiQGQYNz+Xvn2HoPgVtWw3v7d7J3rZrStpoHhP1A4Eea2Sqw7xdxClkSAog836Epx3QI3+PY8uyPOU55eMG1Dys9xFkifEA1Lc5/TbhTzSXTQINIOJT1cVI+nNeLlNcdB2luZsbIEL1PkKa7zO6rYqGcTvYOkL2d9H5Os94+wiHCCxmtP0a4jZ71jNU/4mHhpObEhj0cGDX0+GAVtxqp+DXCFF8QTSeiVHHZLg3xmK79VvJKgnCQOMpkYYBzWkhP10xu+LqHBX0m1xOv4ndWUeF5jxNn3tTd70XaAq8wDh0MGgyaDUhQEEUEYZiwUECGPBoxNLJyPyOrBhuTezJ1JGq7dGJEsUF7Ntw9t1Gk3Tz+KCJxlEO1CJL8Qf4qr8lP5Xn5y1yw2Fb3lK2bmrry4DvF5Zm5Gh7X08jjc01efJXUdpNXR5aseXq8muwaP+xXlzHmgjWPxHOw+/EtX5XMlymMFMXjVfPqS4R1WjE3359sfzs94i7PLrXWc62JizdWm5dn/WpI++6qvJPmVflPXvXx/GfNxGPiKTEmdornIYmXxS7xkthLqwviYG3HCJ2VhinSbZH6JNVgYJq89S9dP1t4vUZ/DPVRlBnM0lSJ93/CKmQ0nbkOb/qP28f8F+T3iuefKAIvbODImbptU3HvEKFlpW5zrgIXv9F98LZua6N+OPwEWDyrFq1SNZ8gvAEcdod6HugpmNOWls05Uocsn5O66cpiUsxQ20NSUtcl12VLFrOZVWLpdtiZ0x1uHKE5QvfEp0plk/qv8RGw/bBS+fmsUtl+ThrWgZf6b8C8/UXAeIuJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAClklEQVQ4EX1TXUhUQRQ+Z3Zmd+9uN1q2P3UpZaEwcikKekkqLKggKHJ96MHe9DmLkCDa9U198Id8kErICmIlRAN96UdE6QdBW/tBA5Uic7E0zN297L17p5mb1zYjD3eYc+d83zlnON8g5xzWNUSEdUBkHTJasRWySPP7fw3hfwkk2GoNsc0vOaJRHo1GV/GiMctkTIJRFlpZli8opK+htmf83gXeG63oteOtra0u25e7TYJIJELb26vYCACTgUe1lXV86BTn745l+MsyHqs53S/Aq4VEUa9Y6ko14eYY4u3AyM3HYwdKU35DZyblGR2+qq6W0X2Nnh07xynnVYpHORx/E1/GvvqaAZUayjMjdM2f/Lgr5E+fV93zR4u3zKCLughsZqKwAzAxaz6dPY6JgjLUF+eSP5OpjmAw2E8DvldHSvJMKPg08aRor1tc4BuALu6mOwGWdQC3mKIqRsC8mKd8wYfD78/earzSYzdMDW9QgKb0Is8CBY1mQXOiaXAHEpMDE5XTJqIq4EiyxUqKlpfkF0pyV1OTAoFAhmTmyCCoDsZNZvIkUjELQpipo0sQqYZAswZHwsEEE10M0pq2SSZY9HqNcDicJcNTpBvQJz40UbSOTh1B8bDpuY0w9Hb3kkn9lPAlBLfhfD39XTtX/blFJqiqrjbkTi63Hbofj2uL4GMsmzFgbDJ/vmMgv/lB4syJ0oXO7d3j++vio6GFsYmD6cHJreWc3/jRVVHhsOYvM8iZ36mtjPDBk/xDZE8CoHlbrlAssbTxDdDJvdb536L7I6S7Vy++6Gi4Xi9BsUthJRaLOYSPz4XALKI4j4iObd/e5UtDKUjZzYyYRyGAJv01Zj8kC5cbs5WY83hQnv0DzCXl+r8APElkq0RU6oMAAAAASUVORK5CYII="),define("text!/gcli/ui/images/pinin.png",[],"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAC7mlDQ1BJQ0MgUHJvZmlsZQAAeAGFVM9rE0EU/jZuqdAiCFprDrJ4kCJJWatoRdQ2/RFiawzbH7ZFkGQzSdZuNuvuJrWliOTi0SreRe2hB/+AHnrwZC9KhVpFKN6rKGKhFy3xzW5MtqXqwM5+8943731vdt8ADXLSNPWABOQNx1KiEWlsfEJq/IgAjqIJQTQlVdvsTiQGQYNz+Xvn2HoPgVtWw3v7d7J3rZrStpoHhP1A4Eea2Sqw7xdxClkSAog836Epx3QI3+PY8uyPOU55eMG1Dys9xFkifEA1Lc5/TbhTzSXTQINIOJT1cVI+nNeLlNcdB2luZsbIEL1PkKa7zO6rYqGcTvYOkL2d9H5Os94+wiHCCxmtP0a4jZ71jNU/4mHhpObEhj0cGDX0+GAVtxqp+DXCFF8QTSeiVHHZLg3xmK79VvJKgnCQOMpkYYBzWkhP10xu+LqHBX0m1xOv4ndWUeF5jxNn3tTd70XaAq8wDh0MGgyaDUhQEEUEYZiwUECGPBoxNLJyPyOrBhuTezJ1JGq7dGJEsUF7Ntw9t1Gk3Tz+KCJxlEO1CJL8Qf4qr8lP5Xn5y1yw2Fb3lK2bmrry4DvF5Zm5Gh7X08jjc01efJXUdpNXR5aseXq8muwaP+xXlzHmgjWPxHOw+/EtX5XMlymMFMXjVfPqS4R1WjE3359sfzs94i7PLrXWc62JizdWm5dn/WpI++6qvJPmVflPXvXx/GfNxGPiKTEmdornIYmXxS7xkthLqwviYG3HCJ2VhinSbZH6JNVgYJq89S9dP1t4vUZ/DPVRlBnM0lSJ93/CKmQ0nbkOb/qP28f8F+T3iuefKAIvbODImbptU3HvEKFlpW5zrgIXv9F98LZua6N+OPwEWDyrFq1SNZ8gvAEcdod6HugpmNOWls05Uocsn5O66cpiUsxQ20NSUtcl12VLFrOZVWLpdtiZ0x1uHKE5QvfEp0plk/qv8RGw/bBS+fmsUtl+ThrWgZf6b8C8/UXAeIuJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZ0lEQVQ4Ea2TPUsDQRCGZ89Eo4FACkULEQs1CH4Uamfjn7GxEYJFIFXgChFsbPwzNnZioREkaiHBQtEiEEiMRm/dZ8OEGAxR4sBxx877Pju7M2estTJIxLrNuVwuMxQEx0ZkzcFHyRtjXt02559RtB2GYanTYzoryOfz+6l4Nbszf2niwffKmpGRo9sVW22mDgqFwp5C2gDMm+P32a3JB1N+n5JifUGeP9JeNxGryPLYjcwMP8rJ07Q9fZltQzyAstOJ2vVu5sKc1ZZkRBrOcKeb+HexPidvkpCN5JUcllZtpZFc5DgBWc5M2eysZuMuofMBSA4NWjx4PUCsXefMlI0QY3ewRg4NWi4ZTQsgrjYXema+e4VqtEMK6KXvu+4B9Bklt90vVKMeD2BI6DOt4rZ/Gk7WyKFBi4fNPIAJY0joM61SCCZ9tI1o0OIB8D+DBIkYaJRbCBH9mZgNt+bb++ufSSF/eX8BYcDeAzuQJVUAAAAASUVORK5CYII="),define("text!/gcli/ui/images/pinout.png",[],"data:image/png;base64,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"),define("text!/gcli/ui/images/pins.png",[],"data:image/png;base64,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"),define("text!/gcli/ui/images/plus.png",[],"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAAZiS0dEANIA0gDS7KbF4AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9kFGw4yFTwuJTkAAAH7SURBVCjPdZKxa1NRFMZ/956XZMgFyyMlCZRA4hBx6lBcQ00GoYi4tEstFPwLAs7iLDi7FWuHThaUggihBDI5OWRoQAmBQFISQgvvpbwX3rsOaR4K+o2H8zvfOZxPWWtZqVarGaAJPAEe3ZW/A1+Bd+1221v1qhW4vb1dA44mk0nZ8zyCIAAgk8lgjGF9fb0PHF5cXLQTsF6vP/c879P19TVBEJDJZBARAKIoSmpra2sYY561Wq3PqtFouMBgMBgYay3ZbJZ/yfd9tNaUSqUboOKISPPq6sqsVvZ9H4AvL34B8PTj/QSO45jpdHovn883Ha31znw+JwzDpCEMQx4UloM8zyOdTif3zudztNY7jog8DMMQpRRxHPPt5TCBAEZvxlyOFTsfykRRBICIlB2t9a21Nh3HMXEc8+d7VhJHWCwWyzcohdZaHBHpO46z6fs+IsLj94XECaD4unCHL8FsNouI/HRE5Nx13c3ZbIbWOnG5HKtl+53TSq7rIiLnand31wUGnU7HjEYjlFLJZN/3yRnL1FMYY8jlcmxtbd0AFel2u7dnZ2eXxpi9xWJBEASkUimstYgIQSSkUimKxSKVSgVjzN7p6emPJHL7+/s14KjX65WHwyGz2SxZbWNjg2q12gcOT05O2n9lFeDg4MAAr/4T8rfHx8dJyH8DvvbYGzKvWukAAAAASUVORK5CYII="),define("text!/gcli/ui/images/throbber.gif",[],"data:image/gif;base64,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")